<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="hrv1507149150084" id="hrv1507149150084"><h1 class="title topictitle1" id="ariaid-title1">GLM (ML Engine)</h1><div class="body conbody">
<p class="p">The generalized linear model (GLM) is an extension of the linear regression model that enables the linear equation to relate to the dependent variables by a link function. The GLM function supports several distribution families and associated link functions.</p>
<p class="p">You can input the output table to the function <a href="rgh1541529239182.md#xaz1507155725845">GLMPredict_MLE (ML Engine)</a>.</p>
<p class="p">The GLM function implementation uses the Fisher Scoring Algorithm, which scales better than the least-squares algorithm that the glm() function in the R package stats uses. The results of the two algorithms usually match closely. However, when the input data is highly skewed or has a large variance, the Fisher Scoring Algorithm can diverge, and you must use data set knowledge and trial and error to select the optimal family and link functions.</p>
<p class="p">If the predictors are collinear, Teradata recommends using GLML1L2 with regularization parameters.</p><div class="p">For more information about generalized linear models, see:
<ul class="ul" id="hrv1507149150084__ul_cbc_1mj_mbb">
<li class="li">Dobson, A.J.; Barnett, A.G. (2008). <cite class="cite">Introduction to Generalized Linear Models</cite> (3rd ed.). Boca Raton, FL: Chapman and Hall/CRC. ISBN 1-58488-165-8.</li>
<li class="li">Hardin, James; Hilbe, Joseph (2007). <cite class="cite">Generalized Linear Models and Extensions</cite> (2nd ed.). College Station: Stata Press. ISBN 1-59718-014-9.</li></ul></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="fry1558121496793.md#vio1507671576104">LikelihoodRatioTest (ML Engine)</a></div></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="blr1507149321203" xml:lang="en-us" lang="en-us" id="blr1507149321203">
<h2 class="title topictitle2" id="ariaid-title2">GLM Syntax</h2><div class="body refbody"><div class="section" id="blr1507149321203__section_N10073_N10022_N10001">
<h3 class="title sectiontitle">Version ?</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GLM (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  USING
  [ TargetColumns ({ '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,... ]) ]
  [ CategoricalColumns ('<var class="keyword varname">columnname_value_pair</var>'[,...]) ]
  [ Family ('<var class="keyword varname">family</var>') ]
  [ LinkFunction ('<var class="keyword varname">link</var>') ]
  [ WeightColumn ('<var class="keyword varname">weight_column</var>') ]
  [ StopThreshold (<var class="keyword varname">threshold</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ Intercept (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="cws1507149433550" xml:lang="en-us" lang="en-us" id="cws1507149433550">
<h2 class="title topictitle2" id="ariaid-title3">GLM Syntax Elements</h2><div class="body refbody"><div class="section" id="cws1507149433550__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">Specify the name for the output table of coefficients. This table must not exist.</dd><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">[Optional] Specify the name of the column that contains the dependent variable (Y) followed by the names of the columns that contain the predictor variables (X<span><sub>i</sub></span>), in this format: 'Y,X<span><sub>1</sub></span>,X<span><sub>2</sub></span>,...,X<span><sub>p</sub></span>'.</dd><dd class="dd pd ddexpand">Default behavior: The first column of the InputTable is Y and the remaining InputTable columns are X<span><sub>i</sub></span>, except for the column specified by the WeightColumn syntax element.</dd><dt class="dt pt dlterm">CategoricalColumns</dt><dd class="dd pd">[Optional] Specify columnname-value pairs, each of which contains the name of a categorical input column and the category values in that column that the function is to include in the model that it creates.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cws1507149433550__table_igz_wpy_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d73893e215" rowspan="1" colspan="1"><var class="keyword varname">columnname_value_pair</var></th><th class="entry cellrowborder" style="vertical-align:top;" id="d73893e218" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e215" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">columnname</var>:<var class="keyword varname">max_cardinality</var>'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e218" rowspan="1" colspan="1">Limits categories in column to <var class="keyword varname">max_cardinality</var> to most common ones and groups others together as 'others'.
<p class="p">For example, 'column_a:3' specifies that for column_a, function uses 3 most common categories and sets category of rows that do not belong to those 3 categories to 'others'.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e215" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">columnname</var>:(<var class="keyword varname">category</var> [,...])'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e218" rowspan="1" colspan="1">Limits categories in column to those that you specify and groups others together as 'others'.
<p class="p">For example, 'column_a : (red, yellow, blue)' specifies that for column_a, function uses categories red, yellow, and blue, and sets category of rows that do not belong to those categories to 'others'.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e215" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">columnname</var>'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d73893e218" rowspan="1" colspan="1">All category values appear in model.</td></tr></tbody></table></div></dd><dd class="dd pd ddexpand">If you specify the TargetColumns syntax element, the columns that you specify in the CategoricalColumns syntax element must also appear in the TargetColumns syntax element.</dd><dd class="dd pd ddexpand">For information about columns that you must identify as numeric or categorical, see <a href="uxa1540574678350.md">Identification of Numeric and Categorical Columns</a>.</dd><dt class="dt pt dlterm">Family</dt><dd class="dd pd">[Optional] Specify the distribution exponential family, which is one of the following:
<ul class="ul" id="cws1507149433550__ul_yzc_md2_nx">
<li class="li">'BINOMIAL' (Default)</li>
<li class="li">'LOGISTIC' (equivalent to 'BINOMIAL')</li>
<li class="li">'POISSON'</li>
<li class="li">'GAUSSIAN'</li>
<li class="li">'GAMMA'</li>
<li class="li">'INVERSE_GAUSSIAN'</li>
<li class="li">'NEGATIVE_BINOMIAL'</li></ul></dd><dd class="dd pd ddexpand">For Binomial/Logistic and Gaussian applications with high collinearity, Teradata recommends using <a href="mxy1558472465230.md#fgw1518542561108">GLML1L2 (ML Engine)</a> with regularization parameters instead of GLM. GLML1L2 is expected to provide better performance and accuracy.</dd><dt class="dt pt dlterm">LinkFunction</dt><dd class="dd pd">[Optional] Specify the link function.</dd><dd class="dd pd ddexpand">Default: 'CANONICAL'. The canonical link functions (default link functions) and the link functions that are allowed for each exponential family are listed in the tables in <a href="ewh1563913874279.md">Supported Family/Link Function Combinations</a>.</dd><dt class="dt pt dlterm">WeightColumn</dt><dd class="dd pd">[Optional] Specify the name of an InputTable column that contains the weights to assign to responses.</dd><dd class="dd pd ddexpand">You can use non-NULL weights to indicate that different observations have different dispersions (with the weights being inversely proportional to the dispersions). Equivalently, when the weights are positive integers w<span><sub>i</sub></span>, each response y<span><sub>i</sub></span> is the mean of w<span><sub>i</sub></span> unit-weight observations. A binomial GLM uses prior weights to give the number of trials when the response is the proportion of successes. A Poisson GLM rarely uses weights.</dd><dd class="dd pd ddexpand">If the weight is less than the response value, the function throws an exception. Therefore, if the response value is greater than 1, you must specify a weight that is greater than or equal to the response value.</dd><dd class="dd pd ddexpand">Default behavior: All observations have equal weight.</dd><dt class="dt pt dlterm">StopThreshold</dt><dd class="dd pd">[Optional] Specify the convergence threshold.</dd><dd class="dd pd ddexpand">Default: 0.01</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the maximum number of iterations that the algorithm runs before quitting if the convergence threshold has not been met. The parameter <var class="keyword varname">max_iterations</var> must be a positive INTEGER value.</dd><dd class="dd pd ddexpand">Default: 25</dd><dt class="dt pt dlterm">Intercept</dt><dd class="dd pd">[Optional] Specify whether the function uses an intercept. For example, in ß0+ß1*X1+ß2*X2+ ....+ ßpXp, the intercept is ß0.</dd><dd class="dd pd ddexpand">Default: 'true'</dd></dl></div></div></div></div>
