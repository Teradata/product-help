<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="opv1506617942042" id="opv1506617942042"><h1 class="title topictitle1" id="ariaid-title1">Sessionize_MLE (ML Engine)</h1><div class="body conbody">
<p class="p">The Sessionize_MLE function maps each click in a session to a unique session identifier. A <dfn class="term">session</dfn> is defined as a sequence of clicks by one user that are separated by at most <var class="keyword varname">n</var> seconds.</p>
<p class="p">The function is useful both for sessionization and for detecting web crawler (bot) activity. It is typically used to understand user browsing behavior on a web site.</p>
<p class="p">Sessionize_MLE is a <span><b>SQL</b></span> function. Sample code is included with the Teradata SQLMapReduce Java API.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="qcd1506618001059" xml:lang="en-us" lang="en-us" id="qcd1506618001059">
<h2 class="title topictitle2" id="ariaid-title2">Sessionize_MLE Syntax</h2><div class="body refbody"><div class="section" id="qcd1506618001059__section_N10091_N10022_N10001">
<h3 class="title sectiontitle">Version ?</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Sessionize_MLE (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY <var class="keyword varname">expression</var> [,...] ORDER BY <var class="keyword varname">order_column</var> [,...]
  USING
  TimeColumn ('<var class="keyword varname">timestamp_column</var>')
  TimeOut (<var class="keyword varname">session_timeout</var>)
  [ ClickLag (<var class="keyword varname">min_human_click_lag</var>) ]
  [ EmitNull (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>)]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="pwm1506618071875" xml:lang="en-us" lang="en-us" id="pwm1506618071875">
<h2 class="title topictitle2" id="ariaid-title3">Sessionize_MLE Syntax Elements</h2><div class="body refbody"><div class="section" id="pwm1506618071875__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the name of the input column that contains the click times.</dd><dd class="dd pd ddexpand">The <var class="keyword varname">timestamp_column</var> must also be an <var class="keyword varname">order_column</var>.</dd><dt class="dt pt dlterm">TimeOut</dt><dd class="dd pd">Specify the number of seconds at which the session times out. If session_timeout seconds elapse after a click, the next click starts a new session. The data type of session_timeout is DOUBLE PRECISION.</dd><dt class="dt pt dlterm">ClickLag</dt><dd class="dd pd">[Optional] Specify the minimum number of seconds between clicks for the session user to be considered human. If clicks are more frequent, indicating that the user is a bot, the function ignores the session. The <var class="keyword varname">min_human_click_lag</var> must be less than <var class="keyword varname">session_timout</var>. The data type of <var class="keyword varname">min_human_click_lag</var> is DOUBLE PRECISION.</dd><dd class="dd pd ddexpand">Default behavior: The function ignores no session, regardless of click frequency.</dd><dt class="dt pt dlterm">EmitNull</dt><dd class="dd pd">[Optional] Specify whether to output rows that have NULL values in their session id and rapid fire columns, even if their <var class="keyword varname">timestamp_column</var> has a NULL value.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the input table columns to copy to the output table.</dd><dd class="dd pd ddexpand">Default: Every input table column</dd></dl></div></div></div></div>
