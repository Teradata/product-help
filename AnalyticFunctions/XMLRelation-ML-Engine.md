<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="gvy1507819181878" id="gvy1507819181878"><h1 class="title topictitle1" id="ariaid-title1">XMLRelation (ML Engine)</h1><div class="body conbody">
<p class="p">The XMLRelation function takes XML documents and outputs their element
			names, attribute values, text, and structural information in a relational table, which
			you can search with SQL queries. The function maintains multilevel paths from the input
			XML documents to the XML elements.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="cyv1507819228501" xml:lang="en-us" lang="en-us" id="cyv1507819228501">
<h2 class="title topictitle2" id="ariaid-title2">XMLRelation Syntax</h2><div class="body refbody"><div class="section" id="cyv1507819228501__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.9</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM XMLRelation (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  TextColumn ('<var class="keyword varname">text_column</var>')
  DocIDColumns ({ '<var class="keyword varname">docid_column</var>' | <var class="keyword varname">docid_column_range</var> }[,...])
  [ MaxDepth (<var class="keyword varname">max_depth</var>) ]
  [ ExcludeElements ('<var class="keyword varname">node</var>[/<var class="keyword varname">...</var>][{<var class="keyword varname">node</var>[,...]}]' [,...]) ]
  [ AttributeAsNode (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  [ AttributeDelimiter ('<var class="keyword varname">delimiter</var>') ]
  [ OutputType ({ 'fullpath' | 'fulldata' | 'parentchild' }) ]
  [ ErrorHandler ('<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>[;[<var class="keyword varname">output_column</var>:] <var class="keyword varname">column</var>[,...] ]') ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre>
<p class="p">In the ExcludeElements syntax element, you must type the braces ({ and }).</p></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="pnn1507819232073" xml:lang="en-us" lang="en-us" id="pnn1507819232073">
<h2 class="title topictitle2" id="ariaid-title3">XMLRelation Syntax Elements</h2><div class="body refbody"><div class="section" id="pnn1507819232073__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TextColumn</dt><dd class="dd pd">Specify the name of the input table column that contains the XML documents. The function skips malformed XML documents.</dd><dt class="dt pt dlterm">DocIDColumns</dt><dd class="dd pd">Specify the names of the input table columns that contain the identifiers of the XML documents. No <var class="keyword varname">docid_column</var> can have the same name as an output table column. For output column names, see <a href="ddp1562077450074.md">XMLRelation Output</a>.</dd><dt class="dt pt dlterm">MaxDepth</dt><dd class="dd pd">[Optional] Specify the maximum depth in the XML tree at which to process XML documents. The MaxDepth and OutputType syntax elements determine the schema of the output table.</dd><dd class="dd pd ddexpand">Default: 5</dd><dd class="dd pd ddexpand">Maximum: 1000</dd><dt class="dt pt dlterm">ExcludeElements</dt><dd class="dd pd">[Optional] Specify the paths to the nodes to exclude from processing. The function excludes each specified node and its child nodes. Here are examples of paths to nodes:
<ul class="sl simple">
<li class="sli"><span><i>'chapter'</i></span></li>
<li class="sli"><span><i>'root/book'</i></span></li>
<li class="sli"><span><i>'root/book/{author,chapter}'</i></span></li></ul></dd><dt class="dt pt dlterm">AttributeAsNode</dt><dd class="dd pd">[Optional] Specify whether to treat the attributes of a node as its child nodes.</dd><dd class="dd pd ddexpand">Default: 'false' (Attributes of a node are stored in one element of the output tuple.)</dd><dt class="dt pt dlterm">AttributeDelimiter</dt><dd class="dd pd">[Optional] Specify the delimiter used to separate multiple attributes of one node in XML documents.</dd><dd class="dd pd ddexpand">Default: ',' (comma)</dd><dt class="dt pt dlterm">OutputType</dt><dd class="dd pd">[Optional] Specify the output table schema. The MaxDepth and OutputType syntax elements determine the schema of the output table, and the number of columns in the output table must not exceed 1600.</dd><dd class="dd pd ddexpand">Default: 'fullpath'</dd><dt class="dt pt dlterm">ErrorHandler</dt><dd class="dd pd">[Optional] Specify whether the function handles errors that occur when parsing an XML document.</dd><dd class="dd pd ddexpand">If you specify 'true':
<ul class="ul" id="pnn1507819232073__ul_uth_ljd_rx">
<li class="li">If an error occurs while parsing a row, the function skips that row. When the function completes the parsing, it outputs only the nodes that were error-free.</li>
<li class="li">You can tell the function to output an additional column named <var class="keyword varname">output_column</var> and populate it with the values of the specified columns.
<p class="p">The name <var class="keyword varname">output_column</var> can contain only lowercase letters and underscores. Default: errorhandler</p>
<p class="p">In the output column, the values of the specified columns are separated with semicolons.</p>
<p class="p">For example, the following syntax element adds the column error_info to the output table and populates it with the values of input columns col1 and col2 (with a semicolon after each value):</p><pre class="pre codeblock" xml:space="preserve"><code>ErrorHandler ('true;error_info:col1,col2')</code></pre></li></ul></dd><dd class="dd pd ddexpand">Default: 'false' (The function aborts and throws an exception.)</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of input column names to copy to the output table. No <var class="keyword varname">accumulate_column</var> can have the same name as an output table column. For output column names, see <a href="ddp1562077450074.md">XMLRelation Output</a>.</dd></dl></div></div></div></div></body></html>
