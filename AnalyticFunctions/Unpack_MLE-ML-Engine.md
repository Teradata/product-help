<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="gzr1507822835835" id="gzr1507822835835"><h1 class="title topictitle1" id="ariaid-title1">Unpack_MLE (ML Engine)</h1><div class="body conbody">
<p class="p">The Unpack_MLE function unpacks data from a single packed column into multiple columns. The packed column is composed of multiple virtual columns, which become the output columns. To determine the virtual columns, the function must have either the delimiter that separates them in the packed column or their lengths.</p>
<p class="p">Unpack_MLE complements the function <a href="wak1541604750698.md#dme1507831816786">Pack_MLE (ML Engine)</a>, but you can use it on any packed column that meets the input requirements.</p><div class="note note" id="gzr1507822835835__note_N10022_N10010_N10001"><span><b>Note</b></span><div class="notebody">To use Pack_MLE and Unpack_MLE together, you must run both on <span><b>ML Engine</b></span> platform. Pack_MLE and Unpack_MLE are incompatible with <span><b>Advanced SQL Engine</b></span> Pack and Unpack functions.</div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="apd1507822865955" xml:lang="en-us" lang="en-us" id="apd1507822865955">
<h2 class="title topictitle2" id="ariaid-title2">Unpack_MLE Syntax</h2><div class="body refbody"><div class="section" id="apd1507822865955__section_N10065_N10022_N10001">
<h3 class="title sectiontitle">Version ?</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Unpack_MLE (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  TargetColumn ('<var class="keyword varname">target_column</var>')
  OutputColumns ('<var class="keyword varname">output_column</var>' [,...])
  OutputDataTypes ('<var class="keyword varname">datatype</var>' [,...])
  [ Delimiter ('<var class="keyword varname">delimiter</var>') ]
  [ ColumnLength (<var class="keyword varname">column_length</var> [,...] ) ]
  [ Regex ('<var class="keyword varname">regular_expression</var>') ]
  [ RegexSet ('<var class="keyword varname">group_number</var>') ]
  [ IgnoreInvalid (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist"><div class="linklistmember"><a href="dsd1557781660424.md">Regular Expressions in Syntax Elements</a></div><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="vsd1507822869904" xml:lang="en-us" lang="en-us" id="vsd1507822869904">
<h2 class="title topictitle2" id="ariaid-title3">Unpack_MLE Syntax Elements</h2><div class="body refbody"><div class="section" id="vsd1507822869904__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TargetColumn</dt><dd class="dd pd">Specify the name of the input column that contains the packed data.</dd><dt class="dt pt dlterm">OutputColumns</dt><dd class="dd pd">Specify the names to give to the output columns, one for each virtual column in the packed data, in the order in which the virtual columns appear in <var class="keyword varname">target_column</var>.</dd><dt class="dt pt dlterm">OutputDataTypes</dt><dd class="dd pd">Specify the datatypes of the unpacked output columns. Each <var class="keyword varname">datatype</var> must be an MLE data type; for information about these, see <span><cite class="cite">Teradata Vantage™ User Guide</cite>, B700-4002</span>.
<p class="p">If OutputDataTypes specifies only one value and OutputColumns specifies multiple columns, the specified value applies to every <var class="keyword varname">output_column</var>.</p>
<p class="p">If OutputDataTypes specifies multiple values, it must specify a value for each <var class="keyword varname">output_column</var>. The <var class="keyword varname">n</var>th <var class="keyword varname">datatype</var> corresponds to the <var class="keyword varname">n</var>th <var class="keyword varname">output_column</var>.</p></dd><dt class="dt pt dlterm">Delimiter</dt><dd class="dd pd">[Optional] Specify the delimiter (a string) that separates the virtual columns in the packed data. If <var class="keyword varname">delimiter</var> contains a character that is a symbol in a regular expression—such as an asterisk (*) or pipe character (<code class="ph codeph">|</code>)—precede it with two escape characters. For example, if the delimiter is the pipe character, specify <code class="ph codeph">'\\|'</code>. <div class="note note" id="vsd1507822869904__note_N100CB_N100C7_N100AE_N100A1_N1003D_N10015_N10011_N1000E_N10001"><span><b>Note</b></span><div class="notebody">Do not specify both this syntax element and the ColumnLength syntax element. If the virtual columns are separated by a delimiter, specify the delimiter with this syntax element; otherwise, specify the ColumnLength syntax element.</div></div></dd><dd class="dd pd ddexpand">Default: ',' (comma)</dd><dt class="dt pt dlterm">ColumnLength</dt><dd class="dd pd">[Optional] Specify the lengths of the virtual columns; therefore, to use this syntax element, you must know the length of each virtual column.
<p class="p">If ColumnLength specifies only one value and OutputColumns specifies multiple columns, the specified value applies to every <var class="keyword varname">output_column</var>.</p>
<p class="p">If ColumnLength specifies multiple values, it must specify a value for each <var class="keyword varname">output_column</var>. The <var class="keyword varname">n</var>th <var class="keyword varname">datatype</var> corresponds to the <var class="keyword varname">n</var>th <var class="keyword varname">output_column</var>. However, the last <var class="keyword varname">output_column</var> can be an asterisk (*), which represents a single virtual column that contains the remaining data. For example, if the first three virtual columns have the lengths 2, 1, and 3, and all remaining data belongs to the fourth virtual column, you can specify ColumnLength (2, 1, 3, *).</p><div class="note note" id="vsd1507822869904__note_N1010D_N100DD_N100D0_N1003D_N10015_N10011_N1000E_N10001"><span><b>Note</b></span><div class="notebody">Do not specify both this syntax element and the Delimiter syntax element.</div></div></dd><dt class="dt pt dlterm">Regex</dt><dd class="dd pd">[Optional] Specify a regular expression that describes a row of packed data, enabling the function to find the data values.</dd><dd class="dd pd ddexpand">A row of packed data contains a data value for each virtual column, but the row might also contain other information (such as the virtual column name). In the <var class="keyword varname">regular_expression</var>, each data value is enclosed in parentheses.</dd><dd class="dd pd ddexpand">For example, suppose that the packed data has two virtual columns, age and sex, and that one row of packed data is <code class="ph codeph">age:34,sex:male</code>. The <var class="keyword varname">regular_expression</var> that describes the row is <code class="ph codeph">'.*:(.*)'</code>. The <code class="ph codeph">'.*:'</code> matches the virtual column names, age and sex, and the <code class="ph codeph">'(.*)'</code> matches the values, 34 and male.</dd><dd class="dd pd ddexpand">To represent multiple data groups in <var class="keyword varname">regular_expression</var>, use multiple pairs of parentheses. Without parentheses, the last data group in <var class="keyword varname">regular_expression</var> represents the data value (other data groups are assumed to be virtual column names or unwanted data). If a different data group represents the data value, specify its group number with the RegexSet syntax element.</dd><dd class="dd pd ddexpand">Default: <code class="ph codeph">'(.*)'</code>, which matches the whole string (between delimiters, if any). When applied to the preceding sample row, the default <var class="keyword varname">regular_expression</var> causes the function to return 'age:34' and 'sex:male' as data values.</dd><dt class="dt pt dlterm">RegexSet</dt><dd class="dd pd">[Optional] Specify the ordinal number of the data group in <var class="keyword varname">regular_expression</var> that represents the data value in a virtual column.</dd><dd class="dd pd ddexpand">Default behavior: The last data group in <var class="keyword varname">regular_expression</var> represents the data value. For example, suppose that <var class="keyword varname">regular_expression</var> is <code class="ph codeph">'([a-zA-Z]*):(.*)'</code>. If <var class="keyword varname">group_number</var> is '1', <code class="ph codeph">'([a-zA-Z]*)'</code> represents the data value. If <var class="keyword varname">group_number</var> is '2', <code class="ph codeph">'(.*)'</code> represents the data value.</dd><dt class="dt pt dlterm">IgnoreInvalid</dt><dd class="dd pd">[Optional] Specify whether the function ignores rows that contain invalid data.</dd><dd class="dd pd ddexpand">Default: 'false' (The function fails if it encounters a row with invalid data.)</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the InputTable columns to copy to the output table.</dd><dd class="dd pd ddexpand">Default: Every input column that is not a <var class="keyword varname">target_column</var></dd></dl></div></div></div></div></body></html>
