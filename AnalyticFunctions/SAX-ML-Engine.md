<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="lxc1506547203185" id="lxc1506547203185"><h1 class="title topictitle1" id="ariaid-title1">SAX (ML Engine)</h1><div class="body conbody">
<p class="p">The SAX (Symbolic Aggregate approXimation) function transforms a time series data item into a smaller sequence of symbols that can then be analyzed using Teradata <a href="ols1558127523436.md">Introduction to nPath</a> or <a href="sxd1561579959553.md">Shapelet Functions (ML Engine)</a>, or by other hashing or regular-expression pattern matching algorithms.</p><div class="p">The SAX algorithm was developed by Eamonn Keogh and Jessica Lin in 2002. For information about the SAX algorithm, see:
<ul class="ul" id="lxc1506547203185__ul_s1m_y2j_mbb">
<li class="li"><a class="xref" href="http://www.cs.ucr.edu/~eamonn/SAX.htm" target="_blank" title="" shape="rect">http://www.cs.ucr.edu/~eamonn/SAX.htm</a></li>
<li class="li"><a class="xref" href="https://cs.gmu.edu/~jessica/sax.htm" target="_blank" title="" shape="rect">https://cs.gmu.edu/~jessica/sax.htm</a></li></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="qda1506547569526" xml:lang="en-us" lang="en-us" id="qda1506547569526">
<h2 class="title topictitle2" id="ariaid-title2">SAX Syntax (Single Input)</h2><div class="body refbody"><div class="section" id="qda1506547569526__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.9</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM SAX (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable PARTITION BY <var class="keyword varname">key</var> ORDER BY <var class="keyword varname">order_columns</var>
  USING
  TargetColumns ({ '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,...])
  [ TimeColumn ('<var class="keyword varname">time_column</var>') ]
  [ WindowType ( { 'global' | 'sliding' } ) ]
  [ OutputType ( { 'string' | 'bytes' | 'bitmap' | 'characters' } ) ]
  [ Mean (<var class="keyword varname">mean_value</var> [,...]) ]
  [ STDev (<var class="keyword varname">stdev_value</var> [,...]) ]
  [ WindowSize (<var class="keyword varname">window_size</var>) ]
  [ OutputFrequency (<var class="keyword varname">output_frequency</var>) ]
  [ PointsPerSymbol (<var class="keyword varname">points_per_symbol</var> [,...]) ]
  [ SymbolsPerWindow (<var class="keyword varname">symbols_per_window</var> [,...]) ]
  [ AlphabetSize (<var class="keyword varname">alphabet_size</var> [,...]) ]
  [ BitmapLevel (<var class="keyword varname">bitmap_level</var> [,...]) ]
  [ OutputStats ({ 'true'|'yes'|'t'|'y'|'1'|'false'|'no'|'f'|'n'|'0' }) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="osc1506547644081" xml:lang="en-us" lang="en-us" id="osc1506547644081">
<h2 class="title topictitle2" id="ariaid-title3">SAX Syntax (Multiple Inputs)</h2><div class="body refbody"><div class="section" id="osc1506547644081__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.9</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM SAX (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable PARTITION BY <var class="keyword varname">key</var> ORDER BY <var class="keyword varname">order_columns</var> 
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS MeanStats PARTITION BY <var class="keyword varname">key</var> 
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS STDevStats PARTITION BY <var class="keyword varname">key</var>
  USING
  TargetColumns ({ '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,...])
  [ TimeColumn ('<var class="keyword varname">time_column</var>') ]
  [ WindowType ( { 'global' | 'sliding' } ) ]
  [ OutputType ( { 'string' | 'bytes' | 'bitmap' | 'characters' } ) ]
  [ WindowSize (<var class="keyword varname">window_size</var>) ]
  [ OutputFrequency (<var class="keyword varname">output_frequency</var>) ]
  [ PointsPerSymbol (<var class="keyword varname">points_per_symbol</var> [,...]) ]
  [ SymbolsPerWindow (<var class="keyword varname">symbols_per_window</var> [,...]) ]
  [ AlphabetSize (<var class="keyword varname">alphabet_size</var> [,...]) ]
  [ BitmapLevel (<var class="keyword varname">bitmap_level</var> [,...]) ]
  [ OutputStats ({ 'true'|'yes'|'t'|'y'|'1'|'false'|'no'|'f'|'n'|'0' }) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="zml1506547931244" xml:lang="en-us" lang="en-us" id="zml1506547931244">
<h2 class="title topictitle2" id="ariaid-title4">SAX Syntax Elements</h2><div class="body refbody"><div class="section" id="zml1506547931244__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">Specify the names of the InputTable columns that contain the time series data to transform.</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">[Optional] Specify the name of the InputTable column that contains the time axis of the data.</dd><dt class="dt pt dlterm">WindowType</dt><dd class="dd pd">[Optional] Specify how much data the function processes at one time:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zml1506547931244__table_mqj_1ky_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d54701e340" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d54701e342" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e340" rowspan="1" colspan="1"><code class="ph codeph">'global'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e342" rowspan="1" colspan="1">Function computes SAX code using single mean and standard deviation for entire data set.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e340" rowspan="1" colspan="1"><code class="ph codeph">'sliding'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e342" rowspan="1" colspan="1">Function recomputes mean and standard deviation for sliding window of data set.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">OutputType</dt><dd class="dd pd">[Optional] Specify how the function outputs the results:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zml1506547931244__table_lvr_gky_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d54701e369" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d54701e371" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e369" rowspan="1" colspan="1"><code class="ph codeph">'string'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e371" rowspan="1" colspan="1">Function outputs list of SAX codes for each window.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e369" rowspan="1" colspan="1"><code class="ph codeph">'bytes'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e371" rowspan="1" colspan="1">Function outputs list of SAX codes as compact byte arrays (which humans cannot read).</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e369" rowspan="1" colspan="1"><code class="ph codeph">'bitmap'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e371" rowspan="1" colspan="1">Function outputs JSON representation of  SAX bitmap.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e369" rowspan="1" colspan="1"><code class="ph codeph">'characters'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d54701e371" rowspan="1" colspan="1">Function outputs one character for each line.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">Mean</dt><dd class="dd pd">[Optional][Single-input syntax only] Specify the global mean values that the function uses to calculate the SAX code for every partition. A <var class="keyword varname">mean_value</var> has the data type DOUBLE PRECISION.
<p class="p">If Mean specifies only one value and TargetColumns specifies multiple columns, the specified value applies to every <var class="keyword varname">target_column</var>.</p>
<p class="p">If Mean specifies multiple values, it must specify a value for each <var class="keyword varname">target_column</var>. The <var class="keyword varname">n</var>th <var class="keyword varname">mean_value</var> corresponds to the <var class="keyword varname">n</var>th <var class="keyword varname">target_column</var>.</p><div class="note tip" id="zml1506547931244__note_N10103_N100D3_N100C6_N1003D_N10015_N10011_N1000E_N10001"><span><b>Tip</b></span><div class="notebody">To specify a different global mean value for each partition, use the multiple-input syntax and put the values in the MeanStats table.</div></div></dd><dt class="dt pt dlterm">STDev</dt><dd class="dd pd">[Optional][Single-input syntax only] Specify the global standard deviation values that the function uses to calculate the SAX code for every partition. A <var class="keyword varname">stdev_value</var> has the data type DOUBLE PRECISION and its value must be greater than 0.
<p class="p">If STDev specifies only one value and TargetColumns specifies multiple columns, the specified value applies to every <var class="keyword varname">target_column</var>.</p>
<p class="p">If STDev specifies multiple values, it must specify a value for each <var class="keyword varname">target_column</var>. The <var class="keyword varname">n</var>th <var class="keyword varname">stdev_value</var> corresponds to the <var class="keyword varname">n</var>th <var class="keyword varname">target_column</var>.</p><div class="note tip" id="zml1506547931244__note_N10146_N10116_N10109_N1003D_N10015_N10011_N1000E_N10001"><span><b>Tip</b></span><div class="notebody">To specify a different global standard deviation value for each partition, use the multiple-input syntax and put the values in the STDevStats table.</div></div></dd><dt class="dt pt dlterm">WindowSize</dt><dd class="dd pd">[Required if WindowType is 'sliding', disallowed otherwise.] Specify the size of the sliding window. The value must be an integer greater than 0.</dd><dt class="dt pt dlterm">OutputFrequency</dt><dd class="dd pd">[Optional] Specify the number of data points that the window slides between successive outputs. The value must be an integer greater than 0.</dd><dd class="dd pd ddexpand">WindowType value must be 'sliding' and OutputType value cannot be 'characters'. If WindowType is 'sliding' and OutputType value is 'characters', OutputFrequency is automatically set to the value of WindowSize, so that a single character is assigned to each time point. If the number of data points in the time series is not an integer multiple of the window size, the function ignores the leftover parts.</dd><dd class="dd pd ddexpand">Default: 1</dd><dt class="dt pt dlterm">PointsPerSymbol</dt><dd class="dd pd">[Optional] Specify the number of data points to convert into one SAX symbol. Each value must be an integer greater than 0.</dd><dd class="dd pd ddexpand">WindowType value must be 'global'.</dd><dd class="dd pd ddexpand">Default: 1</dd><dt class="dt pt dlterm">SymbolsPerWindow</dt><dd class="dd pd">[Optional] Specify the number of SAX symbols to create for each window. Each value must be an integer greater than 0.</dd><dd class="dd pd ddexpand">WindowType value must be 'sliding'.</dd><dd class="dd pd ddexpand">Default: <var class="keyword varname">window_size</var> (the value of WindowSize)</dd><dt class="dt pt dlterm">AlphabetSize</dt><dd class="dd pd">[Optional] Specify the number of symbols in the SAX alphabet. The value must be an integer in the range [2, 20].</dd><dd class="dd pd ddexpand">Default: 4</dd><dt class="dt pt dlterm">BitmapLevel</dt><dd class="dd pd">[Optional] Specify the number of consecutive symbols to convert to one symbol on a bitmap. For bitmap level 1, the bitmap contains the symbols 'a', 'b', 'c', and so on; for bitmap level 2, the bitmap contains the symbols 'aa', 'ab', 'ac', and so on. The input value must be an integer in the range [1, 4].</dd><dd class="dd pd ddexpand">OutputType value must be 'bitmap'.</dd><dd class="dd pd ddexpand">Default: 2</dd><dt class="dt pt dlterm">OutputStats</dt><dd class="dd pd">[Optional] Specify whether the function prints the mean and standard deviation.</dd><dd class="dd pd ddexpand">OutputType value must be 'string'.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the input table columns that are to appear in the output table. For each sequence in the input table, SAX choose the value corresponding to the first time point in the sequence to output as the accumulate value.</dd></dl></div></div></div></div></body></html>
