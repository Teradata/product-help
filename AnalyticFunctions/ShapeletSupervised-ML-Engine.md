<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="awl1506626097450" id="awl1506626097450"><h1 class="title topictitle1" id="ariaid-title1">ShapeletSupervised (ML Engine)</h1><div class="body conbody"><div class="section" id="awl1506626097450__section_pc2_rh4_zdb">
<p class="p">The ShapeletSupervised function takes a set of classified time series and outputs a model for classifying time series, based on the shapelets that it finds. The model is input to the function <a href="syx1558467536967.md#fzc1506627602124">ShapeletSupervisedClassifier (ML Engine)</a>.</p></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="orb1506626225476" xml:lang="en-us" lang="en-us" id="orb1506626225476">
<h2 class="title topictitle2" id="ariaid-title2">ShapeletSupervised Syntax</h2><div class="body refbody"><div class="section" id="orb1506626225476__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.23</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ShapeletSupervised (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS ResponseTable ]
  [ OUT TABLE ModelTable (<var class="keyword varname">output_model_table</var>) ]
  USING
  IDColumn ('<var class="keyword varname">id_column</var>')
  TimeColumn ('<var class="keyword varname">time_column</var>')
  TargetColumn ('<var class="keyword varname">target_column</var>')
  ResponseColumn ('<var class="keyword varname">category_column</var>')
  [ SAXSymbolsPerWindow (<var class="keyword varname">symbols_per_window</var>) ]
  [ SAXMinWindowSize (<var class="keyword varname">min_window_size</var>) ]
  [ SAXMaxWindowSize (<var class="keyword varname">max_window_size</var>) ]
  [ SAXOutputFrequency (<var class="keyword varname">gap_between_windows</var>) ]
  [ RandomProjections (<var class="keyword varname">projections</var>) ]
  [ ShapeletCount (<var class="keyword varname">num_shapelets</var>) ]
  [ TimeInterval (<var class="keyword varname">num_data_points</var>) ]
  [ Seed (<var class="keyword varname">seed</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="cke1506626322388" xml:lang="en-us" lang="en-us" id="cke1506626322388">
<h2 class="title topictitle2" id="ariaid-title3">ShapeletSupervised Syntax Elements</h2><div class="body refbody"><div class="section" id="cke1506626322388__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">ModelTable</dt><dd class="dd pd">[Optional] Specify the name for the model table that the function outputs.</dd><dd class="dd pd ddexpand">Default: shapelet_model in the current schema</dd><dt class="dt pt dlterm">IDColumn</dt><dd class="dd pd">Specify the name of the column in InputTable and ResponseTable that contains the unique identity of a time series.</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the time axis of the data.</dd><dt class="dt pt dlterm">TargetColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the data points.</dd><dt class="dt pt dlterm">ResponseColumn</dt><dd class="dd pd">Specify the name of the ResponseTable column that contains the category (class) of the time series.</dd><dt class="dt pt dlterm">SAXSymbolsPerWindow</dt><dd class="dd pd">[Optional] Specify the SAX syntax element SymbolsPerWindow, which specifies the number of SAX code symbols to create from a window. The <var class="keyword varname">symbols_per_window</var> must an INTEGER in the range [1, 1000000]. If the <var class="keyword varname">symbols_per_window</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">SAXMinWindowSize</dt><dd class="dd pd">[Optional] Specify the SAX syntax element WindowSize , which specifies the size of the sliding window. The <var class="keyword varname">min_window_size</var> defines the length (number of data points) of the shortest shapelet; the minimum span (time series length) used to distinguish two time series from each other.</dd><dd class="dd pd ddexpand">The <var class="keyword varname">min_window_size</var> must be an integer in the range [1, 1000000]. If the <var class="keyword varname">min_window_size</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>. If <var class="keyword varname">min_window_size</var> is smaller than <var class="keyword varname">symbols_per_window</var>, its value becomes <var class="keyword varname">symbols_per_window</var>.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">SAXMaxWindowSize</dt><dd class="dd pd">[Optional] Specify the SAX syntax element WindowSize , which specifies the size of the sliding window. The <var class="keyword varname">max_window_size</var> defines the length of the longest shapelet; the maximum span used to distinguish two time series from each other. The <var class="keyword varname">max_window_size</var> must be an integer in the range [1, 1000000] that is greater than or equal to <var class="keyword varname">min_window_size</var>.</dd><dd class="dd pd ddexpand">If the <var class="keyword varname">max_window_size</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>.</dd><dd class="dd pd ddexpand">A greater difference between <var class="keyword varname">min_window_size</var> and <var class="keyword varname">max_window_size</var> increases the probability of identifying better shapelets at the cost of higher execution time. The function uses this formula to compute the number of sliding windows, <var class="keyword varname">n</var>:
<p class="p"><var class="keyword varname">n</var> = ((<var class="keyword varname">max_window_size </var>- <var class="keyword varname">min_window_size</var>) / <var class="keyword varname">symbols_per_window</var>)+1</p>
<p class="p">The maximum value of <var class="keyword varname">n</var> is 20.</p></dd><dd class="dd pd ddexpand">Default: 70</dd><dt class="dt pt dlterm">SAXOutputFrequency</dt><dd class="dd pd">[Optional] Specify the SAX syntax element OutputFrequency, which specifies the number of data points to skip between successive sliding windows. The <var class="keyword varname">gap_between_windows</var> must be an integer in the range [1, 1000]. A smaller value increases accuracy (the chance of distinguishing time series from each other) at the cost of higher execution time.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">RandomProjections</dt><dd class="dd pd">[Optional] Specify the number of iterations required for random masking of SAX words during shapelet training. The <var class="keyword varname">projections</var> must be an INTEGER in the range [1, 40].</dd><dd class="dd pd ddexpand">Default: 10
<p class="p">Specifying a greater <var class="keyword varname">projections</var> for a longer input time series increases the probability of identifying better shapelets at the cost of higher execution time.</p></dd><dt class="dt pt dlterm">ShapeletCount</dt><dd class="dd pd">[Optional] Specify the maximum number of shapelets in the output model table. The <var class="keyword varname">num_shapelets</var> must be an INTEGER in the range [1, 100000].</dd><dd class="dd pd ddexpand">Default: 20</dd><dt class="dt pt dlterm">TimeInterval</dt><dd class="dd pd">[Optional] Specify the number of data points in a time series to skip between consecutive time series windows when calculating the distance of a shapelet from a time series.
<p class="p">The function builds a shapelet classification tree based on the distance of a shapelet from the time series data. Because a shapelet is typically much smaller than a complete time series, the function calculates the distance of a shapelet from a time series by sliding the shapelet across time series windows of shapelet length, calculating the distance between the shapelet and each window, and then selecting the smallest distance.</p>
<p class="p">The <var class="keyword varname">num_data_points</var> is the number of data points to skip when sliding from one time series window to the next. The <var class="keyword varname">num_data_points</var> must be an INTEGER in the range [1, 1000000]. The value 1 gives optimal results at the cost of higher execution time.</p>
<p class="p">Default: 10</p></dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Specify the random seed the algorithm uses for repeatable results. The <var class="keyword varname">seed</var> must be an INTEGER in the range [1, 100000].<div class="note note" id="cke1506626322388__note_N1018E_N10185_N1017E_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody"> For repeatable results, use both the Seed and UniqueID syntax elements. For more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>.</div></div></dd><dd class="dd pd ddexpand">Default: 23</dd></dl></div></div></div></div>
