<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="emh1506030790876" id="emh1506030790876"><h1 class="title topictitle1" id="ariaid-title1">Burst (ML Engine)</h1><div class="body conbody">
<p class="p">The Burst function bursts (splits) a time interval into a series of shorter "burst" intervals and allocates values from the time intervals into the new, shorter subintervals. The Burst function is useful for allocating values from overlapping time intervals into user-defined time intervals (for example, when a cable company has customer data from overlapping time intervals, which it wants to analyze by dividing into uniform time intervals). The Burst function supports several allocation methods.</p>
<p class="p">The burst intervals can have either the same length (specified by the TimeInterval syntax element), the same number of data points (specified by the NumPoints syntax element), or specific start and end times (specified by time_table).</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="udr1506030997728" xml:lang="en-us" lang="en-us" id="udr1506030997728">
<h2 class="title topictitle2" id="ariaid-title2">Burst Syntax</h2><div class="body refbody"><div class="section" id="udr1506030997728__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 2.5</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Burst (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
    PARTITION BY <var class="keyword varname">id</var> [ ORDER BY <var class="keyword varname">order_column</var> ]
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS TimeIntervalTable
    PARTITION BY <var class="keyword varname">id</var> [ ORDER BY <var class="keyword varname">ordering_column</var> ] ]
  USING
  TimeColumn ('<var class="keyword varname">start_time_column</var>', '<var class="keyword varname">end_time_column</var>')
  [ TimeInterval (<var class="keyword varname">numeric_value</var>) ]
  TargetColumns ({ '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,...])
  [ TimeDataType (<var class="keyword varname">data_type</var>) ]
  [ ValueDataType (<var class="keyword varname">value_type</var> [,...]) ]
  [ StartTime ('<var class="keyword varname">start_time</var>') ]
  [ EndTime ('<var class="keyword varname">end_time</var>') ]
  [ NumPoints (<var class="keyword varname">data_points</var>) ]
  [ ValuesBeforeFirst ('<var class="keyword varname">before_first_value</var>' [,...]) ]
  [ ValuesAfterLast ('<var class="keyword varname">after_last_value</var>' [,...]) ]
  [ SplitCriteria ({ 'nosplit' | 'proportional' | 'random' | 'gaussian' | 'poisson' }) ]
  [ Seed (<var class="keyword varname">seed</var>) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="umj1506031042722" xml:lang="en-us" lang="en-us" id="umj1506031042722">
<h2 class="title topictitle2" id="ariaid-title3">Burst Syntax Elements</h2><div class="body refbody"><div class="section" id="umj1506031042722__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the names of the InputTable columns that contain the start and end times of the time interval to be burst.</dd><dt class="dt pt dlterm">TimeInterval</dt><dd class="dd pd">[Optional] Specify exactly one of TimeIntervalTable, TimeInterval, or NumPoints.</dd><dd class="dd pd ddexpand">Specify the length of each burst time interval. This value must be either INTEGER or DOUBLE PRECISION.</dd><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">Specify the names of InputTable columns to copy to the output table.</dd><dt class="dt pt dlterm">TimeDataType</dt><dd class="dd pd">[Optional] Specify the data type of the output columns that correspond to the input table columns that TimeColumn specifies (<var class="keyword varname">start_time_column</var> and <var class="keyword varname">end_time_column</var>).
<p class="p">If you omit this syntax element, the function infers the data type of <var class="keyword varname">start_time_column</var> and <var class="keyword varname">end_time_column</var> from the input table and uses the inferred data type for the corresponding output table columns.</p><div class="p">If you specify this syntax element, the function can transform the input data to the specified output data type only if both the input column data type and the specified output column data type are in this list:
<ul class="ul" id="umj1506031042722__ul_vcn_3xc_dy">
<li class="li">INTEGER</li>
<li class="li">BIGINT</li>
<li class="li">SMALLINT</li>
<li class="li">DOUBLE PRECISION</li>
<li class="li">NUMERIC</li>
<li class="li">NUMERIC(<var class="keyword varname">n</var>[,<var class="keyword varname">m</var>])</li></ul></div></dd><dt class="dt pt dlterm">ValueDataType</dt><dd class="dd pd">[Optional] Specify the data types of the output columns that correspond to the input table columns that TargetColumns specifies.
<p class="p">If you omit this syntax element, the function infers the data type of each <var class="keyword varname">target_column</var> from the input table and uses the inferred data type for the corresponding output table column.</p>
<p class="p">If you specify ValueDataType, it must be the same size as TargetColumns. That is, if TargetColumns specifies <var class="keyword varname">n</var> columns, ValueDataType must specify <var class="keyword varname">n</var> data types. For <var class="keyword varname">i</var> in [1, <var class="keyword varname">n</var>], <var class="keyword varname">value_column_i</var> has <var class="keyword varname">value_type_i</var>. However, <var class="keyword varname">value_type_i</var> can be empty; for example:</p><pre class="pre codeblock" xml:space="preserve"><code>TargetColumns ('c1', 'c2', 'c3')
ValueDataType (INTEGER, ,VARCHAR)</code></pre><div class="p">If you specify this syntax element, the function can transform the input data to the specified output data type only if both the input column data type and the specified output column data type are in this list:
<ul class="ul" id="umj1506031042722__ul_oq2_pxc_dy">
<li class="li">INTEGER</li>
<li class="li">BIGINT</li>
<li class="li">SMALLINT</li>
<li class="li">DOUBLE PRECISION</li>
<li class="li">NUMERIC</li>
<li class="li">NUMERIC(<var class="keyword varname">n</var>[,<var class="keyword varname">m</var>])</li></ul></div></dd><dt class="dt pt dlterm">StartTime</dt><dd class="dd pd">[Optional] Specify the start time for the time interval to be burst.</dd><dd class="dd pd ddexpand">Default: value in <var class="keyword varname">start_time_column</var></dd><dt class="dt pt dlterm">EndTime</dt><dd class="dd pd">[Optional] Specify the end time for the time interval to be burst.</dd><dd class="dd pd ddexpand">Default: value in <var class="keyword varname">end_time_column</var></dd><dt class="dt pt dlterm">NumPoints</dt><dd class="dd pd">[Optional] Specify exactly one of TimeIntervalTable, TimeInterval, or NumPoints.
<p class="p">Specify the number of data points in each burst time interval. This value must be an INTEGER.</p></dd><dt class="dt pt dlterm">ValuesBeforeFirst</dt><dd class="dd pd">[Optional] Specify the values to use if <var class="keyword varname">start_time</var> is before <var class="keyword varname">start_time_column</var>. Each of these values must have the same data type as its corresponding <var class="keyword varname">target_column</var>. Values of data type VARCHAR are case-insensitive.</dd><dd class="dd pd ddexpand">If you specify ValuesBeforeFirst, it must be the same size as TargetColumns. That is, if TargetColumns specifies <var class="keyword varname">n</var> columns, ValuesBeforeFirst must specify <var class="keyword varname">n</var> values. For <var class="keyword varname">i</var> in [1, <var class="keyword varname">n</var>], <var class="keyword varname">value_column_i</var> has the value <var class="keyword varname">before_first_value_i</var>. However, <var class="keyword varname">before_first_value_i</var> can be empty; for example:<pre class="pre codeblock" xml:space="preserve"><code>TargetColumns ('c1', 'c2', 'c3')
ValuesBeforeFirst (1, ,'abc')</code></pre></dd><dd class="dd pd ddexpand">If <var class="keyword varname">before_first_value_i</var> is empty, <var class="keyword varname">value_column_i</var> has the value NULL.</dd><dd class="dd pd ddexpand">Default: <var class="keyword varname">value_column_i</var> has the value NULL for <var class="keyword varname">i</var> in [1, <var class="keyword varname">n</var>].</dd><dt class="dt pt dlterm">ValuesAfterLast</dt><dd class="dd pd">[Optional] Specify the values to use if <var class="keyword varname">end_time</var> is after <var class="keyword varname">end_time_column</var>. Each of these values must have the same data type as its corresponding <var class="keyword varname">target_column</var>. Values of data type VARCHAR are case-insensitive.</dd><dd class="dd pd ddexpand">If you specify ValuesAfterLast, it must be the same size as TargetColumns. That is, if TargetColumns specifies <var class="keyword varname">n</var> columns, ValuesAfterLast must specify <var class="keyword varname">n</var> values. For <var class="keyword varname">i</var> in [1, <var class="keyword varname">n</var>], <var class="keyword varname">value_column_i</var> has the value <var class="keyword varname">after_last_value_i</var>. However, <var class="keyword varname">after_last_value_i</var> can be empty; for example:<pre class="pre codeblock" xml:space="preserve"><code>TargetColumns ('c1', 'c2', 'c3')
ValuesAfterLast (1, ,'abc')</code></pre></dd><dd class="dd pd ddexpand">If <var class="keyword varname">after_last_value_i</var> is empty, <var class="keyword varname">value_column_i</var> has the value NULL.</dd><dd class="dd pd ddexpand">Default: <var class="keyword varname">value_column_i</var> has the value NULL for <var class="keyword varname">i</var> in [1, <var class="keyword varname">n</var>].</dd><dt class="dt pt dlterm">SplitCriteria</dt><dd class="dd pd">[Optional] Specify how to split <var class="keyword varname">target_column</var> values into subintervals:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="umj1506031042722__table_otq_g1y_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:80%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d111181e453" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d111181e455" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e453" rowspan="1" colspan="1"><code class="ph codeph">'nosplit'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e455" rowspan="1" colspan="1">The function assigns to each subinterval the sum of the values in the rows in that interval. See <a href="akk1542752536193.md">Burst Example: TimeInterval, SplitCriteria ('nosplit')</a> and <a href="heh1542752583386.md">Burst Example: TimeIntervalTable File</a> (where SplitCriteria defaults to 'nosplit').</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e453" rowspan="1" colspan="1"><code class="ph codeph">'proportional'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e455" rowspan="1" colspan="1">The function does the following:
<ol class="ol" id="umj1506031042722__ol_ddb_l1y_fdb">
<li class="li">Determines the number of subintervals for each row.</li>
<li class="li">Divides the <var class="keyword varname">target_column</var> values evenly across all subintervals.</li>
<li class="li">Adds the contributions from all rows to each subinterval.</li></ol>
<p class="p">See <a href="eib1542752551489.md">Burst Example: TimeInterval, SplitCriteria ('proportional')</a>.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e453" rowspan="1" colspan="1"><code class="ph codeph">'random'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e455" rowspan="1" colspan="1">The function does the following:
<ol class="ol" id="umj1506031042722__ol_pyr_wft_rcb">
<li class="li">Determines the number of subintervals for each row.</li>
<li class="li">Draws <var class="keyword varname">x</var><span><sub><var class="keyword varname">i</var></sub></span> for each subinterval <var class="keyword varname">i</var>.
<p class="p">The distribution is uniform on (0,1). The value assigned to each subinterval except the last is:</p><img class="image" id="umj1506031042722__image_qrr_214_scb" src="wme1517509334661.png" alt="Formula for value assigned to each interval except the last by Machine Learning Engine function Burst with SplitCriteria ('random')"></img>
<p class="p">where <var class="keyword varname">Value</var> is the value of the input table for that row.</p>
<p class="p">The value assigned to the last subinterval is:</p><img class="image" id="umj1506031042722__image_mrs_f14_scb" src="rwc1517509382536.png" alt="Formula for value assigned to last interval by Machine Learning Engine function Burst with SplitCriteria ('random')"></img></li>
<li class="li">Adds the contributions from all rows to each subinterval.</li></ol></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e453" rowspan="1" colspan="1"><code class="ph codeph">'gaussian'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e455" rowspan="1" colspan="1">The function does the following:<div class="p">
<ol class="ol" id="umj1506031042722__ol_zhr_k3t_rcb">
<li class="li">Determines the number of subintervals for each row.</li>
<li class="li">Draws <var class="keyword varname">x</var><span><sub><var class="keyword varname">i</var></sub></span> for each subinterval <var class="keyword varname">i</var>.
<p class="p">The distribution is a standard normal distribution. The value assigned to each subinterval except the last, and the value assigned to the last subinterval, are calculated with the equations shown for 'random'.</p></li>
<li class="li">Adds the contributions from all rows to each subinterval.</li></ol></div>
<p class="p">See <a href="oht1542752568602.md">Burst Example: TimeInterval, SplitCriteria ('gaussian')</a>.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e453" rowspan="1" colspan="1"><code class="ph codeph">'poisson'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d111181e455" rowspan="1" colspan="1">Use 'poisson' only if the means of each <var class="keyword varname">target_column</var> is nonnegative.
<p class="p">For data sets with an expected mean value greater than 40, Teradata recommends selecting 'gaussian' instead of 'poisson'. The performance of the 'poisson' option decreases as the mean of the data set increases.</p><div class="p">The function does the following:
<ol class="ol" id="umj1506031042722__ol_utc_fjt_rcb">
<li class="li">Determines the number of subintervals for each row.</li>
<li class="li">Draws <var class="keyword varname">x</var><span><sub><var class="keyword varname">i</var></sub></span> for each subinterval <var class="keyword varname">i</var>.
<p class="p">The distribution is a Poisson distribution with mean:</p>
<p class="p"><var class="keyword varname">Value</var> / <var class="keyword varname">number_of_subintervals</var></p>
<p class="p">Each subinterval is assigned this value:</p><img class="image" id="umj1506031042722__image_mq2_j14_scb" src="aqe1517509088272.png" alt="Formula for value assigned to each subinterval by Machine Learning Engine function Burst with SplitCriteria ('poisson')"></img></li>
<li class="li">Adds the contributions from all rows to each subinterval.</li></ol></div></td></tr></tbody></table></div></dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Use only if SplitCriteria is 'random' or 'gaussian'. Specify the value for initializing the random number generator the algorithm uses for repeatable results.<div class="note note" id="umj1506031042722__note_N1038A_N10386_N1037F_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody"> For repeatable results, use both the Seed and UniqueID syntax elements. For more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>.</div></div>
<p class="p">Default: 0</p></dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of InputTable columns (other than those specified by TimeColumn and TargetColumns) to copy to the output table.</dd><dd class="dd pd ddexpand">Default behavior: The function copies to the output table only the columns specified by TimeColumn and TargetColumns.</dd></dl></div></div></div></div>
