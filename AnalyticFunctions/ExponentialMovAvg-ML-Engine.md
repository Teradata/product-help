<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ddq1507056601981" id="ddq1507056601981"><h1 class="title topictitle1" id="ariaid-title1">ExponentialMovAvg (ML Engine)</h1><div class="body conbody">
<p class="p">The ExponentialMovAvg function computes the exponential moving average of a time series. The exponential moving average applies a damping factor, <var class="keyword varname">alpha</var>, that exponentially decreases the weights of older values. This technique gives much more weight to recent observations, while retaining older observations.</p>
<p class="p">The ExponentialMovAvg function computes the arithmetic average of the first <var class="keyword varname">n</var> rows and then, for each subsequent row, computes the new value with this formula:</p><pre class="pre codeblock" xml:space="preserve"><code><var class="keyword varname">new_emavg</var> = <var class="keyword varname">alpha</var> * <var class="keyword varname">new_value</var> + (1 - <var class="keyword varname">alpha</var>) * <var class="keyword varname">old_emavg</var></code></pre>
<p class="p">The initial value of <var class="keyword varname">old_emavg</var> is the arithmetic average of the first <var class="keyword varname">n</var> rows.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="edn1507058864726" xml:lang="en-us" lang="en-us" id="edn1507058864726">
<h2 class="title topictitle2" id="ariaid-title2">ExponentialMovAvg Syntax</h2><div class="body refbody"><div class="section" id="edn1507058864726__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.4</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ExponentialMovAvg (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY <var class="keyword varname">partition_column</var> ORDER BY <var class="keyword varname">order_column</var>
  [ USING
    [ TargetColumns ({ '<var class="keyword varname">target_column</var>' | '<var class="keyword varname">target_column_range</var>' }[,...]) ]
    [ Alpha (<var class="keyword varname">alpha</var>) ]
    [ StartRows (<var class="keyword varname">n</var>) ]
    [ IncludeFirst (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="ldo1507056820372" xml:lang="en-us" lang="en-us" id="ldo1507056820372">
<h2 class="title topictitle2" id="ariaid-title3">ExponentialMovAvg Syntax Elements</h2><div class="body refbody"><div class="section" id="ldo1507056820372__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">[Optional] Specify the input column names for which to compute the exponential moving average.</dd><dd class="dd pd ddexpand">Default behavior: The function copies every input column to the output table but does not compute any exponential moving averages.</dd><dt class="dt pt dlterm">Alpha</dt><dd class="dd pd">[Optional] Specify the damping factor, a value in the range [0, 1], which represents a percentage in the range [0, 100]. For example, if <var class="keyword varname">alpha</var> is 0.2, the damping factor is 20%. A higher <var class="keyword varname">alpha</var> discounts older observations faster.</dd><dd class="dd pd ddexpand">Default: 0.1</dd><dt class="dt pt dlterm">StartRows</dt><dd class="dd pd">[Optional] Specify the number of rows to skip before calculating the exponential moving average. The function uses the arithmetic average of these rows as the initial value of the exponential moving average. The value <var class="keyword varname">n</var> must be an integer.</dd><dd class="dd pd ddexpand">Default: 2</dd><dt class="dt pt dlterm">IncludeFirst</dt><dd class="dd pd">[Optional] Specify whether to include the starting rows in the output table.</dd><dd class="dd pd ddexpand">Default: 'false'. If you specify 'true', the output columns for the starting rows contain NULL, because their exponential moving average is undefined.</dd></dl></div></div></div></div></body></html>
