<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="azu1506621290339" id="azu1506621290339"><h1 class="title topictitle1" id="ariaid-title1">ShapeletUnsupervised (ML Engine)</h1><div class="body conbody"><div class="section" id="azu1506621290339__section_omr_xg4_zdb">
<p class="p">The ShapeletUnsupervised function takes a set of time series and assigns them to clusters, based on the u_shapelets that it finds.</p></div><div class="section" id="azu1506621290339__section_urk_yg4_zdb">
<h2 class="title sectiontitle">Steps Function Uses</h2>
<ol class="ol" id="azu1506621290339__ol_k1z_pxk_p1b">
<li class="li">Saxify the input data (as described in <a href="rbd1558462910521.md#lxc1506547203185">SAX (ML Engine)</a>).</li>
<li class="li">Apply random masking to the input data.</li>
<li class="li">Use statistics to find u_shapelets.</li>
<li class="li">Use scores to find u_shapelets.</li>
<li class="li">Use the u_shapelets to cluster the times series.</li></ol></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="agm1506624259910" xml:lang="en-us" lang="en-us" id="agm1506624259910">
<h2 class="title topictitle2" id="ariaid-title2">ShapeletUnsupervised Syntax</h2><div class="body refbody"><div class="section" id="agm1506624259910__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.9</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ShapeletUnsupervised (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ OUT TABLE OutputTable (<var class="keyword varname">output_table</var>) ]
  USING
  TimeColumn ('<var class="keyword varname">time_column</var>')
  TargetColumn ('<var class="keyword varname">target_column</var>')
  SAXWindowSize (<var class="keyword varname">window_size</var>)
  [ SAXSymbolsPerWindow (<var class="keyword varname">symbols_per_window</var>) ]
  [ SAXOutputFrequency (<var class="keyword varname">gap_between_windows</var>) ]
  IDColumn ('<var class="keyword varname">id_column</var>')
  [ RandomProjections (<var class="keyword varname">projections</var>) ]
  [ StopThreshold (<var class="keyword varname">threshold</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ ShapeletCutOff (<var class="keyword varname">cut_off</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="wnx1506624361737" xml:lang="en-us" lang="en-us" id="wnx1506624361737">
<h2 class="title topictitle2" id="ariaid-title3">ShapeletUnsupervised Syntax Elements</h2><div class="body refbody"><div class="section" id="wnx1506624361737__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">[Optional] Specify the name for the table that the function outputs.</dd><dd class="dd pd ddexpand">Default: output_table in the current schema</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the time series.</dd><dt class="dt pt dlterm">TargetColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the data point values.</dd><dt class="dt pt dlterm">SAXWindowSize</dt><dd class="dd pd">Specify the SAX syntax element WindowSize, which specifies the size of the sliding window. The <var class="keyword varname">window_size</var> must be an INTEGER in the range [1, 1000000].</dd><dt class="dt pt dlterm">SAXSymbolsPerWindow</dt><dd class="dd pd">[Optional] Specify the SAX syntax element SymbolsPerWindow, which specifies the number of SAX code symbols to create from a window. The <var class="keyword varname">symbols_per_window</var> must an INTEGER in the range [1, 1000000]. If <var class="keyword varname">symbols_per_window</var> is greater than <var class="keyword varname">window_size</var>, the function changes <var class="keyword varname">symbols_per_window</var> to <var class="keyword varname">window_size</var>.</dd><dd class="dd pd ddexpand">Default: <var class="keyword varname">symbols_per_window</var> is the same as <var class="keyword varname">window_size</var></dd><dt class="dt pt dlterm">SAXOutputFrequency</dt><dd class="dd pd">[Optional] Specify the SAX syntax element OutputFrequency, which specifies the number of data points to skip between successive sliding windows. The <var class="keyword varname">gap_between_windows</var> must be an integer in the range [1, 1000]. A smaller value increases accuracy (the chance of distinguishing time series from each other) at the cost of higher execution time.</dd><dd class="dd pd ddexpand">Default: 1</dd><dt class="dt pt dlterm">IDColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the unique identity of a time series.</dd><dt class="dt pt dlterm">RandomProjections</dt><dd class="dd pd">[Optional] Specify the number of iterations required for random masking of SAX words during u_shapelets selection. The <var class="keyword varname">projections</var> must be an INTEGER in the range [1, 30]. Specifying a greater <var class="keyword varname">projections</var> for a longer input time series increases the probability of identifying better u_shapelets at the cost of higher execution time.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">StopThreshold</dt><dd class="dd pd">[Optional] Specify the value at which an iteration stops and the function stops. The iteration <var class="keyword varname">i</var> ends when <var class="keyword varname">score</var><span><sub>i</sub></span> / <var class="keyword varname">score</var><span><sub>i-1</sub></span> is less than <var class="keyword varname">threshold</var>. The <var class="keyword varname">threshold</var> must be a DOUBLE PRECISION value in the range (0, 1).</dd><dd class="dd pd ddexpand">Default: 0.5</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the number of iterations at which the function stops. The <var class="keyword varname">max_iterations</var> must be an INTEGER in the range [1, 50].</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">ShapeletCutOff</dt><dd class="dd pd">[Optional] Specify the percentage of u-shapelets to use. The <var class="keyword varname">cut_off</var> must be a DOUBLE PRECISION value in the range (0, 1].</dd><dd class="dd pd ddexpand">Default: 0.1 (10%)</dd></dl></div></div></div></div>
