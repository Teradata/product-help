<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="stw1507902267618" id="stw1507902267618"><h1 class="title topictitle1" id="ariaid-title1">GeometryLoader (ML Engine)</h1><div class="body conbody">
<p class="p">The GeometryLoader function fetches file-based geospatial files from AFS, parses them, and stores them in Teradata Database. The function only loads input formats from AFS and converts them to WKT or other formats in the database.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="fvk1507902537136" xml:lang="en-us" lang="en-us" id="fvk1507902537136">
<h2 class="title topictitle2" id="ariaid-title2">GeometryLoader Syntax</h2><div class="body refbody"><div class="section" id="fvk1507902537136__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.3</h3>
<p class="p">For the ON clause, create a table mr_driver once, with no rows. For example:</p><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryLoader (
  ON mr_driver
  USING
  Path ('<var class="keyword varname">input_path</var>' [,...])
  [ Host ('<var class="keyword varname">afs_server_ip_address</var>') ]
  [ Port ('<var class="keyword varname">afs_server_port_number</var>') ]
  [ InputFormat ({ 'kml' | 'geojson' | 'shp' | 'mapinfo' }) ]
  [ OutputFormat ({ 'wkt' | 'json' | 'kml' | 'gml' }) ]
  [ OutputAttributes ('<var class="keyword varname">colname</var> [ <var class="keyword varname">coltype</var> ]' [,...]) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="hro1507902541985" xml:lang="en-us" lang="en-us" id="hro1507902541985">
<h2 class="title topictitle2" id="ariaid-title3">GeometryLoader Arguments</h2><div class="body refbody"><div class="section" id="hro1507902541985__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">Path</dt><dd class="dd pd">Specify the AFS directory or file name from which to fetch the geometry file. For example:
<ul class="ul" id="hro1507902541985__ul_yg2_g4p_1cb">
<li class="li"><span><i>/test</i></span></li>
<li class="li"><span><i>/test/testfile.xml</i></span></li>
<li class="li"><span><i>/test/*.xml</i></span></li></ul></dd><dd class="dd pd ddexpand">The <var class="keyword varname">input_path</var> can include regular expressions.<div class="note note" id="hro1507902541985__note_N1005C_N1004D_N10040_N1003D_N10015_N10011_N1000E_N10001"><span><b>Note</b></span><div class="notebody">
<ul class="ul" id="hro1507902541985__ul_ej4_ms1_hy">
<li class="li">Before calling this function, verify that the directories and files that you want to specify are available on the AFS system.</li>
<li class="li">A zip file is treated as a directory.</li></ul></div></div></dd><dt class="dt pt dlterm">Host</dt><dd class="dd pd">[Optional] Specify the namemode/IP Address of the AFS (cluster) server.</dd><dd class="dd pd ddexpand">Default: IP address of queen node</dd><dt class="dt pt dlterm">Port</dt><dd class="dd pd">[Optional] Specify the port on the AFS server to which to connect.</dd><dd class="dd pd ddexpand">Default: 2601</dd><dt class="dt pt dlterm">InputFormat</dt><dd class="dd pd">[Optional] Specify the format of the geospatial data in the specified files.</dd><dd class="dd pd ddexpand">Default behavior: The function determines the format.</dd><dt class="dt pt dlterm">OutputFormat</dt><dd class="dd pd">[Optional] Specify the representation format of geospatial output data.<div class="note note" id="hro1507902541985__note_N10080_N1007C_N10072_N10030_N10011_N1000E_N1000C_N10001"><span><b>Note</b></span><div class="notebody">The PointInPolygon and GeometryOverlay functions support only WKT.</div></div></dd><dd class="dd pd ddexpand">Default: 'wkt' (WKT)</dd><dt class="dt pt dlterm">OutputAttributes</dt><dd class="dd pd">[Optional] Specify the output column names and types. The <var class="keyword varname">column_type</var> must be VARCHAR, INT, or DOUBLE PRECISION.</dd><dd class="dd pd ddexpand">Default: VARCHAR</dd></dl><div class="note tip" id="hro1507902541985__note_N1005B_N1004D_N10040_N1003D_N10015_N10011_N1000E_N10001"><span><b>Tip</b></span><div class="notebody">This function can process the output of the GeometryLoader function, which is expressed in WKT. For example, you can use the GeometryLoader function to convert GIS data formats (for example, shapefile (.shp), MapInfo TAB (.tab), Keyhole Markup Language (KML), and GeoJSON) to WKT and use the PointInPolygon function to process the resulting WKT data.</div></div></div></div></div></div>
