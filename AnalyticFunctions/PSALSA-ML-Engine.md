<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="caa1507826678390" id="caa1507826678390"><h1 class="title topictitle1" id="ariaid-title1">PSALSA (ML Engine)</h1><div class="body conbody">
<p class="p">The PSALSA (Personalized SALSA) function is a <span><b>SQL-GR</b></span> function that evaluates the similarity of nodes in a bipartite graph according to their proximity. The typical application of PSALSA is for recommendation.</p>
<p class="p">The PSALSA function assigns numerical scores (between 0 and 1) to the vertices on both sides of the bipartite graph for each seed (hub) vertex. Also, for each seed vertex, the function outputs <var class="keyword varname">K</var> hub/authority vertices with highest score.</p>
<p class="p">The score assigned by PSALSA to a node defines the probability of visiting the node by a random walk with a restart from a seed node.</p></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a></div></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="sfd1507827782598" xml:lang="en-us" lang="en-us" id="sfd1507827782598">
<h2 class="title topictitle2" id="ariaid-title2">PSALSA Syntax</h2><div class="body refbody"><div class="section" id="sfd1507827782598__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.3</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM PSALSA (
  ON <var class="keyword varname">vertices_table</var> AS Vertices PARTITION BY <var class="keyword varname">vertex_key_column</var> [,...] 
  ON <var class="keyword varname">edges_table</var> AS Edges PARTITION BY <var class="keyword varname">source_vertex_key_column</var> [,...] 
  [ ON <var class="keyword varname">sources_table</var> AS Sources PARTITION BY <var class="keyword varname">source_vertex_key_column</var> [,...] ]
  [ ON <var class="keyword varname">targets_table</var> AS Targets PARTITION BY <var class="keyword varname">target_vertex_key_column</var> [,...] ]
  USING
  SourceKey ({ '<var class="keyword varname">source_vertex_column</var>' | <var class="keyword varname">source_vertex_column_range</var> }[,...])
  TargetKey ({ '<var class="keyword varname">target_vertex_column</var>' | <var class="keyword varname">target_vertex_column_range</var> }[,...])
  [ EdgeWeight (<var class="keyword varname">weight_column</var>) ]
  MaxHubNum (<var class="keyword varname">max_hubs</var>)
  MaxAuthorityNum (<var class="keyword varname">max_authority</var>)
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
  [ TeleportProb (<var class="keyword varname">eta</var>) ]
  [ RandomWalkLength (<var class="keyword varname">L</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="obm1507827859880" xml:lang="en-us" lang="en-us" id="obm1507827859880">
<h2 class="title topictitle2" id="ariaid-title3">PSALSA Syntax Elements</h2><div class="body refbody"><div class="section" id="obm1507827859880__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">SourceKey</dt><dd class="dd pd">Specify the source key (the names of the Edges table columns that identify the target vertex). If you specify <var class="keyword varname">sources_table</var>, the function uses only the vertices in <var class="keyword varname">sources_table</var> as sources (which must be a subset of those that this syntax element specifies).
<p class="p">The function uses these names to construct the column names for recommended hub nodes in the output table.</p></dd><dt class="dt pt dlterm">TargetKey</dt><dd class="dd pd">Specify the target key (the names of the Edges table columns that identify the target vertex). If you specify <var class="keyword varname">targets_table</var>, the function uses only the vertices in targets_table as targets (which must be a subset of those that this syntax element specifies).</dd><dt class="dt pt dlterm">EdgeWeight</dt><dd class="dd pd">[Optional] Specify the name of the Edges table column that contains edge weights. Each <var class="keyword varname">edge_weight</var> is a positive value.</dd><dd class="dd pd ddexpand">Default behavior: Each <var class="keyword varname">edge_weight</var> is 1; that is, the graph is unweighted.</dd><dt class="dt pt dlterm">MaxHubNum</dt><dd class="dd pd">Specify the maximum number of hub vertices with the highest score output for each hub vertex. The <var class="keyword varname">max_hubs</var> must be an INTEGER.</dd><dt class="dt pt dlterm">MaxAuthorityNum</dt><dd class="dd pd">Specify the maximum number of authority vertices with the highest score output for each hub vertex. The <var class="keyword varname">max_authority</var> must be an INTEGER.</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the name of the Vertices table columns to copy to the output table.</dd><dt class="dt pt dlterm">TeleportProb</dt><dd class="dd pd">[Optional] Specify the probability ε, a DOUBLE PRECISION value between 0 and 1 that represents the jump to the seed vertex during random walk.</dd><dd class="dd pd ddexpand">Default: 0.15</dd><dt class="dt pt dlterm">RandomWalkLength</dt><dd class="dd pd">[Optional] Specify the random walk length <var class="keyword varname">L</var> for each hub vertex. <var class="keyword varname">L</var> must be an INTEGER. The final hub/authority score is computed as <code class="ph codeph">ε*<var class="keyword varname">K</var><var class="keyword varname">v</var>/<var class="keyword varname">L</var></code>, where <var class="keyword varname">K</var><var class="keyword varname">v</var> is the number of times that the random walk visits vertex <var class="keyword varname">v</var>.</dd><dd class="dd pd ddexpand">Default: 5000</dd></dl></div></div></div></div></body></html>
