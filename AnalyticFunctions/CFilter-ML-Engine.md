<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="diu1507746673334" id="diu1507746673334"><h1 class="title topictitle1" id="ariaid-title1">CFilter (ML Engine)</h1><div class="body conbody">
<p class="p">A typical input table for the CFilter function is a set of sales transactions, with a column of purchased items and a column of something by which to group the purchased items; for example, a transaction id or time stamp.</p>
<p class="p">The CFilter function calculates several statistical measures of how likely each pair of items is to be purchased together. You can use CFilter output as input to the WSRecommender function, which performs item-based, collaborative filtering, using a weighted-sum algorithm, to make recommendations.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="vva1507746596598" xml:lang="en-us" lang="en-us" id="vva1507746596598">
<h2 class="title topictitle2" id="ariaid-title2">CFilter Syntax</h2><div class="body refbody"><div class="section" id="vva1507746596598__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.13</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM CFilter (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  USING
  TargetColumns ({ '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,...])
  JoinColumns ({ '<var class="keyword varname">join_column</var>' | <var class="keyword varname">join_column_range</var> }[,...])
  [ PartitionColumns ({ '<var class="keyword varname">partition_column</var>' | <var class="keyword varname">partition_column_range</var> }[,...]) ]
  [ PartitionKey ('<var class="keyword varname">partition_key_column</var>') ]
  [ MaxDistinctItems (<var class="keyword varname">max_distinct_items</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="xep1507746600435" xml:lang="en-us" lang="en-us" id="xep1507746600435">
<h2 class="title topictitle2" id="ariaid-title3">CFilter Syntax Elements</h2><div class="body refbody"><div class="section" id="xep1507746600435__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">Specify the name of the output table that the function creates. The table must not exist.</dd><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">Specify the names of the InputTable columns that contain the data to filter.</dd><dt class="dt pt dlterm">JoinColumns</dt><dd class="dd pd">Specify the names of join columns, which the function uses as follows:
<ol class="ol" id="xep1507746600435__ol_bmd_1x1_4z">
<li class="li">The function uses the items in each join column to define groups of items listed in the input columns.</li>
<li class="li">The function tries to identify items in each input column that often appear in the same group.</li></ol>
<p class="p">For example, a join column might contain a list of sales transactions from a store, and the input column might contain each individual item purchased at the store. A sales transaction can include multiple items. For each sales transaction, the function tries to identify items that often appear in the same sales transaction (that is, items that are often purchased together).</p></dd><dt class="dt pt dlterm">PartitionColumns</dt><dd class="dd pd">[Optional] Specify the names of the input columns to copy to the output table. The function partitions the input data and the output table on these columns.</dd><dd class="dd pd ddexpand">Specifying a column as both an <var class="keyword varname">partition_column</var> and a <var class="keyword varname">join_column</var> causes incorrect counts in partitions.</dd><dd class="dd pd ddexpand">This syntax element makes the function output nondeterministic unless each <var class="keyword varname">partition_column</var> is unique in the group defined by JoinColumns (for more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>).</dd><dd class="dd pd ddexpand">Default behavior: The function treats the input data as belonging to one partition.</dd><dt class="dt pt dlterm">PartitionKey</dt><dd class="dd pd">[Optional] Specify the name of the output column to use as the partition key.</dd><dd class="dd pd ddexpand">Default: 'col1_item1'</dd><dt class="dt pt dlterm">MaxDistinctItems</dt><dd class="dd pd">[Optional] Specify the maximum size of the item set.</dd><dd class="dd pd ddexpand">The function uses <var class="keyword varname">max_item_set</var> to determine the size of the data structures it uses to accumulate intermediate results. If the number of distinct items in an <var class="keyword varname">target_column</var> is greater than <var class="keyword varname">max_item_set</var>, the function might report incorrect results without an error message.</dd><dd class="dd pd ddexpand">Default: 100 </dd></dl></div></div></div></div></body></html>
