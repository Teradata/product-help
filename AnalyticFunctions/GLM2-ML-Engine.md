<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ynr1507159835395" id="ynr1507159835395"><h1 class="title topictitle1" id="ariaid-title1">GLM2 (ML Engine)</h1><div class="body conbody"><div class="section" id="ynr1507159835395__section_fsk_ssm_sbb"><div class="p">The GLM2 function differs from the <a href="eej1558472403086.md#hrv1507149150084">GLM (ML Engine)</a> function in these ways:
<ul class="ul" id="ynr1507159835395__ul_fpz_5f3_mz">
<li class="li">GLM2 supports the regularization models ridge, LASSO, and elastic net.</li>
<li class="li">GLM2 uses the coordinate descent method to minimize the loss function (GLM uses the Fisher scoring method).</li>
<li class="li">GLM2 outputs a model table and, optionally, a regularization table (GLM outputs only a model table).</li></ul></div>
<p class="p">You can input the model table and regularization table to the <a href="jsl1577120614790.md#xju1507161026486">GLM2Predict (ML Engine)</a> function.</p></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="wgz1507159928415" xml:lang="en-us" lang="en-us" id="wgz1507159928415">
<h2 class="title topictitle2" id="ariaid-title2">GLM2 Syntax</h2><div class="body refbody"><div class="section" id="wgz1507159928415__section_N10011_N1000E_N10001">
<h3 class="title sectiontitle">Version 1.8</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GLM2 (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  OUT TABLE ModelTable (<var class="keyword varname">model_table</var>)
  [ OUT TABLE RegularizationTable (<var class="keyword varname">regularization_table</var>) ]
  USING
  InputColumns ({ '<var class="keyword varname">predictor_var_column</var>' | <var class="keyword varname">predictor_var_column_range</var> }[,...])
  [ CategoricalColumns (({ '<var class="keyword varname">categorical_column_and_categories</var>' [,...])]
  [ WeightColumn ('<var class="keyword varname">weight_column</var>') ]
  ResponseColumn ('<var class="keyword varname">response_column</var>')
  [ Family ({ 'BINOMIAL' | 'GAUSSIAN' | 'POISSON' }) ]
  { Lambda (<var class="keyword varname">lambda</var> [,...]) |
    NumLambdas (<var class="keyword varname">num_lambdas</var>) ]
    MinLambdaRatio (<var class="keyword varname">min_lambda_ratio</var>) ]
  }
  [ StopThreshold (<var class="keyword varname">threshold</var>) ]
  [ Alpha (<var class="keyword varname">alpha</var>)]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ Intercept (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="mic1507159982725" xml:lang="en-us" lang="en-us" id="mic1507159982725">
<h2 class="title topictitle2" id="ariaid-title3">GLM2 Arguments</h2><div class="body refbody"><div class="section" id="mic1507159982725__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">ModelTable</dt><dd class="dd pd">Specify the name for the output table that contains the trained model. The trained model contains parameters, statistics, and the coefficients of the predictors for <var class="keyword varname">lambda</var>. This table must not exist.</dd><dt class="dt pt dlterm">RegularizationTable</dt><dd class="dd pd">[Optional] Specify the name for the output table that contains the statistics and coefficients of each <var class="keyword varname">lambda</var>. Recommended if you want predicted results for each <var class="keyword varname">lambda</var> from GLM2Predict.</dd><dt class="dt pt dlterm">InputColumns</dt><dd class="dd pd">Specify the names of the <var class="keyword varname">input_table</var> columns that contain the variables to use as predictors (independent variables).</dd><dt class="dt pt dlterm">CategoricalColumns</dt><dd class="dd pd">[Optional] Specify the names of the <var class="keyword varname">input_table</var> columns that contain categorical variables, and which of their categories to use in the model.</dd><dd class="dd pd ddexpand"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mic1507159982725__table_sxq_xqy_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d39761e200" rowspan="1" colspan="1"><var class="keyword varname">categorical_column_and_categories</var></th><th class="entry cellrowborder" style="vertical-align:top;" id="d39761e203" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e200" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">categorical_column</var>:<var class="keyword varname">max_cardinality</var>'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e203" rowspan="1" colspan="1">Uses most common categories in <var class="keyword varname">categorical_column</var> and groups other categories into category 'others'. 
<p class="p">For example, 'column_a:3' specifies that for column_a, function uses 3 most common categories and sets category of rows that do not belong to those 3 categories to 'others'.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e200" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">categorical_column</var>:(<var class="keyword varname">category</var> [,...])'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e203" rowspan="1" colspan="1">Uses specified categories of <var class="keyword varname">categorical_column</var> and groups other categories into category 'others'. 
<p class="p">For example, 'column_a : (red, yellow, blue)' specifies that for column_a, function uses categories red, yellow, and blue, and sets category of rows that do not belong to those categories to 'others'.</p></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e200" rowspan="1" colspan="1"><code class="ph codeph">'<var class="keyword varname">categorical_column</var>'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e203" rowspan="1" colspan="1">Uses all categories in <var class="keyword varname">categorical_column</var>.</td></tr></tbody></table></div></dd><dd class="dd pd ddexpand">If you use this argument, you must also specify each <var class="keyword varname">categorical_column</var> in the InputColumns argument.</dd><dd class="dd pd ddexpand">Default behavior: The function treats all variables as numerical.<div class="note note" id="mic1507159982725__note_N10040_N10037_N10030_N10017_N10013_N10010_N10001"><span><b>Note</b></span><div class="notebody">For information about columns that you must identify as categorical, see <a href="uxa1540574678350.md">Identification of Numeric and Categorical Columns</a>.</div></div></dd><dt class="dt pt dlterm">WeightColumn</dt><dd class="dd pd">[Optional] Specify the name of the <var class="keyword varname">input_table</var> column that contains the weights to assign to responses.</dd><dd class="dd pd ddexpand">You can use non-NULL weights to indicate that different observations have different dispersions (with the weights being inversely proportional to the dispersions). Equivalently, when the weights are positive integers w<span><sub>i</sub></span>, each response y<span><sub>i</sub></span> is the mean of w<span><sub>i</sub></span> unit-weight observations. A binomial GLM uses prior weights to give the number of trials when the response is the proportion of successes. A Poisson GLM rarely uses weights.</dd><dd class="dd pd ddexpand">If the weight is less than the response value, the function throws an exception. Therefore, if the response value is greater than 1 (the default weight), you must specify a weight that is greater than or equal to the response value.</dd><dd class="dd pd ddexpand">Default: 1</dd><dt class="dt pt dlterm">ResponseColumn</dt><dd class="dd pd">Specify the name of the <var class="keyword varname">input_table</var> column that contains the responses.</dd><dt class="dt pt dlterm">Family</dt><dd class="dd pd">[Optional] Specify the distribution exponential family.</dd><dd class="dd pd ddexpand">Default: 'GAUSSIAN'</dd><dt class="dt pt dlterm">Lambda</dt><dd class="dd pd">[Optional. Disallowed if NumLambdas is specified.] Specify the regularization parameter sequence. Each <var class="keyword varname">lambda</var> must be a nonnegative DOUBLE PRECISION value. A value of zero disables regularization.</dd><dd class="dd pd ddexpand">Default behavior: The function computes the regularization parameter sequence using the NumLambdas and MinLambdaRatio argument values.</dd><dt class="dt pt dlterm">NumLambdas</dt><dd class="dd pd">[Required if Lambda is omitted, disallowed otherwise] Specify the number of lambda values in the regularization parameter sequence. The <var class="keyword varname">num_lambdas</var> must be a positive INTEGER. The function uses <var class="keyword varname">num_lambdas</var> and <var class="keyword varname">min_lambda_ratio</var> to compute the regularization parameter sequence.</dd><dd class="dd pd ddexpand">Default: 100</dd><dd class="dd pd ddexpand">Maximum: 10,000</dd><dt class="dt pt dlterm">MinLambdaRatio</dt><dd class="dd pd">[Required if Lambda is omitted, disallowed otherwise] Specify the minimum lambda value in the regularization parameter sequence (MinLambda) as a fraction of the maximum lambda value in the regularization parameter sequence (MaxLambda). The <var class="keyword varname">min_lambda_ratio</var> must be in [0, 1). </dd><dd class="dd pd ddexpand">To calculate the value of MaxLambda, the function uses the input data set.</dd><dd class="dd pd ddexpand">To calculate the value of MinLambda, the function uses this formula:
<p class="p"><code class="ph codeph">MinLambda = MaxLambda * <var class="keyword varname">min_lambda_ratio</var></code></p></dd><dd class="dd pd ddexpand">To calculate the step for decreasing the lambda value from MaxLambda to MinLambda, the function uses this formula:
<p class="p"><code class="ph codeph"><var class="keyword varname">min_lambda_ratio</var><span><sup>(1/(<var class="keyword varname">num_lambdas</var>-1))</sup></span></code></p></dd><dd class="dd pd ddexpand">Default: 0.05 if the number of rows (observations) in the input data set is less than the number of predictors (independent variables), otherwise 0.0001.</dd><dt class="dt pt dlterm">StopThreshold</dt><dd class="dd pd">[Optional] Specify the convergence threshold of coordinate descent. The <var class="keyword varname">threshold</var> must be a nonnegative DOUBLE PRECISION value.</dd><dd class="dd pd ddexpand">Default: 1.0e<span><sup>-7</sup></span></dd><dt class="dt pt dlterm">Alpha</dt><dd class="dd pd">[Optional] Specify the mixing parameter for penalty computation (see the following table). The <var class="keyword varname">alpha</var> must be in [0, 1]. If <var class="keyword varname">alpha</var> is in (0,1), it represents α in the elastic net regularization formula in <a href="wdd1577120506488.md#ynr1507159835395">GLM2 (ML Engine)</a>.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mic1507159982725__table_bdv_f35_lz" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:20%" span="1"></col><col style="width:60%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d39761e402" rowspan="1" colspan="1"><var class="keyword varname">alpha</var></th><th class="entry cellrowborder" style="vertical-align:top;" id="d39761e405" rowspan="1" colspan="1">Regularization Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d39761e407" rowspan="1" colspan="1">Parameter Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e402" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e405" rowspan="1" colspan="1">Ridge</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e407" rowspan="1" colspan="1"><img class="image" id="mic1507159982725__image_trx_kkp_4z" src="hjg1527875586223.png"></img></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e402" rowspan="1" colspan="1">(0,1)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e405" rowspan="1" colspan="1">Elastic net</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e407" rowspan="1" colspan="1"><img class="image" id="mic1507159982725__image_s1s_xxc_12b" src="lcy1527880270334.png"></img></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e402" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e405" rowspan="1" colspan="1">LASSO</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d39761e407" rowspan="1" colspan="1"><img class="image" id="mic1507159982725__image_dzl_hlp_4z" src="cuy1527878530860.png"></img></td></tr></tbody></table></div></dd><dd class="dd pd ddexpand">Default: 0.1</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the maximum number of iterations over the data for all lambda values. The parameter <var class="keyword varname">max_iterations</var> must be a positive INTEGER value.</dd><dd class="dd pd ddexpand">Default: 10<span><sup>5</sup></span></dd><dt class="dt pt dlterm">Intercept</dt><dd class="dd pd">[Optional] Specify whether the function uses an intercept. For example, in β0+β1*X1+β2*X2+ ....+ βpXp, the intercept is β0.</dd><dd class="dd pd ddexpand">Default: 'true'</dd></dl></div></div></div></div></body></html>
