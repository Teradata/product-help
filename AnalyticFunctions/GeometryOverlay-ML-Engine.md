<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ktq1507841046186" id="ktq1507841046186"><h1 class="title topictitle1" id="ariaid-title1">GeometryOverlay (ML Engine)</h1><div class="body conbody">
<p class="p">The GeometryOverlay function takes two geometries described by the
			well-known text (WKT) markup language and outputs the result of overlaying them, as
			specified by the boundary operator.</p>
<p class="p">You can use this function to prepare sets of geometries for input to the <a href="vfd1558453668981.md#ymo1507842459658">PointInPolygon (ML Engine)</a> function. For example, you can use this function to prepare a geometry that contains all cellular phone reception polygons near an airport to create a geometry that is useful for identifying frequent fliers.</p>
<p class="p">The function works only on 2D spatial objects.</p></div><div class="topic concept nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="unc1466004897816" xml:lang="en-us" lang="en-us" id="unc1466004897816">
<h2 class="title topictitle2" id="ariaid-title2">GeometryOverlay Syntax</h2><div class="topic reference nested2" aria-labelledby="ariaid-title3" topicindex="3" topicid="ywa1507841106941" xml:lang="en-us" lang="en-us" id="ywa1507841106941">
<h3 class="title topictitle3" id="ariaid-title3">UNION, INTERSECTION, DIFFERENCE and SYMDIFFERENCE</h3><div class="body refbody"><div class="section" id="ywa1507841106941__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.4</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS SourceTable PARTITION BY { ANY | <var class="keyword varname">key</var> }
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS ReferenceTable { DIMENSION | PARTITION BY <var class="keyword varname">key</var> }
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  ReferenceLocationColumn ('<var class="keyword varname">ref_location_column</var>')
  ReferenceNameColumns ({ '<var class="keyword varname">ref_name_column</var>' | <var class="keyword varname">ref_name_column_range</var> }[,...])
  BoundaryOperator ({ 'UNION' | 'INTERSECTION' | 'DIFFERENCE' | 'SYMDIFFERENCE' })
  [ OutputAll (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title4" topicindex="4" topicid="jdg1507841111498" xml:lang="en-us" lang="en-us" id="jdg1507841111498">
<h3 class="title topictitle3" id="ariaid-title4">CONVEXHULL</h3><div class="body refbody"><div class="section" id="jdg1507841111498__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.4</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  BoundaryOperator ('CONVEXHULL')
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title5" topicindex="5" topicid="pju1507841115813" xml:lang="en-us" lang="en-us" id="pju1507841115813">
<h3 class="title topictitle3" id="ariaid-title5">BUFFER</h3><div class="body refbody"><div class="section" id="pju1507841115813__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.4</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  BoundaryOperator ('BUFFER')
  Distance ('<var class="keyword varname">distance</var>')
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="qug1507841137419" xml:lang="en-us" lang="en-us" id="qug1507841137419">
<h2 class="title topictitle2" id="ariaid-title6">GeometryOverlay Syntax Elements</h2><div class="body refbody"><div class="section" id="qug1507841137419__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">SourceLocationColumn</dt><dd class="dd pd">Specify the name of the SourceTable column that contains the polygon description in WKT format.</dd><dt class="dt pt dlterm">ReferenceLocationColumn</dt><dd class="dd pd">Specify the name of the ReferenceTable column that contains the location of the polygon description in WKT format.</dd><dt class="dt pt dlterm">ReferenceNameColumns</dt><dd class="dd pd">Specify the names of the ReferenceTable columns that contain the names of the polygons.</dd><dt class="dt pt dlterm">BoundaryOperator</dt><dd class="dd pd">Specify a boundary (geometry overlay) operator from the following table.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qug1507841137419__table_N10094_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:19.35483870967742%" span="1"></col><col style="width:16.129032258064516%" span="1"></col><col style="width:64.51612903225806%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d10891e362" rowspan="1" colspan="1">Boundary Operator</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d10891e364" rowspan="1" colspan="1">Result</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d10891e366" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">UNION</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_svw_x4f_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_cpl_y4f_lw" src="omu1466005953714.png" alt="UNION of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains area covered by source polygon and area covered by reference polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">INTERSECTION</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_ls3_z4f_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_w5x_z4f_lw" src="hxn1466005954353.png" alt="INTERSECTION of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains area that is common to source and reference polygons (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">DIFFERENCE</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_qr1_bpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_vpp_bpf_lw" src="hmz1466005954893.png" alt="DIFFERENCE of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains area covered only by source polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">SYMDIFFERENCE</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_jjn_cpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_uhn_dpf_lw" src="xza1466005955441.png" alt="SYMDIFFERENCE of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains area covered by only source polygon or only reference polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">CONVEXHULL</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_qdf_gpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_bg5_gpf_lw" src="phn1466005956043.png" alt="CONVEXHULL of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains smallest convex set that contains source polygon in Euclidean plane (blue area in figure).</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d10891e362" rowspan="1" colspan="1">BUFFER</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d10891e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_ntz_kpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_nhd_mpf_lw" src="kvs1466005956627.png" alt="Positive BUFFER of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div><div class="p"><div class="fig fignone" id="qug1507841137419__fig_rvx_4pf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_wkb_qpf_lw" src="cmd1466005957163.png" alt="Negative BUFFER of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></div></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d10891e366" rowspan="1" colspan="1">Result contains source polygon and specified buffer.
<p class="p">A positive buffer extends area of polygon. In upper figure, result includes both buffer (blue) and source polygon (pale pink).</p>
<p class="p">A negative buffer decreases area of polygon. In lower figure, result includes only source polygon (blue).</p>
<p class="p">For buffer operation, eight segments is adopted in curve approximation for corners.</p></td></tr></tbody></table></div></dd><dt class="dt pt dlterm">Distance</dt><dd class="dd pd">[Required with BoundaryOperator('BUFFER').] Specify the distance by which to extend or decrease the polygon.</dd><dt class="dt pt dlterm">OutputAll</dt><dd class="dd pd">[Optional] Specify whether to include the result of nonintersection geometries in the output table.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the source table columns to copy to the output table.</dd></dl></div></div></div></div></body></html>
