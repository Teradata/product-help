<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="gjw1507907635272" id="gjw1507907635272"><h1 class="title topictitle1" id="ariaid-title1">VWAP (ML Engine)</h1><div class="body conbody">
<p class="p">The VWAP function computes the volume-weighted average price of a traded item (usually an equity share) for each time interval in a series of equal-length time intervals.</p>
<p class="p">Where <code class="ph codeph">sum</code> applies to the current time interval:</p>
<p class="p"><code class="ph codeph">VWAP = sum(<var class="keyword varname">volume</var>*<var class="keyword varname">price</var>)/sum(<var class="keyword varname">volume</var>)</code></p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="aml1507907707564" xml:lang="en-us" lang="en-us" id="aml1507907707564">
<h2 class="title topictitle2" id="ariaid-title2">VWAP Syntax</h2><div class="body refbody"><div class="section" id="aml1507907707564__section_N1005B_N10022_N10001">
<h3 class="title sectiontitle">Version ?</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM VWAP (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY <var class="keyword varname">expression</var> [,...] ORDER BY <var class="keyword varname">time_column</var> DESC
  [ USING
    [ Price ('<var class="keyword varname">price_column</var>') ]
    [ Volume ('<var class="keyword varname">volume_column</var>') ]
    [ TimeInterval (<var class="keyword varname">number_of_seconds</var>) ]
    [ TimeColumn ('<var class="keyword varname">time_column</var>') ]
    <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
  ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="vjc1507907768452" xml:lang="en-us" lang="en-us" id="vjc1507907768452">
<h2 class="title topictitle2" id="ariaid-title3">VWAP Syntax Elements</h2><div class="body refbody"><div class="section" id="vjc1507907768452__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">Price</dt><dd class="dd pd">[Optional] Specify the name of the input table column that contains the price at which the item traded.</dd><dd class="dd pd ddexpand">Default: 'price'</dd><dt class="dt pt dlterm">Volume</dt><dd class="dd pd">[Optional] Specify the name of the input table column that contains the number of units traded in the transaction.</dd><dd class="dd pd ddexpand">Default: 'volume'</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">[Optional] Specify the name of the input table column that contains the date and time of the trade.</dd><dd class="dd pd ddexpand">Default: 'dt'</dd><dt class="dt pt dlterm">TimeInterval</dt><dd class="dd pd">[Optional] Specify the number of seconds in each time interval.</dd><dd class="dd pd ddexpand">Default: 0 (Each row is an interval, and the function calculates no averages.)</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the InputTable columns to copy to the output table.</dd><dd class="dd pd ddexpand">Default: All input columns</dd></dl></div></div></div></div></body></html>
