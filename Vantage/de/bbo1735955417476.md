Das Erstellen eines Fremdservers beinhaltet die Ausführung von SQL-Anweisungen sowohl auf dem initiierenden (Quell-) als auch auf dem Zielsystem (Fremd-/Externsystem), um Berechtigungen zu erteilen und Ressourcen zu erstellen. Alle SQL-Anweisungen werden automatisch ausgeführt, um einen Fremdserver zu erstellen. Die Statuswerte für jede ausgeführte SQL-Anweisung lauten:

-   **Erfolg**

    Die SQL-Anweisung wurde erfolgreich ausgeführt.


-   **Fehlgeschlagen**

    Die SQL-Anweisung ist fehlgeschlagen. Dies wird durch einen Fehler angezeigt.


-   **Wird übersprungen**

    Die SQL-Anweisung war nicht erforderlich oder eine der SQL-Anweisungen ist fehlgeschlagen, wodurch die restlichen Anweisungen nicht ausgeführt wurden.


## Ausführungsphase


Die Phase der Erstellung des Fremdservers.

Aktionen auf dem Quellensystem umfassen Folgendes:

-   Erteilung der Berechtigungen, die zum Erstellen der erforderlichen Ressourcen oder zum Zugreifen auf die erforderlichen Funktionen benötigt werden.


-   Erstellung von Ressourcen wie Autorisierungsobjekten und Fremdservern.


Aktionen auf dem Zielsystem umfassen Folgendes:

-   Erstellung eines Dienstkontobenutzers.


-   Erteilung von **Connect-ThroughBerechtigungen für die zugelassenen Benutzer (falls noch nicht vorhanden).**


Wenn eine SQL-Anweisung während der Erstellung des Fremdservers fehlschlägt, werden die verbleibenden SQL-Anweisungen übersprungen und die Erstellung des Fremdservers wird gestoppt. Wenn dies geschieht, wird die **Rollback**-Phase ausgelöst (falls sie unterstützt wird), um die Aktionen auf dem initiierenden System und dem Zielsystem zu bereinigen. Nur die SQL-Anweisungen, die während der **Ausführung**-Phasen ausgeführt wurden, werden zurückgesetzt.

Die Fehlermeldung für die fehlgeschlagene Anweisung wird angezeigt, um die Fehlerbehebung zu unterstützen. Für die verbleibenden Anweisungen wird der Status **Wird übersprungen** angezeigt. Beheben Sie das aufgeführte Problem und führen Sie **Fremdserver erstellen** erneut aus.

## Rollback-Phase


Wenn die **Ausführung**-Phase während der Erstellung des Fremdservers fehlschlägt, wird die **Rollback**-Phase automatisch ausgeführt, um die Umgebung in den Ausgangszustand zurückzuversetzen. Die **Rollback**-Phase wird unterstützt, wenn auf sowohl der initiierenden als auch den Zielverbindungen QueryGrid 3.07 installiert ist.

Aktionen auf dem initiierenden System und dem Zielsystem:

-   Widerrufen der Zugriffsrechte, die während der Ausführungsphase erteilt wurden


-   Löschen der Objekte, die während der Ausführungsphase erstellt wurden (z. B. Autorisierung, Fremdserver, Dienstkontobenutzer)


Wenn eine SQL-Anweisung während des Rollbacks fehlschlägt, werden die verbleibenden SQL-Anweisungen übersprungen und der Rollback des Fremdservers wird gestoppt. Für die fehlgeschlagene Anweisung wird eine Fehlermeldung angezeigt, um die Wiederherstellung des vorherigen Zustands der Umgebung zu unterstützen. Beheben Sie den Fehler in der fehlgeschlagenen SQL-Anweisung und führen Sie die korrigierte Anweisung sowie alle **Wird übersprungen**-Anweisungen manuell aus.

Wenn während des Rollbacks ein Fehler auftritt, beheben Sie den Rollbackfehler, bevor Sie das Problem bei der Erstellung beheben.

