<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="qay1507218453121" id="qay1507218453121"><h1 class="title topictitle1" id="ariaid-title1">SentimentTrainer</h1><div class="body conbody">
<p class="p">The SentimentTrainer function trains a model; that is, takes training documents and outputs a maximum entropy classification model, which it installs on <span><b>ML Engine</b></span>.</p>
<p class="p">SentimentTrainer uses files that are preinstalled on <span><b>ML Engine</b></span>. For details, see <a href="tzu1557778477026.md">Preinstalled Files That Functions Use</a>.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="viz1507218493714" xml:lang="en-us" lang="en-us" id="viz1507218493714">
<h2 class="title topictitle2" id="ariaid-title2">SentimentTrainer Syntax</h2><div class="body refbody"><div class="section" id="viz1507218493714__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>2.5</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM SentimentTrainer (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  USING
  OutputModelFile (<var class="keyword varname">output_model_file</var>)
  TextColumn ('<var class="keyword varname">text_column</var>')
  SentimentColumn ('<var class="keyword varname">sentiment_column</var>')
  [ InputLanguage ({ 'en' | 'zh_CN' | 'zh_TW' }) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="hyr1507218574464" xml:lang="en-us" lang="en-us" id="hyr1507218574464">
<h2 class="title topictitle2" id="ariaid-title3">SentimentTrainer Syntax Elements</h2><div class="body refbody"><div class="section" id="hyr1507218574464__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputModelFile</dt><dd class="dd pd">Specify the name of the file to which the function outputs the model.</dd><dt class="dt pt dlterm">TextColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the training data.</dd><dt class="dt pt dlterm">SentimentColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the sentiment values, which are the following:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hyr1507218574464__table_pcv_pcz_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e137" rowspan="1" colspan="1">Sentiment Value</th><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e139" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e137" rowspan="1" colspan="1"><code class="ph codeph">'POS'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e139" rowspan="1" colspan="1">Positive</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e137" rowspan="1" colspan="1"><code class="ph codeph">'NEG'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e139" rowspan="1" colspan="1">Negative</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e137" rowspan="1" colspan="1"><code class="ph codeph">'NEU'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e139" rowspan="1" colspan="1">Neutral</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">InputLanguage</dt><dd class="dd pd">[Optional] Specify the language of the input text:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hyr1507218574464__d62e19" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e171" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e173" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e171" rowspan="1" colspan="1"><code class="ph codeph">'en'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e173" rowspan="1" colspan="1">English</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e171" rowspan="1" colspan="1"><code class="ph codeph">'zh_CN'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e173" rowspan="1" colspan="1">Simplified Chinese</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e171" rowspan="1" colspan="1"><code class="ph codeph">'zh_TW'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e173" rowspan="1" colspan="1">Traditional Chinese</td></tr></tbody></table></div></dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="par1507218641032" xml:lang="en-us" lang="en-us" id="par1507218641032">
<h2 class="title topictitle2" id="ariaid-title4">SentimentTrainer Input</h2><div class="body refbody"><div class="section" id="par1507218641032__section_ryp_x5c_ycb">
<h3 class="title sectiontitle">InputTable Schema</h3>
<p class="p">Each row contains a training document.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="par1507218641032__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:21.428571428571427%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:64.28571428571429%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d234650e219" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d234650e221" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d234650e223" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d234650e219" rowspan="1" colspan="1"><var class="keyword varname">input_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d234650e221" rowspan="1" colspan="1">Any</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d234650e223" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">input_column</var>.] <span>Column to copy to output table.</span></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d234650e219" rowspan="1" colspan="1"><var class="keyword varname">text_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d234650e221" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d234650e223" rowspan="1" colspan="1">Training document.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d234650e219" rowspan="1" colspan="1"><var class="keyword varname">sentiment_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d234650e221" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e223" rowspan="1" colspan="1">Sentiment value of document ('POS' (positive), 'NEG' (negative), or 'NEU' (neutral)).</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="juu1507218747957" xml:lang="en-us" lang="en-us" id="juu1507218747957">
<h2 class="title topictitle2" id="ariaid-title5">SentimentTrainer Output</h2><div class="body refbody"><div class="section" id="juu1507218747957__section_N1000E_N1000C_N10001">
<p class="p">The function outputs a message and a maximum entropy classification model (a binary file installed on <span><b>ML Engine</b></span>).</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="juu1507218747957__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"><span>Output Message Schema</span></div><colgroup span="1"><col style="width:17.24137931034483%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:68.96551724137932%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d234650e279" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d234650e281" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d234650e283" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d234650e279" rowspan="1" colspan="1">train_result</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d234650e281" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e283" rowspan="1" colspan="1">Message about model file.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="zvr1510348092883" xml:lang="en-us" lang="en-us" id="zvr1510348092883">
<h2 class="title topictitle2" id="ariaid-title6">SentimentTrainer Example</h2><div class="body refbody"><div class="section" id="zvr1510348092883__section_jcl_xjl_pdb">
<h3 class="title sectiontitle">Input</h3>
<p class="p">The input table is a collection of user reviews for different products.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zvr1510348092883__table_kfw_2kl_pdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: sentiment_train</span></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e328" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e330" rowspan="1" colspan="1">product</th><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e332" rowspan="1" colspan="1">category</th><th class="entry cellrowborder" style="vertical-align:top;" id="d234650e334" rowspan="1" colspan="1">review</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e328" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e330" rowspan="1" colspan="1">camera</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e332" rowspan="1" colspan="1">POS</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e334" rowspan="1" colspan="1">we primarily bought this camera for high image quality and excellent video capability without paying the price for a dslr. it has excelled in what we expected of it, and consequently represented excellent value for me. all my friends want my camera for their vacations. i would recommend this camera to anybody. definitely worth the price. plus, when you buy some accessories, it becomes even more powerful.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e328" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e330" rowspan="1" colspan="1">office suite</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e332" rowspan="1" colspan="1">POS</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e334" rowspan="1" colspan="1">it is the best office suite i have used to date. it is launched before office 2010 and it is ages ahead of it already. the fact that i could comfortable import xls, doc, ppt and modify them, and then export them back to the doc, xls, ppt is terrific. i needed the compatibility. it is a very intuitive suite and the drag drop functionality is terrific.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e328" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e330" rowspan="1" colspan="1">camera</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e332" rowspan="1" colspan="1">POS</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e334" rowspan="1" colspan="1">this is a nice camera, delivering good quality video images decent photos. light small, using easily obtainable, high quality minidv i love it. minor irritations include touchscreen based menu only digital photos can only be transferred via usb, requiring ilink and usb if you use ilink.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e328" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e330" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e332" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d234650e334" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="zvr1510348092883__section_orv_xjl_pdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM SentimentTrainer (
  ON sentiment_train AS InputTable
  USING
  TextColumn ('review')
  SentimentColumn ('category')
  OutputModelFile ('sentimentmodel1.bin')
) AS dt;</code></pre></div><div class="section" id="zvr1510348092883__section_ijg_yjl_pdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> train_result                   
 ------------------------------ 
 Model generated.              
 Training time(s): 0.027       
 File name: sentimentmodel1.bin
 File size(KB): 3              
 Model successfully installed</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
