<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="vqm1507162150338" id="vqm1507162150338"><h1 class="title topictitle1" id="ariaid-title1">KMeans</h1><div class="body conbody">
<p class="p">The KMeans function takes a data set and outputs the centroids of its clusters and, optionally, the clusters themselves. The <var class="keyword varname">k</var>-means algorithm groups a set of observations into <var class="keyword varname">k</var> clusters with each observation assigned to the cluster with the nearest centroid, or mean. The algorithm minimizes an objective function; in the KMeans function, the objective function is the total Euclidean distance of all data points from the center of the cluster to which they are assigned.</p><div class="p">This is the algorithm:
<ol class="ol" id="vqm1507162150338__ol_bm2_t1j_mbb">
<li class="li">Specify or randomly select <var class="keyword varname">k</var> initial cluster centroids.</li>
<li class="li">Assign each data point to the cluster that has the closest centroid.</li>
<li class="li">Recalculate the positions of the <var class="keyword varname">k</var> centroids.</li>
<li class="li">Repeat steps 2 and 3 until the centroids no longer move.</li></ol></div>
<p class="p">Although the procedure always terminates, the <var class="keyword varname">k</var>-means algorithm does not necessarily find the optimal configuration, corresponding to the global objective function minimum. The algorithm is significantly sensitive to the initial randomly selected cluster centers. To reduce the effect of these limitations, the <var class="keyword varname">k</var>-means algorithm can be run multiple times.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="alz1507162260661" xml:lang="en-us" lang="en-us" id="alz1507162260661">
<h2 class="title topictitle2" id="ariaid-title2">KMeans Syntax</h2><div class="body refbody"><div class="section" id="alz1507162260661__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.14</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KMeans (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS CentroidsTable ]
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  [ OUT TABLE ClusterAssignmentTable (<var class="keyword varname">cluster_assignement_table</var>) ]
  USING
  [ UnpackColumns (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  [ InitialSeeds ('<var class="keyword varname">starting_cluster</var>' [,...]) ]
  [ NumClusters (<var class="keyword varname">number_of_means</var>) [ Seed (<var class="keyword varname">seed</var>) ] ]
  [ StopThreshold (<var class="keyword varname">threshold</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre>
<p class="p">You must specify only one of NumClusters, InitialSeeds, or CentroidsTable. If you specify more than one, the function gives top priority to InitialSeeds, then to NumClusters, and then to CentroidsTable.</p></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="dyb1507162368051" xml:lang="en-us" lang="en-us" id="dyb1507162368051">
<h2 class="title topictitle2" id="ariaid-title3">KMeans Syntax Elements</h2><div class="body refbody"><div class="section" id="dyb1507162368051__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">Specify the name of the table of cluster centroids.</dd><dt class="dt pt dlterm">ClusterAssignmentTable</dt><dd class="dd pd">Specify the name of the table of the clusters.</dd><dt class="dt pt dlterm">UnpackColumns</dt><dd class="dd pd">[Optional] Specify whether the means for each centroid appear unpacked (that is, in separate columns) in the OutputTable.</dd><dd class="dd pd ddexpand">Default: 'false' (The function concatenates the means for the centroids and outputs the result in a single VARCHAR column.)</dd><dt class="dt pt dlterm">InitialSeeds</dt><dd class="dd pd">[Optional] Specify the initial seed means as strings of underscore-delimited DOUBLE PRECISION values. For example, this clause initializes eight clusters in eight-dimensional space:<pre class="pre codeblock" xml:space="preserve"><code>InitialSeeds ('50_50_50_50_50_50_50_50',
'150_150_150_150_150_150_150_150',
'250_250_250_250_250_250_250_250',
'350_350_350_350_350_350_350_350',
'450_450_450_450_450_450_450_450',
'550_550_550_550_550_550_550_550',
'650_650_650_650_650_650_650_650',
'750_750_750_750_750_750_750_750')</code></pre></dd><dd class="dd pd ddexpand">The dimensionality of the means must match the dimensionality of the data (that is, each mean must have <var class="keyword varname">n</var> numbers in it, where <var class="keyword varname">n</var> is the number of input columns minus one).</dd><dd class="dd pd ddexpand">Default behavior: The algorithm chooses the initial seed means randomly.</dd><dd class="dd pd ddexpand">With InitialSeeds, the function uses a deterministic algorithm and the function supports up to 1596 dimensions.</dd><dt class="dt pt dlterm">NumClusters</dt><dd class="dd pd">[Optional] Specify the number of clusters to create from the data.</dd><dd class="dd pd ddexpand">With NumClusters, the function uses a nondeterministic algorithm and the function supports up to 1543 dimensions (for more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>).</dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Specify the random seed the algorithm uses for repeatable results. The algorithm uses the seed to randomly sample the input table rows as initial clusters. The <var class="keyword varname">seed</var> must be a nonnegative LONG value.<div class="note note" id="dyb1507162368051__note_N10091_N10088_N10081_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody"> For repeatable results, use both the Seed and UniqueID syntax elements. For more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>.</div></div></dd><dt class="dt pt dlterm">StopThreshold</dt><dd class="dd pd">[Optional] Specify the convergence threshold. When the centroids move by less than this amount, the algorithm has converged.</dd><dd class="dd pd ddexpand">Default: 0.0395</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the maximum number of iterations that the algorithm runs before quitting if the convergence threshold has not been met.</dd><dd class="dd pd ddexpand">Default: 10</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="xqc1507162418233" xml:lang="en-us" lang="en-us" id="xqc1507162418233">
<h2 class="title topictitle2" id="ariaid-title4">KMeans Input</h2><div class="body refbody"><div class="section" id="xqc1507162418233__section_uqz_gpd_ycb"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="xqc1507162418233__table_pyr_hpd_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e265" rowspan="1" colspan="1">Table</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e267" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e265" rowspan="1" colspan="1">InputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e267" rowspan="1" colspan="1">Contains features by which to cluster the data.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e265" rowspan="1" colspan="1">CentroidsTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e267" rowspan="1" colspan="1">[Optional] Contains initial seed means for clusters. Has same schema as <a href="gdl1558461123604.md#hkw1507162473507">KMeans Output</a> OutputTable, which depends on UnpackColumns syntax element.</td></tr></tbody></table></div></div><div class="section" id="xqc1507162418233__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">InputTable Schema</h3><div class="note note" id="xqc1507162418233__note_N10068_N10024_N10001"><span><b>Note</b></span><div class="notebody">It is important to normalize the input variables before calling this function. For details, see <a href="qnw1570800778984.md">Normalized Input</a>.</div></div><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="xqc1507162418233__table_N10017_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:18.51851851851852%" span="1"></col><col style="width:14.814814814814813%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e306" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e308" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e310" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e306" rowspan="1" colspan="1"><var class="keyword varname">id</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e308" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e310" rowspan="1" colspan="1">Identifier of user or item.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e306" rowspan="1" colspan="1"><var class="keyword varname">dimension_i</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e308" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e310" rowspan="1" colspan="1">[Column appears once for each dimension.] Data in dimension <var class="keyword varname">i</var>. Each dimension is a feature by which to cluster data. The number of dimensions is implicitly derived from the data.
<p class="p">For example, if the application clusters points on the surface of the earth by latitude and longitude, the input table has three columns: point identifier, latitude, and longitude. The function clusters the data in the latitude and longitude columns; that is, the data has two dimensions.</p></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="hkw1507162473507" xml:lang="en-us" lang="en-us" id="hkw1507162473507">
<h2 class="title topictitle2" id="ariaid-title5">KMeans Output</h2><div class="body refbody"><div class="section" id="hkw1507162473507__section_N1000E_N1000C_N10001"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_hhn_trd_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e350" rowspan="1" colspan="1">Output</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e352" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e350" rowspan="1" colspan="1">Results message</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e352" rowspan="1" colspan="1">Contains information about each cluster.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e350" rowspan="1" colspan="1">OutputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e352" rowspan="1" colspan="1">Contains cluster centroids. Schema depends on UnpackColumns syntax element.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e350" rowspan="1" colspan="1">ClusterAssignmentTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e352" rowspan="1" colspan="1">[Optional] Contains clusters themselves.</td></tr></tbody></table></div></div><div class="section" id="hkw1507162473507__section_jzd_zpd_ycb">
<h3 class="title sectiontitle">Results Message Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_N10017_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:15.384615384615385%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:69.23076923076923%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e380" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e382" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e384" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e380" rowspan="1" colspan="1">clusterid</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e382" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e384" rowspan="1" colspan="1">Cluster identifier of centroid.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e380" rowspan="1" colspan="1">mean</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e382" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e384" rowspan="1" colspan="1">Concatenation of means in centroid. For example, means 3, 5, and 6 are represented as '3 5 6'.
<p class="p">The UnpackColumns syntax element does not affect this column.</p></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e380" rowspan="1" colspan="1">size</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e382" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e384" rowspan="1" colspan="1">Number of points in cluster.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e380" rowspan="1" colspan="1">withinss</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e382" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e384" rowspan="1" colspan="1">Within-cluster-sum-of-squares—sum of squared differences of each point from its cluster centroid.</td></tr></tbody></table></div>
<p class="p">After the information described by the preceding schema, the results message has the following information:</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_N1007F_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:28.57142857142857%" span="1"></col><col style="width:71.42857142857143%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e425" rowspan="1" colspan="1">Label</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e427" rowspan="1" colspan="1">Value</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Converged :</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">'True' if algorithm converged, 'False' otherwise.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Number of iterations :</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">Number of iterations algorithm performed.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Number of clusters :</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">Number of clusters.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Successfully created Output table</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Successfully created Clustered Output table</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">[Column appears only with ClusterAssignmentTable.]</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Total_WithinSS :</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">Sum of withinss values in preceding table.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e425" rowspan="1" colspan="1">Between_SS :</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e427" rowspan="1" colspan="1">Between sum of squares—sum of squared distances of centroids to global mean, where squared distance of each mean to global mean is multiplied by number of data points it represents.</td></tr></tbody></table></div></div><div class="section" id="hkw1507162473507__section_nsg_cqd_ycb">
<h3 class="title sectiontitle">OutputTable Schema, UnpackColumns ('false') (Default)</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_N100DD_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:15.384615384615385%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:69.23076923076923%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e474" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e476" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e478" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e474" rowspan="1" colspan="1">clusterid</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e476" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e478" rowspan="1" colspan="1">Cluster identifier of centroid.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e474" rowspan="1" colspan="1">mean</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e476" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e478" rowspan="1" colspan="1">Concatenation of means in centroid. For example, means 3, 5, and 6 are represented as '3 5 6'.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e474" rowspan="1" colspan="1">size</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e476" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e478" rowspan="1" colspan="1">Number of points in cluster.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e474" rowspan="1" colspan="1">withinss</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e476" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e478" rowspan="1" colspan="1">Within-cluster-sum-of-squares—sum of squared differences of each point from its cluster centroid.</td></tr></tbody></table></div></div><div class="section" id="hkw1507162473507__section_kgw_cqd_ycb">
<h3 class="title sectiontitle">OutputTable Schema, UnpackColumns ('true')</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_N10141_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:15.384615384615385%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:69.23076923076923%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e519" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e521" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e523" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e519" rowspan="1" colspan="1">clusterid</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e521" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e523" rowspan="1" colspan="1">Cluster identifier of centroid.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e519" rowspan="1" colspan="1"><var class="keyword varname">feature_i</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e521" rowspan="1" colspan="1">INTEGER or VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e523" rowspan="1" colspan="1">[Column appears once for each feature.] Mean for feature <var class="keyword varname">i</var> (name of InputTable column).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e519" rowspan="1" colspan="1">size</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e521" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e523" rowspan="1" colspan="1">Number of points in cluster.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e519" rowspan="1" colspan="1">withinss</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e521" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e523" rowspan="1" colspan="1">Within-cluster-sum-of-squares—sum of squared differences of each point from its cluster centroid.</td></tr></tbody></table></div></div><div class="section" id="hkw1507162473507__section_f24_dqd_ycb">
<h3 class="title sectiontitle">ClusterAssignmentTable Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hkw1507162473507__table_N101A9_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:15.384615384615385%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:69.23076923076923%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e568" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d174396e570" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d174396e572" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e568" rowspan="1" colspan="1">pointid</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d174396e570" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d174396e572" rowspan="1" colspan="1">Identifier of user or item (<var class="keyword varname">id</var> from InputTable).</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e568" rowspan="1" colspan="1">centroidid</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d174396e570" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e572" rowspan="1" colspan="1">Identifier of centroid for <var class="keyword varname">pointid</var>.</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="nyu1507162537637" xml:lang="en-us" lang="en-us" id="nyu1507162537637">
<h2 class="title topictitle2" id="ariaid-title6">KMeans Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="mxc1525724133141" xml:lang="en-us" lang="en-us" id="mxc1525724133141">
<h3 class="title topictitle3" id="ariaid-title7">KMeans Example: NumClusters, UnpackColumns ('false')</h3><div class="body refbody"><div class="section" id="mxc1525724133141__section_vgj_n1r_t2b">
<h4 class="title sectiontitle">Input</h4>
<p class="p">The InputTable has five attributes of personal computers (price, speed, hard disk size, RAM, and screen size). The table has over 6000 rows. These examples use different syntax elements to find eight clusters based on the five attributes.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mxc1525724133141__table_sbl_t1r_t2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: computers_train1</span></div><colgroup span="1"><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e642" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e644" rowspan="1" colspan="1">price</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e646" rowspan="1" colspan="1">speed</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e648" rowspan="1" colspan="1">hd</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e650" rowspan="1" colspan="1">ram</th><th class="entry cellrowborder" style="vertical-align:top;" id="d174396e652" rowspan="1" colspan="1">screen</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1499</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">80</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1795</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">85</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1595</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">170</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">15</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1849</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">170</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">5</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">3295</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">340</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">16</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">6</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">3695</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">66</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">340</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">16</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">7</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1720</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">170</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1995</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">50</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">85</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">9</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2225</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">50</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">210</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">12</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2605</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">66</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">210</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">13</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2045</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">50</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">130</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">14</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2295</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">245</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">16</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2225</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">50</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">130</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">17</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">1595</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">85</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">18</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2325</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">210</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">15</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">19</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">2095</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">250</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">15</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">20</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">4395</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">66</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">452</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e642" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e644" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e646" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e648" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e650" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d174396e652" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="mxc1525724133141__section_N10011_N1000E_N10001">
<h4 class="title sectiontitle">SQL Call</h4>
<p class="p">This call tries to group the 5-dimensional data points into 8 clusters. UnpackColumns is 'false' by default.</p><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KMeans (
  ON computers_train1 AS InputTable
  OUT TABLE OutputTable (kmeanssample_centroid)
  USING
  NumClusters (8)
  StopThreshold (0.05)
  MaxIterNum (10)
) AS dt;</code></pre></div><div class="section" id="mxc1525724133141__section_cxx_ckd_tdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
 0         3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857 14   586706.785714269
 1         1740.88888888889 30.3333333333333 141.666666666667 4.66666666666667 14.1111111111111 9    51205.7777777761
 2         1481.14285714286 27.2857142857143 112.857142857143 3.14285714285714 14.1428571428571 7    81104.8571428545
 3         1991.0 38.8461538461538 160.384615384615 4.46153846153846 14.0                       13   51006.0000000149
 4         2615.75 41.3333333333333 220.166666666667 7.33333333333333 14.75                     12   140175.50000003 
 5         2371.75 48.75 204.625 6.0 14.25                                                      8    36636.375       
 6         2192.8 38.1 194.4 5.2 14.1                                                           10   41549.3999999911
 7         4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143             7    324109.428571463
 --------- ------------------------------------------------------------------------------------ ---- ----------------
           Converged : False                                                                                         
           Number of Iterations : 10                                                                                 
           Number of clusters : 8                                                                                    
           Successfully created Output table                                                                         
           Total_WithinSS : 1312494.1242063986                                                                       
           Between_SS : 3.8234387625793636E7</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_centroid;
</code></pre><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
         1 1740.88888888889 30.3333333333333 141.666666666667 4.66666666666667 14.1111111111111    9 51205.7777777761
         3 1991.0 38.8461538461538 160.384615384615 4.46153846153846 14.0                         13 51006.0000000149
         5 2371.75 48.75 204.625 6.0 14.25                                                         8        36636.375
         7 4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143                7 324109.428571463
         0 3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857   14 586706.785714269
         2 1481.14285714286 27.2857142857143 112.857142857143 3.14285714285714 14.1428571428571    7 81104.8571428545
         4 2615.75 41.3333333333333 220.166666666667 7.33333333333333 14.75                       12  140175.50000003
         6 2192.8 38.1 194.4 5.2 14.1                                                             10 41549.3999999911
</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="gel1525724214208" xml:lang="en-us" lang="en-us" id="gel1525724214208">
<h3 class="title topictitle3" id="ariaid-title8">KMeans Example: NumClusters, UnpackColumns ('true')</h3><div class="body refbody"><div class="section" id="gel1525724214208__section_zff_dbr_t2b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="gel1525724214208__ul_hy2_2br_t2b">
<li class="li">InputTable: computers_train1, as in <a href="gdl1558461123604.md#mxc1525724133141">KMeans Example: NumClusters, UnpackColumns ('false')</a></li></ul></div><div class="section" id="gel1525724214208__section_jww_hkd_tdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KMeans (
  ON computers_train1 AS InputTable
  OUT TABLE OutputTable (kmeanssample_centroid)
  USING
  UnpackColumns ('true')
  NumClusters (8)
  StopThreshold (0.05)
  MaxIterNum (10)
) AS dt;</code></pre></div><div class="section" id="gel1525724214208__section_cxx_ckd_tdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
 0         1435.6 26.6 107.0 3.2 14.0                                                           5    40551.1999999993
 1         2477.82352941176 44.3529411764706 217.0 7.05882352941176 14.4117647058824            17   266923.411764711
 2         2985.0625 51.1875 253.4375 8.0 14.875                                                16   628673.0625     
 3         3959.375 57.875 419.5 9.0 14.25                                                      8    585122.25       
 4         1660.57142857143 29.5714285714286 139.285714285714 4.28571428571429 14.1428571428571 7    27135.1428571418
 5         1808.5 31.0 138.75 4.5 14.25                                                         4    7173.5          
 6         1984.0 39.3333333333333 156.25 4.16666666666667 14.0                                 12   40644.5833333135
 7         2182.09090909091 37.6363636363636 195.818181818182 5.45454545454545 14.0909090909091 11   54416.7272727191
 --------- ------------------------------------------------------------------------------------ ---- ----------------
           Converged : False                                                                                         
           Number of Iterations : 10                                                                                 
           Number of clusters : 8                                                                                    
           Successfully created Output table                                                                         
           Total_WithinSS : 1650639.8777278848                                                                       
           Between_SS : 3.789624187227207E7</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_centroid;</code></pre><pre class="pre screen" xml:space="preserve"> clusterid price            speed            hd               ram              screen           size withinss         
 --------- ---------------- ---------------- ---------------- ---------------- ---------------- ---- ---------------- 
         1 2477.82352941176 44.3529411764706            217.0 7.05882352941176 14.4117647058824   17 266923.411764711
         3         3959.375           57.875            419.5              9.0            14.25    8        585122.25
         5           1808.5             31.0           138.75              4.5            14.25    4           7173.5
         7 2182.09090909091 37.6363636363636 195.818181818182 5.45454545454545 14.0909090909091   11 54416.7272727191
         0           1435.6             26.6            107.0              3.2             14.0    5 40551.1999999993
         2        2985.0625          51.1875         253.4375              8.0           14.875   16      628673.0625
         4 1660.57142857143 29.5714285714286 139.285714285714 4.28571428571429 14.1428571428571    7 27135.1428571418
         6           1984.0 39.3333333333333           156.25 4.16666666666667             14.0   12 40644.5833333135</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="dkj1525724289654" xml:lang="en-us" lang="en-us" id="dkj1525724289654">
<h3 class="title topictitle3" id="ariaid-title9">KMeans Example: InitialSeeds, ClusterAssignmentTable</h3><div class="body refbody"><div class="section" id="dkj1525724289654__section_zff_dbr_t2b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="dkj1525724289654__ul_hy2_2br_t2b">
<li class="li">InputTable: computers_train1, as in <a href="gdl1558461123604.md#mxc1525724133141">KMeans Example: NumClusters, UnpackColumns ('false')</a></li></ul></div><div class="section" id="dkj1525724289654__section_c1v_lkd_tdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KMeans (
  ON computers_train1 AS InputTable
  OUT TABLE OutputTable (kmeanssample_output)
  OUT TABLE ClusterAssignmentTable (kmeanssample_clusteredoutput)
  USING
   
  InitialSeeds('2249_51_408_8_14', '2165_51_398_7_14.6', 
    '2182_51_404_7_14.6', '2204_55_372_7.19_14.6',
    '2419_44_222_6.6_14.3', '2394_44.3_277_7.3_14.5',
    ' 2326_43.6_301_7.11_14.3', '2288_44_325_7_14.4')
) AS dt;</code></pre></div><div class="section" id="dkj1525724289654__section_cxx_ckd_tdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
 0         2249.0 51.0 408.0 8.0 14.0                                                           0    0.0             
 1         1566.83333333333 28.3333333333333 125.833333333333 3.83333333333333 14.0833333333333 12   218374.583333351
 2         2182.0 51.0 404.0 7.0 14.6                                                           0    0.0             
 3         1940.125 37.25 151.875 4.25 14.0625                                                  16   141346.4375     
 4         4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143             7    324109.428571463
 5         3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857 14   586706.785714269
 6         2568.3125 43.5 217.75 7.0 14.625                                                     16   252294.1875     
 7         2218.2 40.2666666666667 196.6 5.6 14.1333333333333                                   15   117724.266666621
 --------- ------------------------------------------------------------------------------------ ---- ----------------
           Converged : True                                                                                          
           Number of Iterations : 8                                                                                  
           Number of clusters : 8                                                                                    
           Successfully created Output table                                                                         
           Successfully created Clustered Output table                                                               
           Total_WithinSS : 1640555.689285704                                                                        
           Between_SS : 3.790632606071441E7</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_output;</code></pre><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
         1 1566.83333333333 28.3333333333333 125.833333333333 3.83333333333333 14.0833333333333   12 218374.583333351
         3 1940.125 37.25 151.875 4.25 14.0625                                                    16      141346.4375
         5 3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857   14 586706.785714269
         7 2218.2 40.2666666666667 196.6 5.6 14.1333333333333                                     15 117724.266666621
         0 2249.0 51.0 408.0 8.0 14.0                                                              0              0.0
         2 2182.0 51.0 404.0 7.0 14.6                                                              0              0.0
         4 4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143                7 324109.428571463
         6 2568.3125 43.5 217.75 7.0 14.625                                                       16      252294.1875</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_clusteredoutput;</code></pre><pre class="pre screen" xml:space="preserve"> id  clusterid 
 --- --------- 
  28         4
  53         5
  42         4
  23         5
  20         4
  17         1
  99         6
  68         1
  85         6
  81         5
  34         6
  95         5
  33         6
  78         5
  40         6
  26         1
  22         6
  24         5
  12         6
   1         1
  43         6
  58         5
   6         4
  75         5
  71         4
  90         5
  61         4
  97         3
  25         4
  14         7
  36         6
  69         7
  84         6
  32         3
  49         6
  87         7
  63         6
  16         7
  72         6
  57         3
  39         6
  62         3
  82         6
  77         3
  79         6
  54         7
  27         3
   4         3
  60         3
  98         3
   8         3
  74         5
 100         1
  21         1
  89         1
  83         5
  80         1
   7         1
  76         5
   5         5
   3         1
  41         5
  96         1
  73         1
  19         7
  47         7
  31         3
  13         3
   9         7
  64         7
  88         3
  55         7
  37         7
  35         3
  50         3
  67         7
  44         7
  18         7
  56         7
   2         3</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="vpt1507163049784" xml:lang="en-us" lang="en-us" id="vpt1507163049784">
<h3 class="title topictitle3" id="ariaid-title10">KMeans Example: CentroidsTable, ClusterAssignmentTable</h3><div class="body refbody"><div class="section" id="vpt1507163049784__section_N1000E_N1000C_N10001">
<ul class="ul" id="vpt1507163049784__ul_ptc_2fb_j2b">
<li class="li">InputTable: computers_train1, as in <a href="gdl1558461123604.md#mxc1525724133141">KMeans Example: NumClusters, UnpackColumns ('false')</a></li>
<li class="li">CentroidsTable: kmeanssample_centroid, output by <a href="gdl1558461123604.md#gel1525724214208">KMeans Example: NumClusters, UnpackColumns ('true')</a></li></ul></div><div class="section" id="vpt1507163049784__section_vw4_g3d_tdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KMeans (
  ON computers_train1 AS InputTable
  ON kmeanssample_centroid AS CentroidsTable
  OUT TABLE OutputTable (kmeanssample_output)
  OUT TABLE ClusterAssignmentTable (kmeanssample_clusteredoutput)
) AS dt;</code></pre></div><div class="section" id="vpt1507163049784__section_fxz_g3d_tdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
 0         1435.6 26.6 107.0 3.2 14.0                                                           5    40551.1999999993
 1         2604.92307692308 42.0 219.384615384615 7.07692307692308 14.7692307692308             13   158637.230769217
 2         3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857 14   586706.785714269
 3         4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143             7    324109.428571463
 4         1660.57142857143 29.5714285714286 139.285714285714 4.28571428571429 14.1428571428571 7    27135.1428571418
 5         1808.5 31.0 138.75 4.5 14.25                                                         4    7173.5          
 6         2006.86666666667 39.2 164.333333333333 4.4 14.0666666666667                          15   84880.0         
 7         2280.46666666667 42.5333333333333 199.4 5.86666666666667 14.0666666666667            15   118565.733333319
 --------- ------------------------------------------------------------------------------------ ---- ----------------
           Converged : True                                                                                          
           Number of Iterations : 5                                                                                  
           Number of clusters : 8                                                                                    
           Successfully created Output table                                                                         
           Successfully created Clustered Output table                                                               
           Total_WithinSS : 1347759.0212454093                                                                       
           Between_SS : 3.8199122728754565E7</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_output;</code></pre><pre class="pre screen" xml:space="preserve"> clusterid mean                                                                                 size withinss         
 --------- ------------------------------------------------------------------------------------ ---- ---------------- 
         1 2604.92307692308 42.0 219.384615384615 7.07692307692308 14.7692307692308               13 158637.230769217
         3 4026.42857142857 59.0 432.285714285714 9.14285714285714 14.2857142857143                7 324109.428571463
         5 1808.5 31.0 138.75 4.5 14.25                                                            4           7173.5
         7 2280.46666666667 42.5333333333333 199.4 5.86666666666667 14.0666666666667              15 118565.733333319
         0 1435.6 26.6 107.0 3.2 14.0                                                              5 40551.1999999993
         2 3072.21428571429 52.6428571428571 271.071428571429 8.57142857142857 14.7142857142857   14 586706.785714269
         4 1660.57142857143 29.5714285714286 139.285714285714 4.28571428571429 14.1428571428571    7 27135.1428571418
         6 2006.86666666667 39.2 164.333333333333 4.4 14.0666666666667                            15          84880.0</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmeanssample_clusteredoutput;</code></pre><pre class="pre screen" xml:space="preserve"> id  clusterid 
 --- --------- 
   7         4
  22         1
   3         4
  12         1
  96         0
  82         1
 100         4
  79         1
  17         4
  99         1
  68         0
  85         1
  55         7
  34         1
  37         7
  88         5
  67         7
  57         6
  42         3
  77         6
  20         3
  50         6
  25         3
  78         2
  14         7
   5         2
   6         3
  41         2
  49         7
  58         2
  64         7
  56         6
  71         3
  90         2
  80         4
  19         6
  26         0
  74         2
   1         0
  31         6
  73         4
  13         6
  21         4
  87         6
  89         0
  81         2
  40         7
  72         1
  39         7
  62         5
  54         7
   4         5
  44         7
  43         1
  61         3
   2         5
  18         7
  36         1
  47         7
  84         1
  69         7
  33         1
   9         7
  63         1
  28         3
  95         2
  16         7
  35         6
  27         6
  76         2
  24         2
  60         6
  98         6
  75         2
   8         6
  97         6
  53         2
  23         2
  32         6
  83         2</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
