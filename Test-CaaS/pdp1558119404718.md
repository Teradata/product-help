<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="cpu1507655644292" id="cpu1507655644292"><h1 class="title topictitle1" id="ariaid-title1">ConfusionMatrix (ML Engine)</h1><div class="body conbody">
<p class="p">The ConfusionMatrix function shows how often a classification algorithm correctly classifies items. The function takes an input table that includes two columns—one containing the observed class of an item and the other containing the class predicted by the algorithm—and outputs three tables:</p>
<ul class="ul" id="cpu1507655644292__ul_xdl_sjl_p1b">
<li class="li">A confusion matrix (also called a contingency table), which shows the performance of the algorithm</li>
<li class="li">A table of overall statistics</li>
<li class="li">A table of statistics for each class</li></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="dox1507655858929" xml:lang="en-us" lang="en-us" id="dox1507655858929">
<h2 class="title topictitle2" id="ariaid-title2">ConfusionMatrix Syntax</h2><div class="body refbody"><div class="section" id="dox1507655858929__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>2.7</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ConfusionMatrix (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY 1
  OUT TABLE CountTable (<var class="keyword varname">count_table</var>)
  OUT TABLE StatTable (<var class="keyword varname">stat_table</var>)
  OUT TABLE AccuracyTable (<var class="keyword varname">accuracy_table</var>)
  USING
  ObservationColumn ('<var class="keyword varname">observed_column</var>')
  PredictColumn ('<var class="keyword varname">predicted_column</var>')
  [ Classes ('<var class="keyword varname">class</var>' [,...] ) ]
  [ Prevalence (<var class="keyword varname">prevalence</var> [,...] ) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="tap1507655872979" xml:lang="en-us" lang="en-us" id="tap1507655872979">
<h2 class="title topictitle2" id="ariaid-title3">ConfusionMatrix Syntax Elements</h2><div class="body refbody"><div class="section" id="tap1507655872979__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">CountTable</dt><dd class="dd pd">Specify the name of the confusion matrix, an output table.</dd><dt class="dt pt dlterm">StatTable</dt><dd class="dd pd">Specify the name of the output table of overall statistics.</dd><dt class="dt pt dlterm">AccuracyTable</dt><dd class="dd pd">Specify the name of the output table of statistics for each class.</dd><dt class="dt pt dlterm">ObservationColumn</dt><dd class="dd pd">Specify the name of the input column that contains the observed class.</dd><dt class="dt pt dlterm">PredictColumn</dt><dd class="dd pd">Specify the name of the input column that contains the predicted class.</dd><dt class="dt pt dlterm">Classes</dt><dd class="dd pd">[Optional] Specify the classes to output in the AccuracyTable. </dd><dd class="dd pd ddexpand">Default: All classes</dd><dt class="dt pt dlterm">Prevalence</dt><dd class="dd pd">[Optional] Specify the prevalences for the classes to output in the AccuracyTable. Therefore, if you specify Prevalence, you must also specify Classes, and for every <var class="keyword varname">class</var>, you must specify a <var class="keyword varname">prevalence</var>. Each <var class="keyword varname">prevalence</var> is a numeric value.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="zjf1507657625544" xml:lang="en-us" lang="en-us" id="zjf1507657625544">
<h2 class="title topictitle2" id="ariaid-title4">ConfusionMatrix Input</h2><div class="body refbody"><div class="section" id="zjf1507657625544__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Input Table Schema</h3>
<p class="p"><span>The table can have additional columns, but the function ignores them.</span></p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zjf1507657625544__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:13.333333333333334%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e187" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e189" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d266547e191" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e187" rowspan="1" colspan="1"><var class="keyword varname">observed_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e189" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d266547e191" rowspan="1" colspan="1">Expected (observed) class.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e187" rowspan="1" colspan="1"><var class="keyword varname">predicted_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e189" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e191" rowspan="1" colspan="1">Predicted class.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="oxf1507657641937" xml:lang="en-us" lang="en-us" id="oxf1507657641937">
<h2 class="title topictitle2" id="ariaid-title5">ConfusionMatrix Output</h2><div class="body refbody"><div class="section" id="oxf1507657641937__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Output Message Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxf1507657641937__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:13.333333333333334%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e229" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e231" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d266547e233" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e229" rowspan="1" colspan="1">message</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e231" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e233" rowspan="1" colspan="1">Reports whether function succeeded and output result to output tables.</td></tr></tbody></table></div></div><div class="section" id="oxf1507657641937__section_a3h_qrt_wcb">
<h3 class="title sectiontitle">CountTable Schema</h3>
<p class="p">This table is a confusion matrix (also called a contingency table).</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxf1507657641937__table_N10028_N10022_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:13.333333333333334%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e255" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e257" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d266547e259" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e255" rowspan="1" colspan="1">observation</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e257" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d266547e259" rowspan="1" colspan="1">Unique value of <var class="keyword varname">observed_column</var> in input table.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e255" rowspan="1" colspan="1"><var class="keyword varname">predicted_class</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e257" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e259" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">class</var>.] Number of times that items in <var class="keyword varname">observed_column</var> were classified as <var class="keyword varname">predicted_class</var>.</td></tr></tbody></table></div></div><div class="section" id="oxf1507657641937__section_ayc_wrt_wcb">
<h3 class="title sectiontitle">StatTable Schema</h3>
<p class="p">This table has overall statistics.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxf1507657641937__table_N10079_N10022_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:13.333333333333334%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e301" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e303" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d266547e305" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e301" rowspan="1" colspan="1">key</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e303" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d266547e305" rowspan="1" colspan="1">Statistic name from this list:
<ul class="ul" id="oxf1507657641937__ul_wpn_rtd_px">
<li class="li">Accuracy</li>
<li class="li">95% CI</li>
<li class="li">Null Error Rate</li>
<li class="li">P-Value [Acc > NIR]</li>
<li class="li">Kappa</li>
<li class="li">McNemar Test P-Value</li></ul></td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e301" rowspan="1" colspan="1">value</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e303" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e305" rowspan="1" colspan="1">Statistic value.</td></tr></tbody></table></div></div><div class="section" id="oxf1507657641937__section_kdd_1st_wcb">
<h3 class="title sectiontitle">AccuracyTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxf1507657641937__table_N1012C_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:13.333333333333334%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e345" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d266547e347" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d266547e349" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e345" rowspan="1" colspan="1">measure</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d266547e347" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d266547e349" rowspan="1" colspan="1">Each row contains one of these statistic names:
<ul class="ul" id="oxf1507657641937__ul_uny_d5d_px">
<li class="li">Sensitivity</li>
<li class="li">Specificity</li>
<li class="li">Pos Pred Value</li>
<li class="li">Neg Pred Value</li>
<li class="li">Prevalence</li>
<li class="li">Detection Rate</li>
<li class="li">Detection Prevalence</li>
<li class="li">Balanced Accuracy</li></ul></td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e345" rowspan="1" colspan="1"><var class="keyword varname">predicted_class</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d266547e347" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e349" rowspan="1" colspan="1">Values of statistics for <var class="keyword varname">class</var>.
<p class="p">With Classes syntax element, column appears once for each specified <var class="keyword varname">class</var>. Without Classes syntax element, column appears once for each unique <var class="keyword varname">observed_column</var> value.</p></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="ivp1510769449047" xml:lang="en-us" lang="en-us" id="ivp1510769449047">
<h2 class="title topictitle2" id="ariaid-title6">ConfusionMatrix Example</h2><div class="body refbody"><div class="section" id="ivp1510769449047__section_cxp_hk5_ndb">
<h3 class="title sectiontitle">Input</h3>
<p class="p">The input table, iris_category_expect_predict, contains 30 rows of expected and predicted values for different species of the flower iris. The predicted values can be derived from any of the classification functions, such as SVMSparsePredict_MLE. The raw iris data set has four prediction attributes - sepal_length, sepal_width, petal_length, petal_width grouped into 3 species - setosa, versicolor, virginica.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ivp1510769449047__table_zmb_pk5_ndb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>iris_category_expect_predict</span></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d266547e429" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d266547e431" rowspan="1" colspan="1">expected_value</th><th class="entry cellrowborder" style="vertical-align:top;" id="d266547e433" rowspan="1" colspan="1">predicted_value</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">5</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">10</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">15</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">20</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">30</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">35</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">40</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">45</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">50</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">setosa</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">setosa</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">55</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">60</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">65</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">70</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">75</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">80</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">85</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">90</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">95</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">100</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">versicolor</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">105</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">110</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">115</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">120</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">125</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">130</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">135</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">versicolor</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">140</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">145</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e429" rowspan="1" colspan="1">150</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e431" rowspan="1" colspan="1">virginica</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d266547e433" rowspan="1" colspan="1">virginica</td></tr></tbody></table></div></div><div class="section" id="ivp1510769449047__section_x1b_3k5_ndb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ConfusionMatrix(
  ON iris_category_expect_predict PARTITION BY 1
  OUT TABLE CountTable(count_output)
  OUT TABLE StatTable(stat_output)
  OUT TABLE AccuracyTable(acc_output)
  USING
  ObservationColumn('expected_value')
  PredictColumn('predicted_value')
) AS dt;</code></pre></div><div class="section" id="ivp1510769449047__section_mmm_3k5_ndb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> message                                        
 ---------------------------------------------- 
 Success !                                     
 The result has been outputted to output tables
</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM count_output;</code></pre><pre class="pre screen" xml:space="preserve"> observation setosa versicolor virginica 
 ----------- ------ ---------- --------- 
 versicolor  0      9          3        
 setosa      10     0          0        
 virginica   0      1          7        </pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM stat_output;</code></pre><pre class="pre screen" xml:space="preserve"> key                  value            
 -------------------- ---------------- 
 95% CI               (0.6928, 0.9624)
 P-Value [Acc > NIR]  0               
 Mcnemar Test P-Value NA              
 Accuracy             0.8667          
 Null Error Rate      0.6             
 Kappa                0.8             
</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM acc_output;</code></pre><pre class="pre screen" xml:space="preserve"> measure              virginica setosa versicolor 
 -------------------- --------- ------ ---------- 
 Specificity          0.8636    1      0.9444    
 Neg Pred Value       0.95      1      0.85      
 Detection Rate       0.2333    0.3333 0.3       
 Balanced Accuracy    0.8693    1      0.8472    
 Sensitivity          0.875     1      0.75      
 Pos Pred Value       0.7       1      0.9       
 Prevalence           0.2667    0.3333 0.4       
 Detection Prevalence 0.3333    0.3333 0.3333</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
