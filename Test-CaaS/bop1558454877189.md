<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="uly1507825400157" id="uly1507825400157"><h1 class="title topictitle1" id="ariaid-title1">ScaleSummary</h1><div class="body conbody"><div class="section" id="uly1507825400157__section_N1000E_N1000C_N10001">
<p class="p">The ScaleSummary function takes as input <a href="aga1558454791029.md#npl1507827847321">ScaleMap Output</a> (statistics assembled at the vworker level) and outputs global statistical information for the entire input data set.</p></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="ejy1507825404484" xml:lang="en-us" lang="en-us" id="ejy1507825404484">
<h2 class="title topictitle2" id="ariaid-title2">ScaleSummary Syntax</h2><div class="body refbody"><div class="section" id="ejy1507825404484__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.5</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ScaleSummary (
  ON (
    SELECT * FROM ScaleMap (
     ...
    ) AS <var class="keyword varname">alias_1</var>
  ) PARTITION BY 1
) AS <var class="keyword varname">alias_2</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="qqy1507825408422" xml:lang="en-us" lang="en-us" id="qqy1507825408422">
<h2 class="title topictitle2" id="ariaid-title3">ScaleSummary Input</h2><div class="body refbody"><div class="section" id="qqy1507825408422__section_N1000E_N1000C_N10001">
<p class="p">The input table is the <a href="aga1558454791029.md#npl1507827847321">ScaleMap Output</a>.</p></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="dvm1507825412021" xml:lang="en-us" lang="en-us" id="dvm1507825412021">
<h2 class="title topictitle2" id="ariaid-title4">ScaleSummary Output</h2><div class="body refbody"><div class="section" id="dvm1507825412021__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Output Table Schema</h3>
<p class="p">The table has the same schema as the <a href="aga1558454791029.md#npl1507827847321">ScaleMap Output</a> table; however, its stattype column values are different.</p></div><div class="section" id="dvm1507825412021__section_ofm_dts_ycb">
<h3 class="title sectiontitle">stattype Values (Supported Data Types)</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="dvm1507825412021__table_N1001A_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:14.285714285714285%" span="1"></col><col style="width:85.71428571428571%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d397626e109" rowspan="1" colspan="1">stattype</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d397626e111" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">min</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Minimum value in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">max</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Maximum value in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">sum</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Sum value of corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">squaresum</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Sum of squared values in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">count</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Count of valid values in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">avg</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Average of valid values in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">variance</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Variance of values in corresponding column. Variance is calculated according to N-1 degrees of freedom (number of valid values minus one).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">std</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Standard deviation of values in corresponding column. Standard deviation is calculated according to N-1 degrees of freedom (number of valid values minus one).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">infinity</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Count of infinite values in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">nan</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Count of NaN values in corresponding column.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">null</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Count of NULL values in corresponding column.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d397626e109" rowspan="1" colspan="1">ignorerow</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d397626e111" rowspan="1" colspan="1">Count of ignored rows in corresponding column.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="uag1510712182015" xml:lang="en-us" lang="en-us" id="uag1510712182015">
<h2 class="title topictitle2" id="ariaid-title5">ScaleSummary Example</h2><div class="body refbody"><div class="section" id="uag1510712182015__section_uc3_c24_xdb">
<h3 class="title sectiontitle">Input</h3>
<ul class="ul" id="uag1510712182015__ul_nhd_znq_j2b">
<li class="li">scale_stat, created in <a href="hal1558454832381.md#zgm1507825887728">Scale Example: Use Training Data to Scale Test Data</a></li></ul><pre class="pre codeblock" xml:space="preserve"><code>CREATE MULTISET TABLE scale_stat AS (                                            
  SELECT * FROM ScaleMap (
    ON scale_housing
    USING
    TargetColumns ('[2:6]')
    MissValue ('omit')
  ) AS dt 
) WITH DATA;</code></pre></div><div class="section" id="uag1510712182015__section_bpv_c24_xdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ScaleSummary (
  ON scale_stat AS "input" PARTITION BY 1
) AS dt ORDER BY 1;</code></pre></div><div class="section" id="uag1510712182015__section_b5g_d24_xdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> stattype  price                lotsize          bedrooms           bathrms            stories            
 --------- -------------------- ---------------- ------------------ ------------------ ------------------ 
 avg                    65037.5           5067.5              2.875              1.125              1.875
 count                      8.0              8.0                8.0                8.0                8.0
 ignorerow                  2.0              2.0                2.0                2.0                2.0
 infinity                   0.0              0.0                0.0                0.0                0.0
 max                    88500.0           6650.0                3.0                2.0                4.0
 min                    42000.0           3060.0                2.0                1.0                1.0
 nan                        0.0              0.0                0.0                0.0                0.0
 null                       1.0              0.0                1.0                0.0                0.0
 squaresum          3.556719E10       2.161594E8               67.0               11.0               37.0
 std         15712.500710307973 1237.67927994291 0.3535533905932738 0.3535533905932738 1.1259916264596033
 sum                   520300.0          40540.0               23.0                9.0               15.0
 variance  2.4688267857142857E8        1531850.0              0.125              0.125 1.2678571428571428</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
