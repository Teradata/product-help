<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="gdz1507318085052" id="gdz1507318085052"><h1 class="title topictitle1" id="ariaid-title1">LevenshteinDistance (ML Engine)</h1><div class="body conbody">
<p class="p">The LevenshteinDistance function computes the Levenshtein distance between two text values. The <dfn class="term">Levenshtein distance</dfn> (or <dfn class="term">edit distance</dfn>) is the number of edits needed to transform one string into the other. An edit is an insertion, deletion, or substitution of a single character.</p>
<p class="p">The Levenshtein distance is useful for fuzzy matching of sequences and strings. The LevenshteinDistance function is often used to resolve a user-entered value to a standard value. For example, when a enters "Jon Dow" when searching for "John Doe".</p>
<p class="p">A typical application of the LevenshteinDistance function is genome sequencing.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="aom1507318179989" xml:lang="en-us" lang="en-us" id="aom1507318179989">
<h2 class="title topictitle2" id="ariaid-title2">LevenshteinDistance Syntax</h2><div class="body refbody"><div class="section" id="aom1507318179989__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.4</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM LevenshteinDistance (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  TargetColumn ('<var class="keyword varname">target_column</var>')
  SourceColumns ({ '<var class="keyword varname">source_column</var>' | <var class="keyword varname">source_column_range</var> }[,...])
  [ LevenshteinThreshold (<var class="keyword varname">threshold</var>) ]
  [ OutputDistanceColName ('<var class="keyword varname">output_distance_column</var>') ]
  [ OutputTargetColName ('<var class="keyword varname">output_target_column</var>') ]
  [ OutputSourceColName ('<var class="keyword varname">output_source_column</var>') ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="jgi1507318550548" xml:lang="en-us" lang="en-us" id="jgi1507318550548">
<h2 class="title topictitle2" id="ariaid-title3">LevenshteinDistance Syntax Elements</h2><div class="body refbody"><div class="section" id="jgi1507318550548__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TargetColumn</dt><dd class="dd pd">Specify the name of the input column that contains the target text.</dd><dt class="dt pt dlterm">SourceColumns</dt><dd class="dd pd">Specify the names of the input columns that contain the source text.</dd><dt class="dt pt dlterm">LevenshteinThreshold</dt><dd class="dd pd">[Optional] Specify whether to return the Levenshtein distance for a source-target pair. The <var class="keyword varname">threshold</var> must a positive integer. The function returns the Levenshtein distance for a pair if it is less than or equal to <var class="keyword varname">threshold</var>; otherwise, the function returns -1.</dd><dd class="dd pd ddexpand">Default behavior: The function returns the Levenshtein distance of every pair.</dd><dt class="dt pt dlterm">OutputDistanceColName</dt><dd class="dd pd">[Optional] Specify the name of the output column that contains the Levenshtein distance for a source-target pair.</dd><dd class="dd pd ddexpand">Default: 'distance'</dd><dt class="dt pt dlterm">OutputTargetColName</dt><dd class="dd pd">[Optional] Specify the name of the output column that contains the compared target text.</dd><dd class="dd pd ddexpand">Default: 'target'</dd><dt class="dt pt dlterm">OutputSourceColName</dt><dd class="dd pd">[Optional] Specify the name of the output column that contains the compared source text.</dd><dd class="dd pd ddexpand">Default: 'source'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the input columns to copy to the output table.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="uzv1507318643048" xml:lang="en-us" lang="en-us" id="uzv1507318643048">
<h2 class="title topictitle2" id="ariaid-title4">LevenshteinDistance Input</h2><div class="body refbody"><div class="section" id="uzv1507318643048__section_gfx_s3c_ycb">
<h3 class="title sectiontitle">Input Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="uzv1507318643048__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:23.076923076923077%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:61.53846153846154%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d69373e221" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d69373e223" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d69373e225" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e221" rowspan="1" colspan="1"><var class="keyword varname">source_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e223" rowspan="1" colspan="1">CHARACTER or VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d69373e225" rowspan="1" colspan="1">Source text.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e221" rowspan="1" colspan="1"><var class="keyword varname">target_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e223" rowspan="1" colspan="1">CHARACTER or VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d69373e225" rowspan="1" colspan="1">Target text.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d69373e221" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d69373e223" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e225" rowspan="1" colspan="1"><span>Column to copy to output table.</span></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="imb1507318713267" xml:lang="en-us" lang="en-us" id="imb1507318713267">
<h2 class="title topictitle2" id="ariaid-title5">LevenshteinDistance Output</h2><div class="body refbody"><div class="section" id="imb1507318713267__section_bwb_r3c_ycb">
<h3 class="title sectiontitle">Output Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="imb1507318713267__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:28.57142857142857%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:57.14285714285714%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d69373e272" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d69373e274" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d69373e276" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e272" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e274" rowspan="1" colspan="1"><span>Same as in Input table</span></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d69373e276" rowspan="1" colspan="1"><span>Column copied from input table.</span></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e272" rowspan="1" colspan="1"><var class="keyword varname">output_distance_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e274" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d69373e276" rowspan="1" colspan="1">Levenshtein distance of the source-target pair.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e272" rowspan="1" colspan="1"><var class="keyword varname">output_target_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d69373e274" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d69373e276" rowspan="1" colspan="1">Compared target text.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d69373e272" rowspan="1" colspan="1"><var class="keyword varname">output_source_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d69373e274" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e276" rowspan="1" colspan="1">Compared source text.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="eap1510778841585" xml:lang="en-us" lang="en-us" id="eap1510778841585">
<h2 class="title topictitle2" id="ariaid-title6">LevenshteinDistance Example</h2><div class="body refbody"><div class="section" id="eap1510778841585__section_N10011_N1000E_N10001">
<p class="p">The example uses the function to find differences in genome sequences.</p></div><div class="section" id="eap1510778841585__section_fvb_btf_pdb">
<h3 class="title sectiontitle">Input</h3>
<p class="p">These abbreviations apply to row 4 of the input table, levendist_input:</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="eap1510778841585__table_s4q_lq1_j2b" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d69373e347" rowspan="1" colspan="1">Abbreviation</th><th class="entry cellrowborder" style="vertical-align:top;" id="d69373e349" rowspan="1" colspan="1">Meaning</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e347" rowspan="1" colspan="1">A</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e349" rowspan="1" colspan="1">Adenine</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e347" rowspan="1" colspan="1">C</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e349" rowspan="1" colspan="1">Cytosine</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e347" rowspan="1" colspan="1">G</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e349" rowspan="1" colspan="1">Guanine</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e347" rowspan="1" colspan="1">T</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d69373e349" rowspan="1" colspan="1">Thymine</td></tr></tbody></table></div><pre class="pre screen" xml:space="preserve"> id |   src_text1    |   src_text2    |    tar_text    
----+----------------+----------------+----------------
  2 | hone           | fone           | phone
  3 | acqiese        | acquire        | acquiesce
  4 | aaaacccccgggga | cccgggaaccaacc | ccagggaaacccac
  5 | alice          | allen          | allies
  6 | angela         | angle          | angels
  7 | senter         | center         | centre
  8 | chef           | cheap          | chief
  9 | circus         | circle         | circuit
 10 | debt           | debut          | debris
 11 | deal           | dell           | lead
 12 | bare           | bear           | bear
(11 rows)
</pre></div><div class="section" id="eap1510778841585__section_ihl_btf_pdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM LevenshteinDistance (
  ON levendist_input
  USING
  SourceColumns ('src_text1', 'src_text2')
  TargetColumn ('tar_text')
  LevenshteinThreshold (10)
  Accumulate ('id')
) AS dt ORDER BY id, source;</code></pre></div><div class="section" id="eap1510778841585__section_fpv_btf_pdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> id target         source         distance 
 -- -------------- -------------- -------- 
  2 phone          fone                  2
  2 phone          hone                  1
  3 acquiesce      acqiese               2
  3 acquiesce      acquire               3
  4 ccagggaaacccac aaaacccccgggga       -1
  4 ccagggaaacccac cccgggaaccaacc        4
  5 allies         alice                 3
  5 allies         allen                 2
  6 angels         angela                1
  6 angels         angle                 2
  7 centre         center                2
  7 centre         senter                3
  8 chief          cheap                 3
  8 chief          chef                  1
  9 circuit        circle                3
  9 circuit        circus                2
 10 debris         debt                  3
 10 debris         debut                 3
 11 lead           deal                  2
 11 lead           dell                  3
 12 bear           bare                  2
 12 bear           bear                  0</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
