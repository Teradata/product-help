<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="awl1506626097450" id="awl1506626097450"><h1 class="title topictitle1" id="ariaid-title1">ShapeletSupervised</h1><div class="body conbody"><div class="section" id="awl1506626097450__section_pc2_rh4_zdb">
<p class="p">The ShapeletSupervised function takes a set of classified time series and outputs a model for classifying time series, based on the shapelets that it finds. The model is input to the function <a href="syx1558467536967.md#fzc1506627602124">ShapeletSupervisedClassifier</a>.</p></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="orb1506626225476" xml:lang="en-us" lang="en-us" id="orb1506626225476">
<h2 class="title topictitle2" id="ariaid-title2">ShapeletSupervised Syntax</h2><div class="body refbody"><div class="section" id="orb1506626225476__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.17</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ShapeletSupervised (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS ResponseTable ]
  [ OUT TABLE ModelTable (<var class="keyword varname">output_model_table</var>) ]
  USING
  IDColumn ('<var class="keyword varname">id_column</var>')
  TimeColumn ('<var class="keyword varname">time_column</var>')
  TargetColumn ('<var class="keyword varname">target_column</var>')
  ResponseColumn ('<var class="keyword varname">category_column</var>')
  [ SAXSymbolsPerWindow (<var class="keyword varname">symbols_per_window</var>) ]
  [ SAXMinWindowSize (<var class="keyword varname">min_window_size</var>) ]
  [ SAXMaxWindowSize (<var class="keyword varname">max_window_size</var>) ]
  [ SAXOutputFrequency (<var class="keyword varname">gap_between_windows</var>) ]
  [ RandomProjections (<var class="keyword varname">projections</var>) ]
  [ ShapeletCount (<var class="keyword varname">num_shapelets</var>) ]
  [ TimeInterval (<var class="keyword varname">num_data_points</var>) ]
  [ Seed (<var class="keyword varname">seed</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="cke1506626322388" xml:lang="en-us" lang="en-us" id="cke1506626322388">
<h2 class="title topictitle2" id="ariaid-title3">ShapeletSupervised Syntax Elements</h2><div class="body refbody"><div class="section" id="cke1506626322388__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">ModelTable</dt><dd class="dd pd">[Optional] Specify the name for the model table that the function outputs.</dd><dd class="dd pd ddexpand">Default: shapelet_model in the current schema</dd><dt class="dt pt dlterm">IDColumn</dt><dd class="dd pd">Specify the name of the column in InputTable and ResponseTable that contains the unique identity of a time series.</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the time axis of the data.</dd><dt class="dt pt dlterm">TargetColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the data points.</dd><dt class="dt pt dlterm">ResponseColumn</dt><dd class="dd pd">Specify the name of the ResponseTable column that contains the category (class) of the time series.</dd><dt class="dt pt dlterm">SAXSymbolsPerWindow</dt><dd class="dd pd">[Optional] Specify the SAX syntax element SymbolsPerWindow, which specifies the number of SAX code symbols to create from a window. The <var class="keyword varname">symbols_per_window</var> must an INTEGER in the range [1, 1000000]. If the <var class="keyword varname">symbols_per_window</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">SAXMinWindowSize</dt><dd class="dd pd">[Optional] Specify the SAX syntax element WindowSize , which specifies the size of the sliding window. The <var class="keyword varname">min_window_size</var> defines the length (number of data points) of the shortest shapelet; the minimum span (time series length) used to distinguish two time series from each other.</dd><dd class="dd pd ddexpand">The <var class="keyword varname">min_window_size</var> must be an integer in the range [1, 1000000]. If the <var class="keyword varname">min_window_size</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>. If <var class="keyword varname">min_window_size</var> is smaller than <var class="keyword varname">symbols_per_window</var>, its value becomes <var class="keyword varname">symbols_per_window</var>.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">SAXMaxWindowSize</dt><dd class="dd pd">[Optional] Specify the SAX syntax element WindowSize , which specifies the size of the sliding window. The <var class="keyword varname">max_window_size</var> defines the length of the longest shapelet; the maximum span used to distinguish two time series from each other. The <var class="keyword varname">max_window_size</var> must be an integer in the range [1, 1000000] that is greater than or equal to <var class="keyword varname">min_window_size</var>.</dd><dd class="dd pd ddexpand">If the <var class="keyword varname">max_window_size</var> is greater than the length of the shortest time series in input data set (<var class="keyword varname">d</var>), its value becomes <var class="keyword varname">d</var>.</dd><dd class="dd pd ddexpand">A greater difference between <var class="keyword varname">min_window_size</var> and <var class="keyword varname">max_window_size</var> increases the probability of identifying better shapelets at the cost of higher execution time. The function uses this formula to compute the number of sliding windows, <var class="keyword varname">n</var>:
<p class="p"><var class="keyword varname">n</var> = ((<var class="keyword varname">max_window_size </var>- <var class="keyword varname">min_window_size</var>) / <var class="keyword varname">symbols_per_window</var>)+1</p>
<p class="p">The maximum value of <var class="keyword varname">n</var> is 20.</p></dd><dd class="dd pd ddexpand">Default: 70</dd><dt class="dt pt dlterm">SAXOutputFrequency</dt><dd class="dd pd">[Optional] Specify the SAX syntax element OutputFrequency, which specifies the number of data points to skip between successive sliding windows. The <var class="keyword varname">gap_between_windows</var> must be an integer in the range [1, 1000]. A smaller value increases accuracy (the chance of distinguishing time series from each other) at the cost of higher execution time.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">RandomProjections</dt><dd class="dd pd">[Optional] Specify the number of iterations required for random masking of SAX words during shapelet training. The <var class="keyword varname">projections</var> must be an INTEGER in the range [1, 40].</dd><dd class="dd pd ddexpand">Default: 10
<p class="p">Specifying a greater <var class="keyword varname">projections</var> for a longer input time series increases the probability of identifying better shapelets at the cost of higher execution time.</p></dd><dt class="dt pt dlterm">ShapeletCount</dt><dd class="dd pd">[Optional] Specify the maximum number of shapelets in the output model table. The <var class="keyword varname">num_shapelets</var> must be an INTEGER in the range [1, 100000].</dd><dd class="dd pd ddexpand">Default: 20</dd><dt class="dt pt dlterm">TimeInterval</dt><dd class="dd pd">[Optional] Specify the number of data points in a time series to skip between consecutive time series windows when calculating the distance of a shapelet from a time series.
<p class="p">The function builds a shapelet classification tree based on the distance of a shapelet from the time series data. Because a shapelet is typically much smaller than a complete time series, the function calculates the distance of a shapelet from a time series by sliding the shapelet across time series windows of shapelet length, calculating the distance between the shapelet and each window, and then selecting the smallest distance.</p>
<p class="p">The <var class="keyword varname">num_data_points</var> is the number of data points to skip when sliding from one time series window to the next. The <var class="keyword varname">num_data_points</var> must be an INTEGER in the range [1, 1000000]. The value 1 gives optimal results at the cost of higher execution time.</p>
<p class="p">Default: 10</p></dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Specify the random seed the algorithm uses for repeatable results. The <var class="keyword varname">seed</var> must be an INTEGER in the range [1, 100000].<div class="note note" id="cke1506626322388__note_N1018E_N10185_N1017E_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody"> For repeatable results, use both the Seed and UniqueID syntax elements. For more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>.</div></div></dd><dd class="dd pd ddexpand">Default: 23</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="ope1506626424052" xml:lang="en-us" lang="en-us" id="ope1506626424052">
<h2 class="title topictitle2" id="ariaid-title4">ShapeletSupervised Input</h2><div class="body refbody"><div class="section" id="ope1506626424052__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">InputTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ope1506626424052__table_i2t_mvs_rcb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e384" rowspan="1" colspan="1">Column</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e386" rowspan="1" colspan="1">Data Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e388" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e384" rowspan="1" colspan="1"><var class="keyword varname">id_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e386" rowspan="1" colspan="1">Any except DATE, TIME, or TIMESTAMP</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e388" rowspan="1" colspan="1">Time series identifier.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e384" rowspan="1" colspan="1"><var class="keyword varname">time_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e386" rowspan="1" colspan="1">BYTEINT, SMALLINT, INTEGER, BIGINT, NUMERIC, DOUBLE PRECISION, DATE, TIME, or TIMESTAMP</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e388" rowspan="1" colspan="1">Time axis of data.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e384" rowspan="1" colspan="1"><var class="keyword varname">target_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e386" rowspan="1" colspan="1">BYTEINT, SMALLINT, INTEGER, BIGINT, NUMERIC, or DOUBLE PRECISION</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e388" rowspan="1" colspan="1">Time series data.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e384" rowspan="1" colspan="1"><var class="keyword varname">category_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e386" rowspan="1" colspan="1">VARCHAR, NUMERIC, TIME, DATE</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e388" rowspan="1" colspan="1">[Optional] Time series category.</td></tr></tbody></table></div></div><div class="section" id="ope1506626424052__section_s3p_dxs_wcb">
<h3 class="title sectiontitle">ResponseTable Schema</h3>
<p class="p">This table is optional.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ope1506626424052__table_ovn_1ws_rcb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e435" rowspan="1" colspan="1">Column</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e437" rowspan="1" colspan="1">Data Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e439" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e435" rowspan="1" colspan="1"><var class="keyword varname">id_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e437" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e439" rowspan="1" colspan="1">Time series identifier.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e435" rowspan="1" colspan="1"><var class="keyword varname">category_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e437" rowspan="1" colspan="1">VARCHAR, NUMERIC, TIME, DATE</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e439" rowspan="1" colspan="1">Time series category.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="asz1506626524684" xml:lang="en-us" lang="en-us" id="asz1506626524684">
<h2 class="title topictitle2" id="ariaid-title5">ShapeletSupervised Output</h2><div class="body refbody"><div class="section" id="asz1506626524684__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Output Message Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="asz1506626524684__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:23.076923076923077%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:61.53846153846154%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d303264e477" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d303264e479" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d303264e481" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d303264e477" rowspan="1" colspan="1">stats</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d303264e479" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e481" rowspan="1" colspan="1">Reports creation of model table, number of shapelets, and number of rows.</td></tr></tbody></table></div></div><div class="section" id="asz1506626524684__section_e4n_yws_wcb">
<h3 class="title sectiontitle">ModelTable Schema</h3>
<p class="p">The function saves this model table to <var class="keyword varname">output_model_table</var>, whose default value is shapelet_model in the current schema.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="asz1506626524684__table_N10049_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:17.391304347826086%" span="1"></col><col style="width:21.73913043478261%" span="1"></col><col style="width:60.86956521739131%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d303264e506" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d303264e508" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d303264e510" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">shapelet_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Shapelet identifier.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">time_instant</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Shapelet time axis, represented as integer.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">value</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">Same as <var class="keyword varname">target_column</var> in InputTable</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Shapelet data point value.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">split_value</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Shapelet split value.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">left_child_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">shapelet_id of left child of shapelet in shapelet tree.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">right_child_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">shapelet_id of right child of shapelet in shapelet tree.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">left_class</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Class (category) identifier of left child of shapelet.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d303264e506" rowspan="1" colspan="1">right_class</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d303264e508" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e510" rowspan="1" colspan="1">Class (category) identifier of right child of shapelet.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="pwu1510767467465" xml:lang="en-us" lang="en-us" id="pwu1510767467465">
<h2 class="title topictitle2" id="ariaid-title6">ShapeletSupervised Example</h2><div class="body refbody"><div class="section" id="pwu1510767467465__section_ill_g3j_mdb">
<h3 class="title sectiontitle">Input</h3>
<p class="p">The input table has 10 price observations for four stocks. The column period contains time values, represented by integers.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="pwu1510767467465__table_dwn_43j_mdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: shapelets_train</span></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e607" rowspan="1" colspan="1">stockid</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e609" rowspan="1" colspan="1">period</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e611" rowspan="1" colspan="1">stockprice</th><th class="entry cellrowborder" style="vertical-align:top;" id="d303264e613" rowspan="1" colspan="1">stock_category</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22418</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">460</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22419</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">457</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22420</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">452</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22421</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">459</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22422</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">462</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22423</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">459</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22424</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">463</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22425</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">479</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22426</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">493</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22427</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">490</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22418</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">492</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22419</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">498</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22420</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">499</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22421</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">497</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22422</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">496</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22423</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">490</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22424</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">489</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22425</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">478</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22426</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">487</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22427</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">491</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Technology</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22418</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">68.2502</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22419</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.7501</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22420</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">68.375</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22421</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.1251</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22422</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.1251</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22423</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22424</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66.5002</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22425</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">64.1251</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22426</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">64.7501</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22427</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">65.375</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22418</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66.625</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22419</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66.8746</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22420</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.0003</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22421</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.2499</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22422</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">65.8752</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22423</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66.1248</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22424</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">66.5002</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22425</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.7501</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22426</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.4995</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e607" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e609" rowspan="1" colspan="1">22427</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e611" rowspan="1" colspan="1">67.2499</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d303264e613" rowspan="1" colspan="1">Healthcare</td></tr></tbody></table></div></div><div class="section" id="pwu1510767467465__section_uyz_g3j_mdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM ShapeletSupervised (
  ON shapelets_train AS InputTable
  OUT TABLE ModelTable (shapelets_model)
  USING
  IDColumn ('id')
  TimeColumn ('period')
  TargetColumn ('stockprice')
  ResponseColumn ('stock_category')
  SAXMinWindowSize (3)
  SAXMaxWindowSize (6)
  SAXOutputFrequency (1)
  SAXSymbolsPerWindow (3)
  RandomProjections (10)
  TimeInterval (1)
) AS dt;</code></pre></div><div class="section" id="pwu1510767467465__section_x3l_h3j_mdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> stats                         
 ----------------------------- 
 shapelet model table created.
 number of shapelets : 1      
 number of rows : 6</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM shapelets_model;</code></pre><pre class="pre screen" xml:space="preserve"> shapelet_id time_instant value_col split_value        left_child_id right_child_id left_class right_class 
 ----------- ------------ --------- ------------------ ------------- -------------- ---------- ----------- 
           1            1  67.12512 1.2180900573730469             0              0 healthcare technology 
           1            2      66.0 1.2180900573730469             0              0 healthcare technology 
           1            3 66.500158 1.2180900573730469             0              0 healthcare technology 
           1            4  64.12512 1.2180900573730469             0              0 healthcare technology 
           1            5 64.750082 1.2180900573730469             0              0 healthcare technology 
           1            6 65.375038 1.2180900573730469             0              0 healthcare technology</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title7" topicindex="7" topicid="vhh1518209216903" xml:lang="en-us" lang="en-us" id="vhh1518209216903">
<h2 class="title topictitle2" id="ariaid-title7">ShapeletSupervised Troubleshooting</h2><div class="body refbody"><div class="section" id="vhh1518209216903__section_N10011_N1000E_N10001">
<h3 class="title sectiontitle">Problem: The function runs slowly for large input data sets.</h3>
<p class="p">For a large input data set, the function runs slowly, spending much time on one step, or it terminates with a failure message. Consult the logs for error messages and troubleshooting information.</p></div><div class="section" id="vhh1518209216903__section_ywn_hx5_5cb">
<h3 class="title sectiontitle">Workarounds:</h3>
<ul class="ul" id="vhh1518209216903__ul_fp1_jx5_5cb">
<li class="li">Improve the execution time of the saxification step, in any of the following ways:
<ul class="ul" id="vhh1518209216903__ul_gp1_jx5_5cb">
<li class="li">Decrease the difference between the SAXMinWindowSize and SAXMaxWindowSize syntax element values.</li>
<li class="li">Increase the SAXOutputFrequency syntax element value.</li>
<li class="li">Decrease the SAXSymbolsPerWindow syntax element value.</li></ul></li>
<li class="li">Decrease the number of masking operations by decreasing the RandomProjections syntax element value.</li>
<li class="li">Decrease the number of shapelets in the output table by decreasing the ShapeletCount syntax element value.</li>
<li class="li">Increase the number of data points to skip between consecutive time series windows when calculating the distance of a shapelet from a time series by increasing the TimeInterval syntax element value.</li></ul></div><div class="section" id="vhh1518209216903__section_v3k_jx5_5cb">
<h3 class="title sectiontitle">Problem: Classification accuracy is not good enough.</h3>
<p class="p">The function completes successfully, but the classification accuracy is low.</p></div><div class="section" id="vhh1518209216903__section_zq2_lx5_5cb">
<h3 class="title sectiontitle">Workarounds:</h3>
<ul class="ul" id="vhh1518209216903__ul_w3m_mx5_5cb">
<li class="li">Improve the accuracy of the saxification step, in any of the following ways:
<ul class="ul" id="vhh1518209216903__ul_x3m_mx5_5cb">
<li class="li">Increase the difference between the SAXMinWindowSize and SAXMaxWindowSize syntax element values.</li>
<li class="li">Decrease the SAXOutputFrequency syntax element value.</li>
<li class="li">Increase the SAXSymbolsPerWindow syntax element value.</li></ul></li>
<li class="li">Increase the number of masking operations by increasing the RandomProjections syntax element value.</li>
<li class="li">Increase the number of shapelets in the output table by increasing the ShapeletCount syntax element value.</li>
<li class="li">Decrease the number of data points to skip between consecutive time series windows when calculating the distance of a shapelet from a time series by decreasing the TimeInterval syntax element value.</li></ul></div></div></div></div></body></html>
