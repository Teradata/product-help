<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ifq1507592820945" id="ifq1507592820945"><h1 class="title topictitle1" id="ariaid-title1">Single-Input Attribution_MLE</h1><div class="body conbody">
<p class="p">The single-input version of the Attribution_MLE function accepts a single input table and gets other parameters from syntax elements.</p></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="vlj1541522416838.md#rbe1506030154959">Multiple-Input Attribution_MLE</a></div></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="leh1507592901582" xml:lang="en-us" lang="en-us" id="leh1507592901582">
<h2 class="title topictitle2" id="ariaid-title2">Attribution_MLE Syntax (Single Input)</h2><div class="body refbody"><div class="section" id="leh1507592901582__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>2.9</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
 <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY <var class="keyword varname">expression</var> [,...] ORDER BY <var class="keyword varname">timestamp_column</var> [,...] 
  USING
  EventColumn ('<var class="keyword varname">event_column</var>')
  ConversionEvents ('<var class="keyword varname">conversion_event</var>' [,...])
  [ ExcludeEvents ('<var class="keyword varname">exclude_event</var>') ]
  [ OptionalEvents ('<var class="keyword varname">optional_event</var>' [,...]) ]
  TimeColumn ('<var class="keyword varname">time_column</var>')
  WindowSize ('rows:<var class="keyword varname">K</var> | seconds:<var class="keyword varname">K</var> | rows:<var class="keyword varname">K</var>&amp;seconds:<var class="keyword varname">K</var>')
  FirstModel ('<var class="keyword varname">type</var>', { '<var class="keyword varname">K</var>' | '<var class="keyword varname">EVENT</var>:<var class="keyword varname">WEIGHT</var>:<var class="keyword varname">MODEL</var>:<var class="keyword varname">PARAMETERS</var>' } [,...])
  [ SecondModel ('<var class="keyword varname">type</var>', { '<var class="keyword varname">K</var>' | '<var class="keyword varname">EVENT</var>:<var class="keyword varname">WEIGHT</var>:<var class="keyword varname">MODEL</var>:<var class="keyword varname">PARAMETERS</var>' } [,...]) ]
) AS <var class="keyword varname">alias</var>;</code></pre><div class="p">In the FirstModel and SecondModel syntax elements, colons are parameter delimiters. If a parameter contains colons, enclose it in double quotation marks. For example:<pre class="pre codeblock" xml:space="preserve"><code>FirstModel ('EVENT_REGULAR', '<span>"email:"</span>:0.19:LAST_CLICK:NA')</code></pre></div></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="eta1543514041091.md">Comments in Queries</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="zek1507592998201" xml:lang="en-us" lang="en-us" id="zek1507592998201">
<h2 class="title topictitle2" id="ariaid-title3">Attribution_MLE Syntax Elements (Single Input)</h2><div class="body refbody"><div class="section" id="zek1507592998201__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">EventColumn</dt><dd class="dd pd">Specify the name of the input column that contains the clickstream events.</dd><dt class="dt pt dlterm">ConversionEvents</dt><dd class="dd pd">Specify the conversion events. Each <var class="keyword varname">conversion_event</var> is a string or integer.</dd><dt class="dt pt dlterm">ExcludeEvents</dt><dd class="dd pd">[Optional] Specify the events to exclude from the attribution calculation. Each <var class="keyword varname">exclude_event</var> is a string or integer. An <var class="keyword varname">exclude_event</var> cannot be a <var class="keyword varname">conversion_event</var>.</dd><dt class="dt pt dlterm">OptionalEvents</dt><dd class="dd pd">[Optional] Specify the optional events. Each <var class="keyword varname">optional_event</var> is a string or integer. An <var class="keyword varname">optional_event</var> cannot be a <var class="keyword varname">conversion_event</var> or <var class="keyword varname">exclude_event</var>. The function attributes a conversion event to an optional event only if it cannot attribute it to a regular event.</dd><dt class="dt pt dlterm">TimeColumn</dt><dd class="dd pd">Specify the name of the input column that contains the timestamps of the clickstream events.</dd><dt class="dt pt dlterm">WindowSize</dt><dd class="dd pd">Specify how to determine the maximum window size for the attribution calculation:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zek1507592998201__table_qqv_3zx_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e249" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e251" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e249" rowspan="1" colspan="1"><code class="ph codeph">rows:</code><var class="keyword varname">K</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e251" rowspan="1" colspan="1">Consider maximum number of events to attribute, excluding events of types specified in ExcludedEventTable, which means assigning attributions to at most <var class="keyword varname">K</var> effective events before current impact event.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e249" rowspan="1" colspan="1"><code class="ph codeph">seconds:</code><var class="keyword varname">K</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e251" rowspan="1" colspan="1">Consider maximum time difference between current impact event and earliest effective event to attribute.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e249" rowspan="1" colspan="1"><code class="ph codeph">rows:</code><var class="keyword varname">K</var><code class="ph codeph">&amp;seconds:</code><var class="keyword varname">K2</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e251" rowspan="1" colspan="1">Consider both constraints and comply with stricter one.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">FirstModel</dt><dd class="dd pd">Specify the type and specification of the first model. For example:<pre class="pre codeblock" xml:space="preserve"><code>FirstModel ('EVENT_REGULAR', 'email:0.19:LAST_CLICK:NA', 'impression:0.81:WEIGHTED:0.4,0.3,0.2,0.1')</code></pre></dd><dt class="dt pt dlterm">SecondModel</dt><dd class="dd pd">[Optional] Specify the type and distributions of the second model. For example:<pre class="pre codeblock" xml:space="preserve"><code>SecondModel ('EVENT_OPTIONAL', 'OrganicSearch:0.5:UNIFORM:NA', 'Direct:0.3:UNIFORM:NA', 'Referral:0.2:UNIFORM:NA')</code></pre></dd></dl>
<p class="p">For more information about the FirstModel and SecondModel syntax elements, see <a href="qzj1542740942273.md">Attribution Model Specification</a>.</p></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="lkf1507593067393" xml:lang="en-us" lang="en-us" id="lkf1507593067393">
<h2 class="title topictitle2" id="ariaid-title4">Attribution_MLE Input (Single Input)</h2><div class="body refbody"><div class="section" id="lkf1507593067393__section_N1000E_N1000C_N10001">
<p class="p">The input table schema is input table schema in <a href="vlj1541522416838.md#ruu1507592122911">Attribution_MLE Input (Multiple Inputs)</a>.</p></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="lda1507593124646" xml:lang="en-us" lang="en-us" id="lda1507593124646">
<h2 class="title topictitle2" id="ariaid-title5">Attribution_MLE Output (Single Input)</h2><div class="body refbody"><div class="section" id="lda1507593124646__section_N1000D_N1000B_N10001">
<p class="p">The output table schema is the same as in <a href="vlj1541522416838.md#fhs1507592546378">Attribution_MLE Output (Multiple Inputs)</a>.</p></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="pyc1507593192386" xml:lang="en-us" lang="en-us" id="pyc1507593192386">
<h2 class="title topictitle2" id="ariaid-title6">Attribution_MLE Examples (Single Input)</h2><div class="body conbody"><div class="section" id="pyc1507593192386__section_N1000E_N1000C_N10001">
<p class="p">These examples use the events and channels from the Attribution_MLE Example Event Types and Channels table in the <a href="vlj1541522416838.md#anw1506030212637">Attribution_MLE Example (Multiple Inputs)</a>.</p></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="dwp1507593248856" xml:lang="en-us" lang="en-us" id="dwp1507593248856">
<h3 class="title topictitle3" id="ariaid-title7">Attribution_MLE Example (Single Input): One Regular Model, Multiple Optional Models</h3><div class="body refbody"><div class="section" id="dwp1507593248856__section_N10019_N10016_N10001">
<p class="p">Using the single-input Attribution_MLE function, this example specifies one distribution model for regular events and one distribution model for each type of optional event.</p></div><div class="section" id="dwp1507593248856__section_e3y_vvx_hdb">
<h4 class="title sectiontitle">Input</h4><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="dwp1507593248856__table_lmy_bwx_hdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>attribution_sample_table</span></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e403" rowspan="1" colspan="1">user_id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e405" rowspan="1" colspan="1">event</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e407" rowspan="1" colspan="1">time_stamp</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:01</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:03</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:05</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:07</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:09</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:11</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:13</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">Email</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:15</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:17</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:19</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">SocialNetwork</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:20</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">Direct</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:21</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">Referral</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:22</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">PaidSearch</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:23</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:29</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:31</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:33</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:36</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:38</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:43</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:47</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">OrganicSearch</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:49</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e403" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e405" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e407" rowspan="1" colspan="1">2001-09-27 23:00:51</td></tr></tbody></table></div></div><div class="section" id="dwp1507593248856__section_shq_wvx_hdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  OptionalEvents ('organicsearch', 'direct', 'referral')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
  FirstModel ('EVENT_REGULAR', 'email:0.19:LAST_CLICK:NA',
          'impression:0.81:UNIFORM:NA')
SecondModel ('EVENT_OPTIONAL', 'organicsearch:0.5:UNIFORM:NA',
          'direct:0.3:UNIFORM:NA', 'referral:0.2:UNIFORM:NA')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="dwp1507593248856__section_nmc_xvx_hdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution         time_to_conversion 
 ------- ------------- -------------------------- ------------------- ------------------ 
       1 impression    2001-09-27 23:00:01.000000 0.09000000357627869              -19.0
       1 impression    2001-09-27 23:00:03.000000 0.09000000357627869              -17.0
       1 impression    2001-09-27 23:00:05.000000 0.09000000357627869              -15.0
       1 impression    2001-09-27 23:00:07.000000 0.09000000357627869              -13.0
       1 impression    2001-09-27 23:00:09.000000 0.09000000357627869              -11.0
       1 impression    2001-09-27 23:00:11.000000 0.09000000357627869               -9.0
       1 impression    2001-09-27 23:00:13.000000 0.09000000357627869               -7.0
       1 email         2001-09-27 23:00:15.000000  0.1899999976158142               -5.0
       1 impression    2001-09-27 23:00:17.000000 0.09000000357627869               -3.0
       1 impression    2001-09-27 23:00:19.000000 0.09000000357627869               -1.0
       1 socialnetwork 2001-09-27 23:00:20.000000                NULL               NULL
       1 direct        2001-09-27 23:00:21.000000  0.6000000238418579               -2.0
       1 referral      2001-09-27 23:00:22.000000  0.4000000059604645               -1.0
       1 paidsearch    2001-09-27 23:00:23.000000                NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:36.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:38.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:43.000000 0.20000000298023224              -16.0
       2 impression    2001-09-27 23:00:47.000000 0.20000000298023224              -12.0
       2 impression    2001-09-27 23:00:51.000000 0.20000000298023224               -8.0
       2 impression    2001-09-27 23:00:53.000000 0.20000000298023224               -6.0
       2 impression    2001-09-27 23:00:55.000000 0.20000000298023224               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000                NULL               NULL
</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="cli1507593626882" xml:lang="en-us" lang="en-us" id="cli1507593626882">
<h3 class="title topictitle3" id="ariaid-title8">Attribution_MLE Example (Single Input): Multiple Regular Models, One Optional Model</h3><div class="body refbody"><div class="section" id="cli1507593626882__section_N10019_N10016_N10001">
<p class="p">Using the single-input Attribution_MLE function, this example specifies one distribution model for each type of regular event and one distribution model for optional events.</p></div><div class="section" id="cli1507593626882__section_irz_czx_hdb">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="cli1507593626882__ul_ibp_55y_h2b">
<li class="li">attribution_sample_table, as in <a href="ppu1541526284885.md#dwp1507593248856">Attribution_MLE Example (Single Input): One Regular Model, Multiple Optional Models</a></li></ul></div><div class="section" id="cli1507593626882__section_xxf_dzx_hdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  OptionalEvents ('organicsearch', 'direct', 'referral')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
  FirstModel ('EVENT_REGULAR', 'email:0.19:LAST_CLICK:NA',
          'impression:0.81:UNIFORM:NA')
  SecondModel ('EVENT_OPTIONAL', 'ALL:1:EXPONENTIAL:0.5,ROW')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="cli1507593626882__section_w4m_dzx_hdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">The only difference between this output and the output of <a href="ppu1541526284885.md#dwp1507593248856">Attribution_MLE Example (Single Input): One Regular Model, Multiple Optional Models</a> is the attribution of the optional events.</p><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution         time_to_conversion 
 ------- ------------- -------------------------- ------------------- ------------------ 
       1 impression    2001-09-27 23:00:01.000000 0.09000000357627869              -19.0
       1 impression    2001-09-27 23:00:03.000000 0.09000000357627869              -17.0
       1 impression    2001-09-27 23:00:05.000000 0.09000000357627869              -15.0
       1 impression    2001-09-27 23:00:07.000000 0.09000000357627869              -13.0
       1 impression    2001-09-27 23:00:09.000000 0.09000000357627869              -11.0
       1 impression    2001-09-27 23:00:11.000000 0.09000000357627869               -9.0
       1 impression    2001-09-27 23:00:13.000000 0.09000000357627869               -7.0
       1 email         2001-09-27 23:00:15.000000  0.1899999976158142               -5.0
       1 impression    2001-09-27 23:00:17.000000 0.09000000357627869               -3.0
       1 impression    2001-09-27 23:00:19.000000 0.09000000357627869               -1.0
       1 socialnetwork 2001-09-27 23:00:20.000000                NULL               NULL
       1 direct        2001-09-27 23:00:21.000000  0.3333333432674408               -2.0
       1 referral      2001-09-27 23:00:22.000000  0.6666666865348816               -1.0
       1 paidsearch    2001-09-27 23:00:23.000000                NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:36.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:38.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:43.000000 0.20000000298023224              -16.0
       2 impression    2001-09-27 23:00:47.000000 0.20000000298023224              -12.0
       2 impression    2001-09-27 23:00:51.000000 0.20000000298023224               -8.0
       2 impression    2001-09-27 23:00:53.000000 0.20000000298023224               -6.0
       2 impression    2001-09-27 23:00:55.000000 0.20000000298023224               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000                NULL               NULL
</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="wtn1523039355491" xml:lang="en-us" lang="en-us" id="wtn1523039355491">
<h3 class="title topictitle3" id="ariaid-title9">Attribution_MLE Example (Single Input): Dynamic Weighted Distribution Models</h3><div class="body refbody"><div class="section" id="wtn1523039355491__section_cw5_kvq_qgb">
<p class="p">This example uses the single-input Attribution_MLE function.</p></div><div class="section" id="wtn1523039355491__section_N10011_N1000E_N10001">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="wtn1523039355491__ul_thn_x5y_h2b">
<li class="li">attribution_sample_table, as in <a href="ppu1541526284885.md#dwp1507593248856">Attribution_MLE Example (Single Input): One Regular Model, Multiple Optional Models</a></li></ul></div><div class="section" id="wtn1523039355491__section_yjv_gll_kdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  OptionalEvents ('organicsearch', 'direct', 'referral')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
    
  FirstModel ('EVENT_REGULAR', 'email:0.19:LAST_CLICK:NA',
          'impression:0.81:WEIGHTED:0.4,0.3,0.2,0.1')
  SecondModel ('EVENT_OPTIONAL', 'ALL:1:WEIGHTED:0.4,0.3,0.2,0.1')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="wtn1523039355491__section_dbj_hll_kdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution         time_to_conversion 
 ------- ------------- -------------------------- ------------------- ------------------ 
       1 impression    2001-09-27 23:00:01.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:03.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:05.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:07.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:09.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:11.000000 0.08100000023841858               -9.0
       1 impression    2001-09-27 23:00:13.000000 0.16200000047683716               -7.0
       1 email         2001-09-27 23:00:15.000000  0.1899999976158142               -5.0
       1 impression    2001-09-27 23:00:17.000000 0.24300000071525574               -3.0
       1 impression    2001-09-27 23:00:19.000000  0.3240000009536743               -1.0
       1 socialnetwork 2001-09-27 23:00:20.000000                NULL               NULL
       1 direct        2001-09-27 23:00:21.000000  0.4285714328289032               -2.0
       1 referral      2001-09-27 23:00:22.000000  0.5714285969734192               -1.0
       1 paidsearch    2001-09-27 23:00:23.000000                NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:36.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:38.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:43.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:47.000000 0.10000000149011612              -12.0
       2 impression    2001-09-27 23:00:51.000000 0.20000000298023224               -8.0
       2 impression    2001-09-27 23:00:53.000000 0.30000001192092896               -6.0
       2 impression    2001-09-27 23:00:55.000000  0.4000000059604645               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000                NULL               NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="ezj1523039400390" xml:lang="en-us" lang="en-us" id="ezj1523039400390">
<h3 class="title topictitle3" id="ariaid-title10">Attribution_MLE Example (Single Input): Window Models</h3><div class="body refbody"><div class="section" id="ezj1523039400390__section_cw5_kvq_qgb">
<p class="p">This example uses the single-input Attribution_MLE function.</p></div><div class="section" id="ezj1523039400390__section_pkx_lll_kdb">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="ezj1523039400390__ul_jxz_1vy_h2b">
<li class="li">attribution_sample_table, as in <a href="ppu1541526284885.md#dwp1507593248856">Attribution_MLE Example (Single Input): One Regular Model, Multiple Optional Models</a></li></ul></div><div class="section" id="ezj1523039400390__section_yjv_gll_kdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  ExcludeEvents('email')
  OptionalEvents ('organicsearch', 'direct', 'referral')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
  FirstModel ('SEGMENT_ROWS', '3:0.5:EXPONENTIAL:0.5,ROW',
          '4:0.3:WEIGHTED:0.4,0.3,0.2,0.1', '3:0.2:FIRST_CLICK:NA')
  SecondModel ('SEGMENT_SECONDS', '6:0.5:UNIFORM:NA', '8:0.3:LAST_CLICK:NA',          '6:0.2:FIRST_CLICK:NA')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="ezj1523039400390__section_dbj_hll_kdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution         time_to_conversion 
 ------- ------------- -------------------------- ------------------- ------------------ 
       1 impression    2001-09-27 23:00:01.000000 0.20000000298023224              -19.0
       1 impression    2001-09-27 23:00:03.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:05.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:07.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:09.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:11.000000                 0.0               NULL
       1 impression    2001-09-27 23:00:13.000000 0.30000001192092896               -7.0
       1 impression    2001-09-27 23:00:17.000000                0.25               -3.0
       1 impression    2001-09-27 23:00:19.000000                0.25               -1.0
       1 socialnetwork 2001-09-27 23:00:20.000000                NULL               NULL
       1 direct        2001-09-27 23:00:21.000000                 0.5               -2.0
       1 referral      2001-09-27 23:00:22.000000                 0.5               -1.0
       1 paidsearch    2001-09-27 23:00:23.000000                NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:36.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:38.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:43.000000 0.20000000298023224              -16.0
       2 impression    2001-09-27 23:00:47.000000                 0.0               NULL
       2 impression    2001-09-27 23:00:51.000000 0.30000001192092896               -8.0
       2 impression    2001-09-27 23:00:53.000000                0.25               -6.0
       2 impression    2001-09-27 23:00:55.000000                0.25               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000                NULL               NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title11" topicindex="11" topicid="nfp1523039631820" xml:lang="en-us" lang="en-us" id="nfp1523039631820">
<h3 class="title topictitle3" id="ariaid-title11">Attribution_MLE Example (Single Input): Single-Window Model</h3><div class="body refbody"><div class="section" id="nfp1523039631820__section_cw5_kvq_qgb">
<p class="p">This example uses the single-input Attribution_MLE function.</p></div><div class="section" id="nfp1523039631820__section_mxc_mll_kdb">
<h4 class="title sectiontitle">Input</h4><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="nfp1523039631820__table_efx_tnl_kdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>attribution_sample_table3</span></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e789" rowspan="1" colspan="1">user_id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e791" rowspan="1" colspan="1">event</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e793" rowspan="1" colspan="1">time_stamp</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:07</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:09</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:11</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:13</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">Email</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:15</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:17</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:19</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">SocialNetwork</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:21</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">PaidSearch</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:23</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:29</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:31</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:33</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:47</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:51</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:53</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:55</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e789" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e791" rowspan="1" colspan="1">SocialNetwork</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e793" rowspan="1" colspan="1">2001-09-27 23:00:59</td></tr></tbody></table></div></div><div class="section" id="nfp1523039631820__section_yjv_gll_kdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table3 PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  ExcludeEvents('email')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
  FirstModel ('SIMPLE', 'UNIFORM:NA')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="nfp1523039631820__section_dbj_hll_kdb">
<h4 class="title sectiontitle">Output</h4><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="nfp1523039631820__table_x4v_p4l_kdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:20%" span="1"></col><col style="width:20%" span="1"></col><col style="width:20%" span="1"></col><col style="width:20%" span="1"></col><col style="width:20%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e933" rowspan="1" colspan="1">user_id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e935" rowspan="1" colspan="1">event</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e937" rowspan="1" colspan="1">time_stamp</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e939" rowspan="1" colspan="1">attribution</th><th class="entry cellrowborder" style="vertical-align:top;" id="d166712e941" rowspan="1" colspan="1">time_to_conversion</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:07</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-14</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:09</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-12</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:11</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-10</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:13</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-8</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:17</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:19</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.166667</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-2</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">SocialNetwork</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:21</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1"> </td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">PaidSearch</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:23</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1"> </td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:29</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:31</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:33</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:47</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-12</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:51</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-8</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:53</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-6</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">impression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:55</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1">0.25</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1">-4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e933" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e935" rowspan="1" colspan="1">SocialNetwork</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e937" rowspan="1" colspan="1">2001-09-27 23:00:59</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e939" rowspan="1" colspan="1"> </td><td class="entry cellrowborder" style="vertical-align:top;" headers="d166712e941" rowspan="1" colspan="1"> </td></tr></tbody></table></div><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution        time_to_conversion 
 ------- ------------- -------------------------- ------------------ ------------------ 
       1 impression    2001-09-27 23:00:07.000000 0.1666666716337204              -14.0
       1 impression    2001-09-27 23:00:09.000000 0.1666666716337204              -12.0
       1 impression    2001-09-27 23:00:11.000000 0.1666666716337204              -10.0
       1 impression    2001-09-27 23:00:13.000000 0.1666666716337204               -8.0
       1 impression    2001-09-27 23:00:17.000000 0.1666666716337204               -4.0
       1 impression    2001-09-27 23:00:19.000000 0.1666666716337204               -2.0
       1 socialnetwork 2001-09-27 23:00:21.000000               NULL               NULL
       1 paidsearch    2001-09-27 23:00:23.000000               NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                0.0               NULL
       2 impression    2001-09-27 23:00:47.000000               0.25              -12.0
       2 impression    2001-09-27 23:00:51.000000               0.25               -8.0
       2 impression    2001-09-27 23:00:53.000000               0.25               -6.0
       2 impression    2001-09-27 23:00:55.000000               0.25               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000               NULL               NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title12" topicindex="12" topicid="mgu1523039456591" xml:lang="en-us" lang="en-us" id="mgu1523039456591">
<h3 class="title topictitle3" id="ariaid-title12">Attribution_MLE Example (Single Input): Unused Segment Windows</h3><div class="body refbody"><div class="section" id="mgu1523039456591__section_cw5_kvq_qgb">
<p class="p">This example uses the single-input Attribution_MLE function.</p></div><div class="section" id="mgu1523039456591__section_mxc_mll_kdb">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="mgu1523039456591__ul_zxv_dvy_h2b">
<li class="li">attribution_sample_table3, as in <a href="ppu1541526284885.md#nfp1523039631820">Attribution_MLE Example (Single Input): Single-Window Model</a></li></ul></div><div class="section" id="mgu1523039456591__section_yjv_gll_kdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM Attribution_MLE (
  ON attribution_sample_table3 PARTITION BY user_id
    ORDER BY time_stamp
  USING
  EventColumn ('event')
  ConversionEvents ('socialnetwork', 'paidsearch')
  TimeColumn ('time_stamp')
  WindowSize ('rows:10&amp;seconds:20')
  
  FirstModel ('SEGMENT_ROWS', '3:0.5:EXPONENTIAL:0.5,ROW',
          '4:0.3:WEIGHTED:0.4,0.3,0.2,0.1', '3:0.2:FIRST_CLICK:NA')
  SecondModel ('SEGMENT_SECONDS', '6:0.5:UNIFORM:NA',
          '8:0.3:LAST_CLICK:NA', '6:0.2:FIRST_CLICK:NA')
) AS dt ORDER BY 1, 3;</code></pre></div><div class="section" id="mgu1523039456591__section_dbj_hll_kdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> user_id event         time_stamp                 attribution        time_to_conversion 
 ------- ------------- -------------------------- ------------------ ------------------ 
       1 impression    2001-09-27 23:00:07.000000                0.0               NULL
       1 impression    2001-09-27 23:00:09.000000                0.0               NULL
       1 impression    2001-09-27 23:00:11.000000                0.0               NULL
       1 impression    2001-09-27 23:00:13.000000              0.375               -8.0
       1 email         2001-09-27 23:00:15.000000 0.2083333283662796               -6.0
       1 impression    2001-09-27 23:00:17.000000 0.2083333283662796               -4.0
       1 impression    2001-09-27 23:00:19.000000 0.2083333283662796               -2.0
       1 socialnetwork 2001-09-27 23:00:21.000000               NULL               NULL
       1 paidsearch    2001-09-27 23:00:23.000000               NULL               NULL
       2 impression    2001-09-27 23:00:29.000000                0.0               NULL
       2 impression    2001-09-27 23:00:31.000000                0.0               NULL
       2 impression    2001-09-27 23:00:33.000000                0.0               NULL
       2 impression    2001-09-27 23:00:47.000000                0.0               NULL
       2 impression    2001-09-27 23:00:51.000000              0.375               -8.0
       2 impression    2001-09-27 23:00:53.000000             0.3125               -6.0
       2 impression    2001-09-27 23:00:55.000000             0.3125               -4.0
       2 socialnetwork 2001-09-27 23:00:59.000000               NULL               NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
