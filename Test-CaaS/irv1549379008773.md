<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="zqh1507735899373" id="zqh1507735899373"><h1 class="title topictitle1" id="ariaid-title1">KModes</h1><div class="body conbody">
<p class="p">KModes is an extension of KMeans that supports categorical data. KModes
			models are fit similarly to KMeans models. The core algorithm is an
			expectation-maximization algorithm that finds a locally optimal solution.</p>
<p class="p">These are the main steps to fitting the model:</p>
<ol class="ol" id="zqh1507735899373__ol_lsr_wxv_q1b">
<li class="li">Initialization
<p class="p">Select a set of K initial cluster centers. You can create this set with the <a href="erv1549378867990.md#vkk1507737806782">RandomSample (ML Engine)</a> function, which samples rows from an input table using the kmeans++ and kmeans|| algorithms. These initialization algorithms create initial cluster centers that are more likely to lead to better local optima.</p></li>
<li class="li">E step
<p class="p">A mapper assigns each point in the input
					table to one of the K clusters, and stores the sums of the numerical attributes
					and counts of the categorical attributes.</p></li>
<li class="li">M step
<p class="p">A reducer aggregates the the statistics created for each worker in the E step and creates new cluster centers. For numerical attributes, the new center is the mean of the value of the attribute for the points assigned to the cluster. For categorical attributes, the new center is the mode of the attribute value for the points assigned to the cluster.</p></li></ol>
<p class="p">The algorithm runs for either a set number of iterations or until the
			change in movement of the cluster centers drops below a user-specified threshold.</p>
<p class="p">When assigning points to a cluster, a hybrid distance function that
			combines a numeric distance and a categorical distance is required. The default distance
			between two data points in a KModes model is the squared Euclidean distance:</p><div class="fig fignone" id="zqh1507735899373__fig_mjt_s13_4w"><div class="caption"></div><br clear="none"></br><img class="image" id="zqh1507735899373__image_rgb_t13_4w" src="los1466005707426.png" alt="Formula for default distance between 2 data points in KModes model (squared Euclidean distance). Used by Machine Learning Engine function KModes."></img><br clear="none"></br></div>
<p class="p">where N denotes the indexes of numerical attributes, C denotes the indexes of categorical attributes, and w<span><sub>j</sub></span> denotes the weight to assign to a category.</p>
<p class="p">The Manhattan distance can also be used:</p><div class="fig fignone" id="zqh1507735899373__fig_ijs_nd3_4w"><div class="caption"></div><br clear="none"></br><img class="image" id="zqh1507735899373__image_n11_4d3_4w" src="yas1466005707926.png" alt="Formula for default distance between 2 data points in a KModes model (Manhattan distance). Used by Machine Learning Engine function KModes."></img><br clear="none"></br></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="gtm1507735943788" xml:lang="en-us" lang="en-us" id="gtm1507735943788">
<h2 class="title topictitle2" id="ariaid-title2">KModes Syntax</h2><div class="body refbody"><div class="section" id="gtm1507735943788__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.6</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KModes (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InitialSeedTable ]
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  USING
  [ NumClusters (<var class="keyword varname">clusters</var> [,...] ) ]
  [ ModelIDColumn ('<var class="keyword varname">model_id_column</var>') ]
  TargetColumns ('<var class="keyword varname">target_column</var>' [,...] )
  [ StopThreshold (<var class="keyword varname">threshold</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ NumericDistanceMethod ({ 'euclidean' | 'manhattan' }) ]
  [ CategoricalDistanceMethod ({ 'overlap' | 'hamming' }) ]
  [ CategoryWeights ('<var class="keyword varname">weight</var>' [,...] ) ]
  [ NumericAsCategorical ({ '<var class="keyword varname">ascat_column</var>' | <var class="keyword varname">ascat_column_range</var> }[,...]) ]
  [ Seed (<var class="keyword varname">seed</var>)
    SeedColumns ('<var class="keyword varname">seed_column</var>' [,...])
  ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="edx1507735947827" xml:lang="en-us" lang="en-us" id="edx1507735947827">
<h2 class="title topictitle2" id="ariaid-title3">KModes Syntax Elements</h2><div class="body refbody"><div class="section" id="edx1507735947827__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">Specify the name of the table in which to output the centroids of the clusters.</dd><dt class="dt pt dlterm">NumClusters</dt><dd class="dd pd">[Required if you omit InitialSeedTable, disallowed otherwise.] Specify the number of clusters. If you specify a single value, the function trains a single model with the specified number of clusters. If you specify multiple values, the function trains a model for each value.</dd><dt class="dt pt dlterm">ModelIDColumn</dt><dd class="dd pd">[Optional] Specify the name of the InitialSeedTable column that contains seed values for multiple models.</dd><dt class="dt pt dlterm">TargetColumns</dt><dd class="dd pd">Specify the input table columns to use for clustering.</dd><dt class="dt pt dlterm">StopThreshold</dt><dd class="dd pd">[Optional] Specify the convergence threshold. When the centroids move by less than <var class="keyword varname">threshold</var>, the algorithm has converged. The <var class="keyword varname">threshold</var> must be a nonnegative DOUBLE value.</dd><dd class="dd pd ddexpand">Default: 0.0395</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the maximum number of iterations that the algorithm runs before quitting if the convergence threshold is not met. The <var class="keyword varname">max_iterations</var> must be a positive INTEGER.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">NumericDistanceMethod</dt><dd class="dd pd">[Optional] Specify the distance metric for numeric dimensions.</dd><dd class="dd pd ddexpand">Default: 'euclidean'</dd><dt class="dt pt dlterm">CategoricalDistanceMethod</dt><dd class="dd pd">[Optional] Specify the distance metric for categorical dimensions:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="edx1507735947827__table_d5b_34z_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e264" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e266" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e264" rowspan="1" colspan="1"><code class="ph codeph">overlap</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e266" rowspan="1" colspan="1">Distance is 0 if two points are in same category, 1 otherwise.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e264" rowspan="1" colspan="1"><code class="ph codeph">hamming</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e266" rowspan="1" colspan="1">Used for categories that are strings of equal length. Percentage of different characters.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">CategoryWeights</dt><dd class="dd pd">[Optional] Specify the weight of each category in the KModes distance. Each <var class="keyword varname">weight</var> must be a DOUBLE value.</dd><dd class="dd pd ddexpand">Default behavior: All categories have equal weight.</dd><dt class="dt pt dlterm">NumericAsCategorical</dt><dd class="dd pd">[Optional] Specify the input table columns that contain numeric variables to interpret as categorical variables. These columns must have numeric SQL data types.</dd><dd class="dd pd ddexpand">Default behavior: No numeric variables are treated as categorical variables.</dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Specify the random seed the algorithm uses for repeatable results. The <var class="keyword varname">seed</var> must be a LONG value.</dd><dd class="dd pd ddexpand">If you specify Seed:
<ul class="ul" id="edx1507735947827__ul_ylx_btw_qy">
<li class="li">You must also specify SeedColumn.</li>
<li class="li">You must specify NumClusters, not InitialSeedTable.</li></ul><div class="note note" id="edx1507735947827__note_N10118_N100FD_N100F6_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody"> For repeatable results, use both the Seed and UniqueID syntax elements. For more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>.</div></div></dd><dt class="dt pt dlterm">SeedColumn</dt><dd class="dd pd">[Optional] Specify the names of the InputTable columns by which to partition the input. Function calls that use the same input data, <var class="keyword varname">seed</var>, and <var class="keyword varname">seed_column</var> output the same result. If you specify SeedColumn, you must also specify Seed.</dd><dd class="dd pd ddexpand">Ideally, the number of distinct values in the <var class="keyword varname">seed_column</var> is the same as the number of workers in the cluster. A very large number of distinct values in the <var class="keyword varname">seed_column</var> degrades function performance.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="mlb1519242503900" xml:lang="en-us" lang="en-us" id="mlb1519242503900">
<h2 class="title topictitle2" id="ariaid-title4">Ways to Create Multiple Models</h2><div class="body refbody"><div class="section" id="mlb1519242503900__section_N10011_N1000E_N10001"><div class="p">You can create multiple models and compare their metrics to find the best model. There are two ways to create multiple models simultaneously:
<ul class="ul" id="mlb1519242503900__ul_qvy_3vh_tw">
<li class="li">In the NumClusters syntax element, specify multiple values. 
<p class="p">For example, NumClusters (3, 3, 4) fits 3 models, two with 3 clusters and one model with 4 clusters. It is good practice to try multiple initializations when fitting KModes, which is why you might use the same number more than once.</p></li>
<li class="li">Use the RandomSample function to select multiple sets of rows from the input data table, and use these randomly selected samples as seeds in the KModes function.
<p class="p">Create a table from a call to RandomSample. Give the NumSample syntax element a set of values <var class="keyword varname">x</var><span><sub>1</sub></span>, <var class="keyword varname">x</var><span><sub>2</sub></span>, …, <var class="keyword varname">x</var><span><sub><var class="keyword varname">n</var></sub></span> where <var class="keyword varname">n</var> is the number of different sets of rows to create (this becomes the number of models later created by KModes) and <var class="keyword varname">x</var><span><sub><var class="keyword varname">i</var></sub></span> is the number of seed rows to select for each model (this determines the number of clusters in model <var class="keyword varname">i</var> later created by KModes). The table column set_id identifies each set of points.</p>
<p class="p">Call KModes, giving the InitialSeedTable syntax element that name of the table you created and specifying ModelIDColumn ('set_id').</p></li></ul></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="qso1507735951693" xml:lang="en-us" lang="en-us" id="qso1507735951693">
<h2 class="title topictitle2" id="ariaid-title5">KModes Input</h2><div class="body refbody"><div class="section" id="qso1507735951693__section_N100FD_N1000C_N10001"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qso1507735951693__table_rxs_bvd_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e425" rowspan="1" colspan="1">Table</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e427" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e425" rowspan="1" colspan="1">InputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e427" rowspan="1" colspan="1">Contains data points to cluster, with one dimension in each column.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e425" rowspan="1" colspan="1">InitialSeedTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e427" rowspan="1" colspan="1">[Required if you omit NumClusters, disallowed otherwise.] Contains points that serve as initial cluster centers.</td></tr></tbody></table></div></div><div class="section" id="qso1507735951693__section_qp5_pns_ddb">
<h3 class="title sectiontitle">InputTable and InitialSeedTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qso1507735951693__table_N10107_N100FE_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:23.076923076923077%" span="1"></col><col style="width:19.23076923076923%" span="1"></col><col style="width:57.692307692307686%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e450" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e452" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d235602e454" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e450" rowspan="1" colspan="1">dimension_<var class="keyword varname">i</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e452" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e454" rowspan="1" colspan="1">[Column appears once for each dimension.] Data for dimension <var class="keyword varname">i</var>. Each dimension is a feature (attribute) by which to cluster data. Function determines number of dimensions from data.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="jut1507735955371" xml:lang="en-us" lang="en-us" id="jut1507735955371">
<h2 class="title topictitle2" id="ariaid-title6">KModes Output</h2><div class="body refbody"><div class="section" id="jut1507735955371__section_N10011_N1000E_N10001">
<h3 class="title sectiontitle">Output Summary Schema</h3>
<p class="p">This table is displayed on the screen.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="jut1507735955371__table_N10159_N100FE_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:42.857142857142854%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:42.857142857142854%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e495" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e497" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d235602e499" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e495" rowspan="1" colspan="1">model_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e497" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e499" rowspan="1" colspan="1">[Column appears only if multiple models are trained.] Integer, starting with 0, identifying model.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e495" rowspan="1" colspan="1">summary</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e497" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e499" rowspan="1" colspan="1">Model data:
<ul class="ul" id="jut1507735955371__ul_kn2_r22_3y">
<li class="li">Number of Clusters (found in model)</li>
<li class="li">Number of Iterations (required to create model)</li>
<li class="li">Model Converged (whether algorithm converged)</li>
<li class="li">Number of Data Points (number of input rows used to build model)</li></ul></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e495" rowspan="1" colspan="1">between_cluster_error</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e497" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e499" rowspan="1" colspan="1">Sum of squared distances of centroids to global mean, where squared distance of each mean to global mean is multiplied by number of data points in cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e495" rowspan="1" colspan="1">total_within_cluster_error</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e497" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e499" rowspan="1" colspan="1">Sum of all within_cluster_ss values.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e495" rowspan="1" colspan="1">pseudo_f</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e497" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e499" rowspan="1" colspan="1">Value given by this formula:
<p class="p">(<var class="keyword varname">between_cluster_errror</var> / (<var class="keyword varname">K</var> - 1)) /</p>
<p class="p">(<var class="keyword varname">total_within_cluster_error</var> / (<var class="keyword varname">N</var> - <var class="keyword varname">K</var>))</p>
<p class="p">where <var class="keyword varname">N</var> is total number of data points, or total weight if points are weighted, and <var class="keyword varname">K</var> is number of clusters.</p></td></tr></tbody></table></div></div><div class="section" id="jut1507735955371__section_ix4_lzd_ycb">
<h3 class="title sectiontitle">OutputTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="jut1507735955371__table_N101DB_N100FE_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:28.57142857142857%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:57.14285714285714%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e583" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d235602e585" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d235602e587" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">model_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">[Column appears only if multiple models are trained.] Model identifier.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">cluster_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">Cluster identifier assigned by function.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1"><var class="keyword varname">numerical_attribute</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">[Column appears once for each numerical attribute.] Name of numerical attribute.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1"><var class="keyword varname">categorical_attribute</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">[Column appears once for each categorical attribute and for each numerical attribute specified by NumericAsCategorical.] Name of attribute.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">within_cluster_ss</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">Total distance summed over all points in cluster, between point and cluster center, as calculated by distance metric.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">cluster_weight</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">Total weight of data points assigned to cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">distance_metric</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">Value of Distance syntax element in function call (copied to output table so that you need not specify it again when calling KModesPredict).</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e583" rowspan="1" colspan="1">category_weights</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d235602e585" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e587" rowspan="1" colspan="1">Value of CategoryWeights syntax element in function call (copied to output table so that you need not specify it again when calling KModesPredict).</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title7" topicindex="7" topicid="eaf1510704155615" xml:lang="en-us" lang="en-us" id="eaf1510704155615">
<h2 class="title topictitle2" id="ariaid-title7">KModes Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="oxt1525792951371" xml:lang="en-us" lang="en-us" id="oxt1525792951371">
<h3 class="title topictitle3" id="ariaid-title8">KModes Example: InitialSeedTable</h3><div class="body refbody"><div class="section" id="oxt1525792951371__section_eyv_vbr_t2b">
<h4 class="title sectiontitle">Input</h4>
<p class="p">The InputTable has 32 observations on 11 variables, about different models of cars.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxt1525792951371__table_np3_bcr_t2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: kmodes_input</span></div><colgroup span="1"><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col><col style="width:10%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e700" rowspan="1" colspan="1">Variable</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e702" rowspan="1" colspan="1">Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e704" rowspan="1" colspan="1">Description</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e706" rowspan="1" colspan="1">drat</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e708" rowspan="1" colspan="1">wt</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e710" rowspan="1" colspan="1">qsec</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e712" rowspan="1" colspan="1">vs</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e714" rowspan="1" colspan="1">am</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e716" rowspan="1" colspan="1">gear</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e718" rowspan="1" colspan="1">carb</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">mpg</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Miles/US gallon</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">-0.835197792</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">0.22254417</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-0.307088658</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">2</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">cyl</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Numerical treated as categorical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Number of cylinders</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">-1.246659826</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">2.077504765</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">0.073449451</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">disp</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Displacement (cubic inches)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">0.24956575</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">0.636460997</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-1.364760755</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">hp</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Gross horsepower</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">-0.685575235</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">2.174596366</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-0.239934874</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">drat</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Rear axle ratio</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">0.473999587</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">-0.917004624</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">0.426006817</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">V</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">wt</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Weight (lb/1000)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">-1.564607761</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">0.309415603</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-0.54772305</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">2</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">qsec</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Normalized numerical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">1/4 mile time</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">-0.722980874</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">0.360516446</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-1.124126363</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">4</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">vs</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Categorical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Engine (V or straight)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">0.043834734</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">-0.457097039</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-1.314395417</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">5</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">6</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">am</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Categorical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Transmission (automatic or manual)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">0.90416444</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">-1.039646647</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">0.907275602</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">V</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">gear</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Numerical treated as categorical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Number of forward gears</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">0.90416444</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">-1.310481114</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">0.588295128</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">V</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e700" rowspan="1" colspan="1">carb</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e702" rowspan="1" colspan="1">Numerical treated as categorical</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e704" rowspan="1" colspan="1">Number of carburetors</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e706" rowspan="1" colspan="1">1.166003916</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e708" rowspan="1" colspan="1">-0.048290296</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e710" rowspan="1" colspan="1">-1.874010283</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e712" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e714" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e716" rowspan="1" colspan="1">5</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e718" rowspan="1" colspan="1">4</td></tr></tbody></table></div>
<p class="p">The InitialSeedTable has three points that serve as initial cluster centers.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxt1525792951371__table_ox4_wcr_t2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InitialSeedTable: kmodes_init</span></div><colgroup span="1"><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e974" rowspan="1" colspan="1">model</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e976" rowspan="1" colspan="1">mpg</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e978" rowspan="1" colspan="1">cyl</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e980" rowspan="1" colspan="1">disp</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e982" rowspan="1" colspan="1">hp</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e984" rowspan="1" colspan="1">drat</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e986" rowspan="1" colspan="1">wt</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e988" rowspan="1" colspan="1">qsec</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e990" rowspan="1" colspan="1">vs</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e992" rowspan="1" colspan="1">am</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e994" rowspan="1" colspan="1">gear</th><th class="entry cellrowborder" style="vertical-align:top;" id="d235602e997" rowspan="1" colspan="1">carb</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e974" rowspan="1" colspan="1">Datsun 710</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e976" rowspan="1" colspan="1">0.449543447</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e978" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e980" rowspan="1" colspan="1">-0.990182091</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e982" rowspan="1" colspan="1">-0.783040459</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e984" rowspan="1" colspan="1">0.473999587</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e986" rowspan="1" colspan="1">-0.917004624</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e988" rowspan="1" colspan="1">0.426006817</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e990" rowspan="1" colspan="1">V</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e992" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e994" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e997" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e974" rowspan="1" colspan="1">Ferrari Dino</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e976" rowspan="1" colspan="1">-0.064813069</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e978" rowspan="1" colspan="1">6</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e980" rowspan="1" colspan="1">-0.691647397</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e982" rowspan="1" colspan="1">0.412942174</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e984" rowspan="1" colspan="1">0.043834734</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e986" rowspan="1" colspan="1">-0.457097039</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e988" rowspan="1" colspan="1">-1.314395417</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e990" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e992" rowspan="1" colspan="1">manual</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e994" rowspan="1" colspan="1">5</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e997" rowspan="1" colspan="1">6</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e974" rowspan="1" colspan="1">Lincoln Continental</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e976" rowspan="1" colspan="1">-1.607882616</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e978" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e980" rowspan="1" colspan="1">1.849931752</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e982" rowspan="1" colspan="1">0.996348337</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e984" rowspan="1" colspan="1">-1.115740088</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e986" rowspan="1" colspan="1">2.255335698</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e988" rowspan="1" colspan="1">-0.016088927</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e990" rowspan="1" colspan="1">S</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e992" rowspan="1" colspan="1">automatic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e994" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d235602e997" rowspan="1" colspan="1">4</td></tr></tbody></table></div></div><div class="section" id="oxt1525792951371__section_N10011_N1000E_N10001">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE kmodes_clusters;

SELECT * FROM KModes (
  ON kmodes_input AS InputTable
  ON kmodes_init AS InitialSeedTable
  OUT TABLE OutputTable (kmodes_clusters)
  USING
  TargetColumns ('mpg:carb')
  NumericAsCategorical ('cyl','gear','carb')
) AS dt;</code></pre></div><div class="section" id="oxt1525792951371__section_rmb_s2j_tdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">With InitialSeedTable, the cluster centers and assignments are the same every time, with the same distance metric (in this case, the default, Euclidean).</p>
+
<p class="p">This query returns the following table:</p><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmodes_clusters;</code></pre><pre class="pre screen" xml:space="preserve"> cluster_id mpg                disp               hp                 drat              wt                 qsec              cyl vs am        gear carb within_cluster_ss cluster_weight distance_metric   category_weights          
 ---------- ------------------ ------------------ ------------------ ----------------- ------------------ ----------------- --- -- --------- ---- ---- ----------------- -------------- ----------------- ------------------------- 
 1               -0.2639188168       -0.059076587        0.760068841      0.4478156392       -0.221011145     -1.2494800924 6   s  manual    5    4     20.7870494221671            5.0 NULL              NULL                     
 0          -0.724943435928571  0.890010157642857  0.511912862714286     -0.9434069635  0.794435602785714      -0.180375863 8   s  automatic 3    4     43.6174097337196           14.0 EUCLIDEAN,OVERLAP [1.0, 1.0, 1.0, 1.0, 1.0]
 2           0.882215552923077 -0.935750713230769 -0.843624945153846 0.843739945692308 -0.770541747153846 0.674820195846154 4   v  manual    4    2     48.7743732753756           13.0 NULL              NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="ppg1507735971500" xml:lang="en-us" lang="en-us" id="ppg1507735971500">
<h3 class="title topictitle3" id="ariaid-title9">KModes Example: NumClusters</h3><div class="body refbody"><div class="section" id="ppg1507735971500__section_N1000E_N1000C_N10001">
<p class="p">This example specifies NumClusters ('3') to obtain three clusters. Because different cluster centers are produced each time you run the example, cluster assignments might differ.</p></div><div class="section" id="ppg1507735971500__section_r3z_2dr_t2b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="ppg1507735971500__ul_ess_fdr_t2b">
<li class="li">InputTable: kmodes_input, as in <a href="irv1549379008773.md#oxt1525792951371">KModes Example: InitialSeedTable</a></li></ul></div><div class="section" id="ppg1507735971500__section_zhc_5cj_tdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE kmodes_clusters1;

SELECT * FROM KModes (
  ON kmodes_input AS InputTable
  OUT TABLE OutputTable (kmodes_clusters1)
  USING
  NumClusters (3)
  TargetColumns ('mpg:carb')
  NumericAsCategorical('cyl','gear','carb')
) AS dt ;</code></pre></div><div class="section" id="ppg1507735971500__section_jls_5cj_tdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> set_id summary                                                                                          between_cluster_error total_within_cluster_error pseudo_f           
 ------ ------------------------------------------------------------------------------------------------ --------------------- -------------------------- ------------------ 
 0      Number of Clusters: 3
Number of Iterations: 3
Model Converged: true
Number of Data Points: 32.0
     196.2432817153941          111.7567182974282 16.974535569904358</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM kmodes_clusters1;</code></pre><pre class="pre screen" xml:space="preserve"> set_id cluster_id mpg                disp               hp                 drat              wt                  qsec               cyl vs am        gear carb within_cluster_ss cluster_weight distance_metric   category_weights          
 ------ ---------- ------------------ ------------------ ------------------ ----------------- ------------------- ------------------ --- -- --------- ---- ---- ----------------- -------------- ----------------- ------------------------- 
 0      1          -0.263918816857143 -0.187711613285714  0.444196075857143 0.492702406571429 -0.0928210307142857 -0.772368446571429 6   s  manual    4    4     32.2124975506323            7.0 NULL              NULL                     
 0      0          -0.724943435928571  0.890010157642857  0.511912862714286     -0.9434069635   0.794435602785714       -0.180375863 8   s  automatic 3    4     43.6174097337196           14.0 EUCLIDEAN,OVERLAP [1.0, 1.0, 1.0, 1.0, 1.0]
 0      2            1.09060362018182  -1.01328735581818 -0.934195692090909 0.887161876727273  -0.952031929363636  0.721076473636364 4   v  manual    4    2     35.9268110130763           11.0 NULL              NULL</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
