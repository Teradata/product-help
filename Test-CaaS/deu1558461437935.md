<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="kdy1507736654973" id="kdy1507736654973"><h1 class="title topictitle1" id="ariaid-title1">KModesPredict</h1><div class="body conbody">
<p class="p">KModesPredict is the prediction function corresponding to <a href="irv1549379008773.md#zqh1507735899373">KModes</a>.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="hcc1507736710398" xml:lang="en-us" lang="en-us" id="hcc1507736710398">
<h2 class="title topictitle2" id="ariaid-title2">KModesPredict Syntax</h2><div class="body refbody"><div class="section" id="hcc1507736710398__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.3</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KModesPredict (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable PARTITION BY ANY
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS Model DIMENSION ORDER BY distance_metric
  USING
  [ Models (<var class="keyword varname">'model_id'</var> [,...] ) ]
  [ OutputDistance ({ 'true'|'yes'|'t'|'y'|'1'|'FALSE'|'no'|'f'|'n'|'0' }) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="mhw1507736717831" xml:lang="en-us" lang="en-us" id="mhw1507736717831">
<h2 class="title topictitle2" id="ariaid-title3">KModesPredict Syntax Elements</h2><div class="body refbody"><div class="section" id="mhw1507736717831__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">Models</dt><dd class="dd pd">[Optional] Specify the model IDs to use for prediction.</dd><dd class="dd pd ddexpand">Default: All models</dd><dt class="dt pt dlterm">OutputDistance</dt><dd class="dd pd">[Optional] Specify whether to output the distance from each observation to its closest centroid.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the InputTable columns to copy to the output table.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="wxe1507736722036" xml:lang="en-us" lang="en-us" id="wxe1507736722036">
<h2 class="title topictitle2" id="ariaid-title4">KModesPredict Input</h2><div class="body refbody"><div class="section" id="wxe1507736722036__section_N10061_N1000C_N10001"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wxe1507736722036__table_f1l_412_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d297983e183" rowspan="1" colspan="1">Table</th><th class="entry cellrowborder" style="vertical-align:top;" id="d297983e185" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d297983e183" rowspan="1" colspan="1">InputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d297983e185" rowspan="1" colspan="1">Must have column for every attribute in Model table. <span>The table can have additional columns, but the function ignores them.</span></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d297983e183" rowspan="1" colspan="1">Model</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d297983e185" rowspan="1" colspan="1"><a href="irv1549379008773.md#jut1507735955371">KModes Output</a> OutputTable.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="pqo1507736726077" xml:lang="en-us" lang="en-us" id="pqo1507736726077">
<h2 class="title topictitle2" id="ariaid-title5">KModesPredict Output</h2><div class="body refbody"><div class="section" id="pqo1507736726077__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Output Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="pqo1507736726077__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:26.31578947368421%" span="1"></col><col style="width:17.543859649122805%" span="1"></col><col style="width:56.14035087719298%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d297983e223" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d297983e225" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d297983e227" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1">set_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">[Column appears only if multiple models are trained.] Model identifier.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1">cluster_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">Cluster identifier assigned by function.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1">distance</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">[Column appears only with OutputDistance ('true').] Distance from observation to closest centroid.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1"><var class="keyword varname">numerical_attribute</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">[Column appears once for each numerical attribute.] Name of numerical attribute.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1"><var class="keyword varname">categorical_attribute</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">[Column appears once for each categorical attribute and for each numerical attribute specified by NumericAsCategorical in KModes call that created model.] Name of attribute.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d297983e223" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d297983e225" rowspan="1" colspan="1">Same as in InputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d297983e227" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">accumulate_column</var>.] Column copied from InputTable.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="uya1510704306447" xml:lang="en-us" lang="en-us" id="uya1510704306447">
<h2 class="title topictitle2" id="ariaid-title6">KModesPredict Example</h2><div class="body refbody"><div class="section" id="uya1510704306447__section_svd_ggj_tdb">
<h3 class="title sectiontitle">Input</h3>
<ul class="ul" id="uya1510704306447__ul_xhp_vgj_tdb">
<li class="li">InputTable: kmodes_input, found in <a href="irv1549379008773.md#oxt1525792951371">KModes Example: InitialSeedTable</a></li>
<li class="li">Model: kmodes_clusters, output by <a href="irv1549379008773.md#oxt1525792951371">KModes Example: InitialSeedTable</a></li></ul></div><div class="section" id="uya1510704306447__section_urq_ggj_tdb">
<h3 class="title sectiontitle">SQL
      Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM KModesPredict (
  ON kmodes_clusters AS model dimension ORDER BY distance_metric
  ON kmodes_input AS InputTable PARTITION BY ANY
  USING
  accumulate ('model')
) AS dt ;</code></pre></div><div class="section" id="uya1510704306447__section_vs1_hgj_tdb">
<h3 class="title sectiontitle">Output</h3>
<p class="p">Each InputTable row is assigned one of the three clusters.</p><pre class="pre screen" xml:space="preserve"> cluster_id mpg          disp         hp           drat         wt           qsec         cyl vs am        gear carb model               
 ---------- ------------ ------------ ------------ ------------ ------------ ------------ --- -- --------- ---- ---- ------------------- 
 2           0.449543447 -0.990182091 -0.783040459  0.473999587 -0.917004624  0.426006817 4   v  manual    4    1    datsun 710         
 2           1.710546517  -1.25079481 -1.381031775  2.493904115 -1.637526508  0.375641479 4   v  manual    4    2    honda civic        
 1           0.150884825 -0.570619819  -0.53509284  0.567513685 -0.610399567 -0.777165145 6   s  manual    4    4    mazda rx4          
 1           -0.71190675  0.970464681  1.711020886  1.166003916 -0.048290296 -1.874010283 8   s  manual    5    4    ford pantera l     
 2           0.449543447 -0.725535119 -0.753870151  0.604919325 -0.068730634  2.826754593 4   v  automatic 4    2    merc 230           
 2          -0.380063837 -0.509299179 -0.345485837  0.604919325  0.227654255  0.588295128 6   v  automatic 4    4    merc 280c          
 2          -0.147773797 -0.509299179 -0.345485837  0.604919325  0.227654255  0.252526208 6   v  automatic 4    4    merc 280           
 0          -0.761683187  0.704204008  0.048313323 -1.564607761  0.309415603  -0.54772305 8   s  automatic 3    2    dodge challenger   
 2           1.196190002 -1.224168743 -1.176839619   0.90416444 -1.310481114  0.588295128 4   v  manual    4    1    fiat x1-9          
 0          -1.126710392  0.962396176  1.433902959   0.24956575  0.636460997 -1.364760755 8   s  automatic 3    4    camaro z28         
 2           0.715017777 -0.677930938 -1.235180235  0.174754472 -0.027849959  1.203871481 4   v  automatic 4    2    merc 240d          
 0           0.217253407  0.220093694  -0.53509284  -0.96611753 -0.002299538  0.890487156 6   v  automatic 3    1    hornet 4 drive     
 0          -0.811459624  0.591244935  0.048313323 -0.835197792   0.22254417 -0.307088658 8   s  automatic 3    2    amc javelin        
 1          -0.064813069 -0.691647397  0.412942174  0.043834734 -0.457097039 -1.314395417 6   s  manual    5    6    ferrari dino       
 0          -0.811459624  0.363713088  0.485867945  -0.98482035  0.575139986  0.084641749 8   s  automatic 3    3    merc 450slc        
 2           0.217253407 -0.885291523 -0.549677994  0.960272899  -0.44687687  0.420410668 4   v  manual    4    2    volvo 142e         
 0          -0.894420352  1.688561647  1.215125648 -0.685575235  2.174596366 -0.239934874 8   s  automatic 3    4    chrysler imperial  
 2           1.710546517 -1.094265808 -0.491337378  0.324377029 -1.741772228 -0.530934604 4   v  manual    5    2    lotus europa       
 1           0.150884825 -0.570619819  -0.53509284  0.567513685 -0.349785269  -0.46378082 6   s  manual    4    4    mazda rx4 wag      
 0            -0.3302874 -0.046166978  -0.60801861 -1.564607761  0.248094592  1.326986752 6   v  automatic 3    1    valiant            
 0          -0.230734526  1.043081228  0.412942174 -0.835197792  0.227654255  -0.46378082 8   s  automatic 3    2    hornet sportabout  
 1          -0.844643915  0.567039419  2.746566825 -0.105787824  0.360516446 -1.818048797 8   s  manual    5    8    maserati bora      
 0          -0.463024565  0.363713088  0.485867945  -0.98482035  0.524039143 -0.139204198 8   s  automatic 3    3    merc 450sl         
 2           0.980492108 -0.890939476 -0.812210767   1.55876313 -1.100967659 -0.642857578 4   s  manual    5    2    porsche 914-2      
 0          -0.960788935  1.043081228  1.433902959 -0.722980874  0.360516446 -1.124126363 8   s  automatic 3    4    duster 360         
 0          -1.607882616  1.849931752  0.996348337 -1.115740088  2.255335698 -0.016088927 8   s  automatic 3    4    lincoln continental
 2           0.233845553 -0.892553178 -0.724699843  0.193457291  -0.76881218   1.20946763 4   v  automatic 3    1    toyota corona      
 2           2.291271616 -1.287909934 -1.191424773  1.166003916   -1.4126828  1.147909994 4   v  manual    4    1    toyota corolla     
 0          -0.147773797  1.365821438  0.412942174  -0.96611753  0.641571082 -0.446992374 8   s  automatic 3    2    pontiac firebird   
 2           2.042389431 -1.226589294 -1.176839619   0.90416444 -1.039646647  0.907275602 4   v  manual    4    1    fiat 128           
 0          -1.607882616  1.946753815  0.850496796 -1.246659826  2.077504765  0.073449451 8   s  automatic 3    4    cadillac fleetwood 
 0          -0.612353876  0.363713088  0.485867945  -0.98482035  0.871524874 -0.251127171 8   s  automatic 3    3    merc 450se</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
