<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="mwd1507666023473" id="mwd1507666023473"><h1 class="title topictitle1" id="ariaid-title1">GMM</h1><div class="body conbody">
<p class="p">GMM is a driver function that fits a Gaussian Mixture Model (GMM) to data supplied in an input table. You specify whether GMM uses a basic GMM algorithm with a fixed number of clusters or a Dirichlet Process GMM (DP-GMM) algorithm with a variable number of clusters.</p>
<p class="p">The output table of the GMM function can be input to the function <a href="ifn1558460307521.md#lnk1507728494086">GMMPredict</a>.</p></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a></div></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="mvg1507666059016" xml:lang="en-us" lang="en-us" id="mvg1507666059016">
<h2 class="title topictitle2" id="ariaid-title2">GMM Syntax</h2><div class="body refbody"><div class="section" id="mvg1507666059016__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.3</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GMM (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InitialValues PARTITION BY 1
  ON <var class="keyword varname">input_table</var> AS InputTable
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  USING
  { MaxClusterNum (<var class="keyword varname">max_clusters</var>) | ClusterNum (<var class="keyword varname">clusters</var>) }
  [ CovarianceType ({ 'diagonal' | 'spherical' | 'tied' | 'full' }) ]
  [ Tolerance (<var class="keyword varname">tolerance</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ ConcentrationParam (<var class="keyword varname">concentration</var>) ]
  [ PackOutput (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="hio1507666156895" xml:lang="en-us" lang="en-us" id="hio1507666156895">
<h2 class="title topictitle2" id="ariaid-title3">GMM Syntax Elements</h2><div class="body refbody"><div class="section" id="hio1507666156895__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">IDColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the row identifier.</dd><dd class="dd pd ddexpand">Default: First InputColumn column</dd><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">Specify the name of the output table to which the function outputs cluster information. The table must not already exist.</dd><dt class="dt pt dlterm">MaxClusterNum</dt><dd class="dd pd">[Required if you omit ClusterNum, disallowed otherwise.] Specify the maximum number of clusters in a Dirichlet Process model and causes the function to use the DP-GMM algorithm. This value must have the data type INTEGER.</dd><dd class="dd pd ddexpand">Default: 20</dd><dt class="dt pt dlterm">ClusterNum</dt><dd class="dd pd">[Required if you omit MaxClusterNum, disallowed otherwise.] Specify the number of clusters in a model and causes the function to use the basic GMM algorithm. This value must have the data type INTEGER and be greater than 0.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">CovarianceType</dt><dd class="dd pd">[Optional] Specify the covariance matrix type, thereby determining how many parameters the function estimates for each cluster, where <var class="keyword varname">D</var> is the number of dimensions in the matrix:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hio1507666156895__table_xqz_qmz_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:75%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e176" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e178" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e176" rowspan="1" colspan="1"><code class="ph codeph">'diagonal'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e178" rowspan="1" colspan="1">Each covariance matrix has zeros on nondiagonal. Function estimates <var class="keyword varname">D</var> parameters for each cluster.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e176" rowspan="1" colspan="1"><code class="ph codeph">'spherical'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e178" rowspan="1" colspan="1">Each covariance matrix is of form σI. Function estimates one parameter for each cluster.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e176" rowspan="1" colspan="1"><code class="ph codeph">'tied'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e178" rowspan="1" colspan="1">Each cluster has the same covariance matrix. Function estimates (1/2)<var class="keyword varname">D</var> (<var class="keyword varname">D</var> -1) parameters.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e176" rowspan="1" colspan="1"><code class="ph codeph">'full'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e178" rowspan="1" colspan="1">Each cluster has an arbitrary covariance matrix. Function estimates (1/2)<var class="keyword varname">D</var> (<var class="keyword varname">D</var> -1) parameters for each cluster.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">Tolerance</dt><dd class="dd pd">[Optional] Specify the minimum change in log-likelihood between iterations that causes the function to terminate. This value must have the data type DOUBLE PRECISION and be greater than 0.</dd><dd class="dd pd ddexpand">Default: 0.001</dd><dt class="dt pt dlterm">MaxIterNum</dt><dd class="dd pd">[Optional] Specify the maximum number of iterations for which the function runs. This value must have the data type INTEGER and be greater than 0.</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">ConcentrationParam</dt><dd class="dd pd">[Optional] Specify this syntax element only if you specify MaxClusterNum. Specify the concentration parameter, α, which determines the number of clusters that the DP-GMM algorithm creates. This value must have the data type DOUBLE PRECISION and be greater than 0.</dd><dd class="dd pd ddexpand">The expected number of clusters is α log N, where N is the number of points in the data set; therefore, a larger α value tends to cause the algorithm to find more clusters.</dd><dd class="dd pd ddexpand">Default: 0.001</dd><dt class="dt pt dlterm">PackOutput</dt><dd class="dd pd">[Optional] Specify whether the function packs the output.</dd><dd class="dd pd ddexpand">Default: 'false'</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="moo1507666272749" xml:lang="en-us" lang="en-us" id="moo1507666272749">
<h2 class="title topictitle2" id="ariaid-title4">GMM Input</h2><div class="body refbody"><div class="section" id="moo1507666272749__section_N1000E_N1000C_N10001"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_rjz_tjd_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e270" rowspan="1" colspan="1">Table</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e272" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e270" rowspan="1" colspan="1">InputTable</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e272" rowspan="1" colspan="1">Contains input data to cluster.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e270" rowspan="1" colspan="1">InitialValues</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e272" rowspan="1" colspan="1">[Optional] Table or view that contains initial values for weight, mean, and covariance of each cluster. If this table or view is empty, function terminates without executing.<div class="p">If you do not specify a table or view, you must use query <code class="ph codeph">ON (SELECT 1)</code>, which causes function to determine initial values as follows:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_ems_ykm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e296" rowspan="1" colspan="1">Characteristic</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e298" rowspan="1" colspan="1">Initial Value</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e296" rowspan="1" colspan="1">weight</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e298" rowspan="1" colspan="1">Same for all clusters.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e296" rowspan="1" colspan="1">mean</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e298" rowspan="1" colspan="1">Selected from multivariate standard normal distribution centered at origin.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e296" rowspan="1" colspan="1">covariance</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e298" rowspan="1" colspan="1">Covariance matrix computed by function and assigned to each cluster.</td></tr></tbody></table></div></div></td></tr></tbody></table></div></div><div class="section" id="moo1507666272749__section_vp1_4jd_ycb">
<h3 class="title sectiontitle">InputTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:14.285714285714285%" span="1"></col><col style="width:28.57142857142857%" span="1"></col><col style="width:57.14285714285714%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e326" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e328" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e330" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e326" rowspan="1" colspan="1">id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e328" rowspan="1" colspan="1">Any</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e330" rowspan="1" colspan="1">Data point identifier.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e326" rowspan="1" colspan="1">dim_<var class="keyword varname">n</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e328" rowspan="1" colspan="1"><span>Any numeric SQL data type</span></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e330" rowspan="1" colspan="1">[Column appears once for each dimension.] Data in dimension <var class="keyword varname">i</var>.</td></tr></tbody></table></div></div><div class="section" id="moo1507666272749__section_pt2_qjd_ycb">
<h3 class="title sectiontitle">InitialValues Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_N10069_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:14.285714285714285%" span="1"></col><col style="width:28.57142857142857%" span="1"></col><col style="width:57.14285714285714%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e363" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e365" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e367" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e363" rowspan="1" colspan="1">weight</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e365" rowspan="1" colspan="1"><span>Any numeric SQL data type</span></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e367" rowspan="1" colspan="1">Initial weight of cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e363" rowspan="1" colspan="1">dim_<var class="keyword varname">n</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e365" rowspan="1" colspan="1"><span>Any numeric SQL data type</span></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e367" rowspan="1" colspan="1">[Column appears once for each dimension.] Initial mean of cluster.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e363" rowspan="1" colspan="1">covariance</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e365" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e367" rowspan="1" colspan="1">Initial covariance of cluster. Possible values depend on CovarianceType.<div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_k2g_5lm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e402" rowspan="1" colspan="1">CovarianceType</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e404" rowspan="1" colspan="1">Possible Values</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e402" rowspan="1" colspan="1"><code class="ph codeph">'spherical'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e404" rowspan="1" colspan="1">Positive numeric value (for example, 1.0.)</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e402" rowspan="1" colspan="1"><code class="ph codeph">'diagonal'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e404" rowspan="1" colspan="1">JSON representation of DOUBLE PRECISION array (for example, [1.0,2.0,3.0,4.0])</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e402" rowspan="1" colspan="1"><code class="ph codeph">'tied'</code> or <code class="ph codeph">'full'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e404" rowspan="1" colspan="1">JSON representation of two-dimensional DOUBLE PRECISION array (for example, [[1.0,2.0],[2.0,4.0]])</td></tr></tbody></table></div></div></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="ytf1507666317864" xml:lang="en-us" lang="en-us" id="ytf1507666317864">
<h2 class="title topictitle2" id="ariaid-title5">GMM Output</h2><div class="body refbody"><div class="section" id="ytf1507666317864__section_N1000E_N1000C_N10001">
<p class="p">The GMM function outputs a message and a table. The OutputTable schema depends on the PackOutput syntax element.</p></div><div class="section" id="ytf1507666317864__section_nrx_wmd_ycb">
<h3 class="title sectiontitle">Output Message Properties</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e449" rowspan="1" colspan="1">Property</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e451" rowspan="1" colspan="1">Value</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Output Table</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Table name specified in OutputTable syntax element.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Algorithm Used</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Algorithm that function used—Basic GMM or DP-DMM.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1"> </td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Stopping Criterion</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Why function stopped—reached iteration limit or convergence.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Delta Log Likelihood</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Change in mean log-likelihood for each data point between next-to-final and final iterations.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Number of Iterations</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Number of iterations that function performed before stopping.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Number of Clusters Found</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Number of clusters in GMM.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Covariance Type</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Spherical, diagonal, tied, or full.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1"> </td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Number of Data Points</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Number of data points in data set.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Global Mean</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Mean of data set.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Global Covariance</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Covariance of data set.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1"> </td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1"> </td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Log Likelihood</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Log-likelihood of data, given GMM.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Akaike Information Criterion</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Akaike Information Criterion.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e449" rowspan="1" colspan="1">Bayesian Information Criterion</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e451" rowspan="1" colspan="1">Bayesian Information Criterion.</td></tr></tbody></table></div></div><div class="section" id="ytf1507666317864__section_xyf_fnd_ycb">
<h3 class="title sectiontitle">OutputTable Schema, PackOutput ('false') (Default)</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N100C0_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:18.181818181818183%" span="1"></col><col style="width:27.27272727272727%" span="1"></col><col style="width:54.54545454545454%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e542" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e544" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e546" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">cluster_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Cluster identification number.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">points_assigned</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Number of points in training data set assigned to  cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">covariance_type</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Covariance type.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">weight</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Weight assigned to cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">dim_<var class="keyword varname">n</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">[Column appears once for each dimension.] Mean of cluster <var class="keyword varname">n.</var></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">cov_<var class="keyword varname">n</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">[Column appears once for each dimension.] Covariance of cluster <var class="keyword varname">n</var>.
<p class="p">Depends on CovarianceType:</p><div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_bm1_xnm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e609" rowspan="1" colspan="1">CovarianceType</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e611" rowspan="1" colspan="1">cov_<var class="keyword varname">n</var></th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e609" rowspan="1" colspan="1"><code class="ph codeph">'spherical'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e611" rowspan="1" colspan="1">Single covariance column. Each row contains DOUBLE PRECISION value.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e609" rowspan="1" colspan="1"><code class="ph codeph">'diagonal'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e611" rowspan="1" colspan="1"><var class="keyword varname">D</var> covariance rows, each containing a DOUBLE PRECISION value.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e609" rowspan="1" colspan="1"><code class="ph codeph">'tied'</code> or <code class="ph codeph">'full'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e611" rowspan="1" colspan="1"><var class="keyword varname">D</var>(<var class="keyword varname">D</var>-1) covariance rows, each containing a DOUBLE PRECISION value.</td></tr></tbody></table></div></div></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">log_determinant</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Log determinant of covariance matrix.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e542" rowspan="1" colspan="1">prec</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e544" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e546" rowspan="1" colspan="1">Precision matrix, inverse of covariance matrix. Precision matrix is serialized and stored to improve performance of <a href="ifn1558460307521.md#lnk1507728494086">GMMPredict</a> function.</td></tr></tbody></table></div></div><div class="section" id="ytf1507666317864__section_fp2_gnd_ycb">
<h3 class="title sectiontitle">OutputTable Schema, PackOutput ('true')</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N10199_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:18.181818181818183%" span="1"></col><col style="width:27.27272727272727%" span="1"></col><col style="width:54.54545454545454%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e678" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e680" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e682" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">cluster_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Cluster identification number.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">points_assigned</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Number of points in training data set assigned to cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">covariance_type</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Number of points in training data set assigned to cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">weight</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Weight assigned to cluster.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">mean</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Vector of <var class="keyword varname">D</var> DOUBLE PRECISION values that specify mean of each cluster (for example, [4.5, 2.3, 1.3]).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">covariance</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Depends on CovarianceType:<div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_oqt_2xr_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e737" rowspan="1" colspan="1">CovarianceType</th><th class="entry cellrowborder" style="vertical-align:top;" id="d368676e739" rowspan="1" colspan="1">covariance</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e737" rowspan="1" colspan="1"><code class="ph codeph">'spherical'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e739" rowspan="1" colspan="1">Single covariance column. Each row contains DOUBLE PRECISION value.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e737" rowspan="1" colspan="1"><code class="ph codeph">'diagonal'</code>, <code class="ph codeph">'tied'</code>,  or <code class="ph codeph">'full'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e739" rowspan="1" colspan="1">Single covariance column. Each row contains a white-space separated list of <var class="keyword varname">D</var>*<var class="keyword varname">D</var> DOUBLE PRECISION values.</td></tr></tbody></table></div></div></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">log_determinant</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Log determinant of covariance matrix.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e678" rowspan="1" colspan="1">prec</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e680" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e682" rowspan="1" colspan="1">Precision matrix, inverse of covariance matrix. Precision matrix is serialized and stored to improve performance of <a href="ifn1558460307521.md#lnk1507728494086">GMMPredict</a> function.</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="btu1510703684716" xml:lang="en-us" lang="en-us" id="btu1510703684716">
<h2 class="title topictitle2" id="ariaid-title6">GMM Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="zym1507666381888" xml:lang="en-us" lang="en-us" id="zym1507666381888">
<h3 class="title topictitle3" id="ariaid-title7">GMM Examples Input</h3><div class="body refbody"><div class="section" id="zym1507666381888__section_N1000E_N1000C_N10001">
<p class="p">The table gmm_iris_input contains raw data, which has values for four attributes—sepal_length, sepal_width, petal_length, and petal_width—which are the data dimensions. The table does not include the species column, because the goal is data clustering, not classification. Each example outputs three clusters.</p>
<p class="p">From the raw data, a train set and a test set are created.</p>
<p class="p">The function GMM uses the train set to create the model. The GMMPredict function uses the model information to predict clusters for the test data.</p></div><div class="section" id="zym1507666381888__section_vqq_5dt_wbb">
<h4 class="title sectiontitle">Raw Data Table gmm_iris_input</h4><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zym1507666381888__table_N1001A_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:11.11111111111111%" span="1"></col><col style="width:22.22222222222222%" span="1"></col><col style="width:22.22222222222222%" span="1"></col><col style="width:22.22222222222222%" span="1"></col><col style="width:22.22222222222222%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e827" rowspan="1" colspan="1">id</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e829" rowspan="1" colspan="1">sepal_length</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e831" rowspan="1" colspan="1">sepal_width</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d368676e833" rowspan="1" colspan="1">petal_length</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d368676e835" rowspan="1" colspan="1">petal_width</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">1</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">5.1</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.5</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">2</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.9</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">3</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.7</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.2</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.3</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">4</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.6</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.1</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.5</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">5</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">5</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.6</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">6</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">5.4</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.9</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.7</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.4</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">7</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.6</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.4</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.3</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">8</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">5</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.4</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.5</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">9</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.4</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">2.9</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.2</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">10</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">4.9</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">3.1</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">1.5</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">0.1</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e827" rowspan="1" colspan="1">...</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e829" rowspan="1" colspan="1">...</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e831" rowspan="1" colspan="1">...</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d368676e833" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d368676e835" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="zym1507666381888__section_pqf_sdt_wbb">
<h4 class="title sectiontitle">Split Input into Training and Testing Data Sets</h4>
<p class="p">The following code divides the 150 data rows into a training data set (80%) and a testing data set (20%). The GMM examples use gmm_iris_train; the GMMPredict example uses gmm_iris_test.</p><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE gmm_iris_train;
DROP TABLE gmm_iris_test;

CREATE MULTISET TABLE gmm_iris_train AS (
  SELECT * FROM gmm_iris_input WHERE id MOD 5 <> 0
) WITH DATA;

CREATE MULTISET TABLE gmm_iris_test AS (
  SELECT * FROM gmm_iris_input WHERE id MOD 5 = 0
) WITH DATA;</code></pre>
<p class="p">Alternatively, you can do the preceding task with the Sampling or RandomSample function.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="pak1525196771161" xml:lang="en-us" lang="en-us" id="pak1525196771161">
<h3 class="title topictitle3" id="ariaid-title8">GMM Example: Basic GMM, Spherical Covariance, Packed Output</h3><div class="body refbody"><div class="section" id="pak1525196771161__section_ukk_kpx_xhb">
<h4 class="title sectiontitle">Input</h4>
<p class="p">See <a href="zgv1558460260471.md#zym1507666381888">GMM Examples Input</a>.</p></div><div class="section" id="pak1525196771161__section_jwr_b1l_rdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GMM (
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (gmm_output_ex1)
  USING
  ClusterNum (3)
  CovarianceType ('spherical')
  MaxIterNum (10)
  PackOutput (1)
) AS dt ;</code></pre></div><div class="section" id="pak1525196771161__section_m1f_c1l_rdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">Because the <span><b>SQL</b></span> call specifies PackOutput (1), a single mean column displays a vector containing the mean value for each dimension.</p><pre class="pre screen" xml:space="preserve">property			value
-----------------------------  -------------------------------------------------------------------------------------------------------------
Output Table			Table Name Specified in OutputTable argument
Algorithm Used			Basic GMM
	
Stopping Criterion		Algorithm converged with tolerance 0.001
Delta Log Likelihood		0
Number of Iterations		5
Number of Clusters		3
Covariance Type	spherical
Number of Data Points		120
Global Mean			[5.866, 3.055, 3.770, 1.205]
Global Covariance		[[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]
	
Log Likelihood			-332.722
Akaike Information Criterion	699.444 on 17 parameters
Bayesian Information Criterion	746.831 on 17 parameters</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM gmm_output_ex1;</code></pre><pre class="pre screen" xml:space="preserve">cluster_id	points_assigned	covariance_type	weight		mean										covariance	log_determinant		prec
0		1		spherical	8.33E-03	[4.5, 2.3, 1.3, 0.3]								1.00E-12	-1.10524084463714E 002	1.00E+12
1		39		spherical	3.25E-01	[5.01025640674348, 3.4461538411338686, 1.446153846741701, 0.25128205118815566]	0.072353714	-1.05047539703453E 001	13.82099057
2		80		spherical	6.67E-01	[6.299999998810369, 2.873750003735264, 4.933749991865624, 1.6812499968280563]	0.351423837	-4.18304908500248E 000	2.845566791</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="tox1507666830590" xml:lang="en-us" lang="en-us" id="tox1507666830590">
<h3 class="title topictitle3" id="ariaid-title9">GMM Example: Basic GMM, Diagonal Covariance, Unpacked Output</h3><div class="body refbody"><div class="section" id="tox1507666830590__section_bfy_hpx_xhb">
<h4 class="title sectiontitle">Input</h4>
<p class="p">See <a href="zgv1558460260471.md#zym1507666381888">GMM Examples Input</a>.</p></div><div class="section" id="tox1507666830590__section_fm1_2bt_rdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE gmm_output_ex2;

SELECT * FROM GMM(
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (gmm_output_ex2)
  USING
  ClusterNum (3)
  CovarianceType ('diagonal')
  MaxIterNum (10)
  PackOutput (0)
) AS dt;</code></pre></div><div class="section" id="tox1507666830590__section_vpp_2bt_rdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">Because the SQL call specifies PackOutput (0), the mean for each dimension is output in a separate column.</p><pre class="pre screen" xml:space="preserve">property                          value
-----------------------------     --------------------------------------------
Output Table                      Table Name Specified in OutputTable argument
Algorithm Used                    Basic GMM

Stopping Criterion                Algorithm converged with tolerance 0.001
Delta Log Likelihood              0.000306
Number of Iterations              9
Number of Clusters                3
Covariance Type                   diagonal

Number of Data Points             120
Global Mean                       [5.866, 3.055, 3.770, 1.205]
Global Covariance                 [[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]

Log Likelihood                    -299.463
Akaike Information Criterion      650.927 on 26 parameters
Bayesian Information Criterion    723.402 on 26 parameters</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM gmm_output_ex2;</code></pre><pre class="pre screen" xml:space="preserve"> cluster_id points_assigned covariance_type                 weight           sepal_length            sepal_width           petal_length            petal_width                  cov_1                  cov_2                  cov_3                  cov_4        log_determinant prec
----------- --------------- --------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ----------------------
          0              80 diagonal         6.66666671404995E-001  6.29999999264475E 000  2.87375000423673E 000  4.93374997654975E 000  1.68124999091003E 000  4.48250005108612E-001  1.12435939872283E-001  6.75236010159825E-001  1.69773448042198E-001 -5.15375919180448E 000 [2.2308979109943294, 8.893953313646076, 1.4809636704110392, 5.890202570141868]
          1              34 diagonal         2.81449285506468E-001  4.96420190082733E 000  3.39489108307423E 000  1.41310305651851E 000  2.18678116022252E-001  1.42644399487320E-001  1.69911879262500E-001  2.20773079340602E-002  5.21182552945754E-003 -1.27899058795552E 001 [7.010439972365617, 5.885403683017837, 45.295377633304305, 191.87134994215393]
          2               6 diagonal         5.18840430885372E-002  5.17812827017366E 000  3.54014393613176E 000  1.60196613519743E 000  4.35969594955617E-001  3.39711206117030E-002  4.30843522590134E-002  7.16344281172976E-003  8.91647791209674E-003 -1.61854587507255E 001 [29.436768113428094, 23.210282795670814, 139.5976803727047, 112.15190682447918]</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="dau1507667271202" xml:lang="en-us" lang="en-us" id="dau1507667271202">
<h3 class="title topictitle3" id="ariaid-title10">GMM Example: DP-GMM, Full Covariance, Unpacked Output</h3><div class="body refbody"><div class="section" id="dau1507667271202__section_ntk_fpx_xhb">
<h4 class="title sectiontitle">Input</h4>
<p class="p">See <a href="zgv1558460260471.md#zym1507666381888">GMM Examples Input</a>.</p></div><div class="section" id="dau1507667271202__section_N10011_N1000E_N10001">
<p class="p">Dirichlet Process GMM (DP-GMM) estimates the number of clusters in the data using an algorithm based on variational Bayesian methods.</p></div><div class="section" id="dau1507667271202__section_fm1_2bt_rdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE dpgmm_output_ex3;

SELECT * FROM GMM (
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (dpgmm_output_ex3)
  USING
  MaxClusterNum (3)
  CovarianceType ('full')
  MaxIterNum (10)
  PackOutput (0)
) AS dt ;</code></pre></div><div class="section" id="dau1507667271202__section_vpp_2bt_rdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve">property                                 value

Output Table                             Table Name Specified in OutputTable argument
Algorithm Used                           Dirichlet Process GMM

Stopping Criterion                       Algorithm converged with tolerance 0.001
Delta Log Likelihood                     0.000494
Number of Iterations                     9
Number of Clusters Found                 1
Covariance Type                          full

Number of Data Points                    120
Global Mean                              [5.866, 3.055, 3.770, 1.205]
Global Covariance                        [[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]

Log Likelihood                           1550.435
Akaike Information Criterion             -3012.870 on 44 parameters
Bayesian Information Criterion           -2890.220 on 44 parameters</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM dpgmm_output_ex3;</code></pre><pre class="pre screen" xml:space="preserve"> cluster_id points_assigned covariance_type                 weight           sepal_length            sepal_width           petal_length            petal_width                 cov_11                 cov_12                 cov_13                 cov_14                 cov_22                 cov_23                 cov_24                 cov_33                 cov_34                 cov_44        log_determinant prec
----------- --------------- --------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
          0             120 full             9.99991735613739E-001  5.73419321840163E 000  3.01843398222490E 000  3.61166171552218E 000  1.14486231793446E 000  1.66229691309346E 000 -2.14185076572784E-001  1.69427437178447E 000  6.93859028192593E-001  1.14410673681517E 000  2.62470215164859E-002  1.96024408024593E-002  4.00032159904576E 000  1.27929542158923E 000  1.50738876901989E 000  1.88394523840622E 000 [[0.7824065708713632, -0.04166720450521028, -0.2990852151033951, -0.10577545815433718], [-0.09328115290486803, 0.875436053888177, 0.03258314726425615, 0.0039006629777845513], [-0.169999622325278, 0.13304206449205377, 0.40094413849390415, -0.26375291186527555], [-0.04690499623137513, 0.04519483374938999, -0.25244627156275695, 0.898648652091002]]
          1               0 full             8.25613837088043E-006  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  1.66666666666667E-001 -7.16703787691222E 000 [[6.0, 0.0, 0.0, 0.0], [0.0, 6.0, 0.0, 0.0], [0.0, 0.0, 6.0, 0.0], [0.0, 0.0, 0.0, 6.0]]
          2               0 full             8.24789043818501E-009  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  1.66666666666667E-001 -7.16703787691222E 000 [[6.0, 0.0, 0.0, 0.0], [0.0, 6.0, 0.0, 0.0], [0.0, 0.0, 6.0, 0.0], [0.0, 0.0, 0.0, 6.0]]</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
