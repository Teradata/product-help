<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ktq1507841046186" id="ktq1507841046186"><h1 class="title topictitle1" id="ariaid-title1">GeometryOverlay</h1><div class="body conbody">
<p class="p">The GeometryOverlay function takes two geometries described by the
			well-known text (WKT) markup language and outputs the result of overlaying them, as
			specified by the boundary operator.</p>
<p class="p">You can use this function to prepare sets of geometries for input to the <a href="vfd1558453668981.md#ymo1507842459658">PointInPolygon</a> function. For example, you can use this function to prepare a geometry that contains all cellular phone reception polygons near an airport to create a geometry that is useful for identifying frequent fliers.</p>
<p class="p">The function works only on 2D spatial objects.</p></div><div class="topic concept nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="unc1466004897816" xml:lang="en-us" lang="en-us" id="unc1466004897816">
<h2 class="title topictitle2" id="ariaid-title2">GeometryOverlay Syntax</h2><div class="topic reference nested2" aria-labelledby="ariaid-title3" topicindex="3" topicid="ywa1507841106941" xml:lang="en-us" lang="en-us" id="ywa1507841106941">
<h3 class="title topictitle3" id="ariaid-title3">UNION, INTERSECTION, DIFFERENCE and SYMDIFFERENCE</h3><div class="body refbody"><div class="section" id="ywa1507841106941__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.3</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS SourceTable PARTITION BY { ANY | <var class="keyword varname">key</var> }
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS ReferenceTable { DIMENSION | PARTITION BY <var class="keyword varname">key</var> }
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  ReferenceLocationColumn ('<var class="keyword varname">ref_location_column</var>')
  ReferenceNameColumns ({ '<var class="keyword varname">ref_name_column</var>' | <var class="keyword varname">ref_name_column_range</var> }[,...])
  BoundaryOperator ({ 'UNION' | 'INTERSECTION' | 'DIFFERENCE' | 'SYMDIFFERENCE' })
  [ OutputAll (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title4" topicindex="4" topicid="jdg1507841111498" xml:lang="en-us" lang="en-us" id="jdg1507841111498">
<h3 class="title topictitle3" id="ariaid-title4">CONVEXHULL</h3><div class="body refbody"><div class="section" id="jdg1507841111498__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.3</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  BoundaryOperator ('CONVEXHULL')
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title5" topicindex="5" topicid="pju1507841115813" xml:lang="en-us" lang="en-us" id="pju1507841115813">
<h3 class="title topictitle3" id="ariaid-title5">BUFFER</h3><div class="body refbody"><div class="section" id="pju1507841115813__section_N1000E_N1000C_N10001">
<h4 class="title sectiontitle">Version <span>1.3</span></h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  SourceLocationColumn ('<var class="keyword varname">source_location_column</var>')
  BoundaryOperator ('BUFFER')
  Distance ('<var class="keyword varname">distance</var>')
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="qug1507841137419" xml:lang="en-us" lang="en-us" id="qug1507841137419">
<h2 class="title topictitle2" id="ariaid-title6">GeometryOverlay Syntax Elements</h2><div class="body refbody"><div class="section" id="qug1507841137419__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">SourceLocationColumn</dt><dd class="dd pd">Specify the name of the SourceTable column that contains the polygon description in WKT format.</dd><dt class="dt pt dlterm">ReferenceLocationColumn</dt><dd class="dd pd">Specify the name of the ReferenceTable column that contains the location of the polygon description in WKT format.</dd><dt class="dt pt dlterm">ReferenceNameColumns</dt><dd class="dd pd">Specify the names of the ReferenceTable columns that contain the names of the polygons.</dd><dt class="dt pt dlterm">BoundaryOperator</dt><dd class="dd pd">Specify a boundary (geometry overlay) operator from the following table.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qug1507841137419__table_N10094_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:19.35483870967742%" span="1"></col><col style="width:16.129032258064516%" span="1"></col><col style="width:64.51612903225806%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e362" rowspan="1" colspan="1">Boundary Operator</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e364" rowspan="1" colspan="1">Result</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d28490e366" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">UNION</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_svw_x4f_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_cpl_y4f_lw" src="omu1466005953714.png" alt="UNION of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains area covered by source polygon and area covered by reference polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">INTERSECTION</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_ls3_z4f_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_w5x_z4f_lw" src="hxn1466005954353.png" alt="INTERSECTION of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains area that is common to source and reference polygons (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">DIFFERENCE</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_qr1_bpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_vpp_bpf_lw" src="hmz1466005954893.png" alt="DIFFERENCE of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains area covered only by source polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">SYMDIFFERENCE</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_jjn_cpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_uhn_dpf_lw" src="xza1466005955441.png" alt="SYMDIFFERENCE of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains area covered by only source polygon or only reference polygon (blue area in figure).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">CONVEXHULL</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_qdf_gpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_bg5_gpf_lw" src="phn1466005956043.png" alt="CONVEXHULL of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains smallest convex set that contains source polygon in Euclidean plane (blue area in figure).</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e362" rowspan="1" colspan="1">BUFFER</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e364" rowspan="1" colspan="1"><div class="fig fignone" id="qug1507841137419__fig_ntz_kpf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_nhd_mpf_lw" src="kvs1466005956627.png" alt="Positive BUFFER of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div><div class="p"><div class="fig fignone" id="qug1507841137419__fig_rvx_4pf_lw"><div class="caption"></div><br clear="none"></br><img class="image" id="qug1507841137419__image_wkb_qpf_lw" src="cmd1466005957163.png" alt="Negative BUFFER of overlapping polygons (Machine Learning Engine function GeometryOverlay)"></img><br clear="none"></br></div></div></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e366" rowspan="1" colspan="1">Result contains source polygon and specified buffer.
<p class="p">A positive buffer extends area of polygon. In upper figure, result includes both buffer (blue) and source polygon (pale pink).</p>
<p class="p">A negative buffer decreases area of polygon. In lower figure, result includes only source polygon (blue).</p>
<p class="p">For buffer operation, eight segments is adopted in curve approximation for corners.</p></td></tr></tbody></table></div></dd><dt class="dt pt dlterm">Distance</dt><dd class="dd pd">[Required with BoundaryOperator('BUFFER').] Specify the distance by which to extend or decrease the polygon.</dd><dt class="dt pt dlterm">OutputAll</dt><dd class="dd pd">[Optional] Specify whether to include the result of nonintersection geometries in the output table.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the source table columns to copy to the output table.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title7" topicindex="7" topicid="ckl1507841141820" xml:lang="en-us" lang="en-us" id="ckl1507841141820">
<h2 class="title topictitle2" id="ariaid-title7">GeometryOverlay Input</h2><div class="body refbody"><div class="section" id="ckl1507841141820__section_N1000E_N1000C_N10001">
<p class="p">SourceTable and ReferenceTable must use the same coordinate reference system.</p></div><div class="section" id="ckl1507841141820__section_xxb_xsr_ycb">
<h3 class="title sectiontitle">SourceTable Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ckl1507841141820__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:24.137931034482758%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:62.06896551724138%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e503" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e505" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d28490e507" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e503" rowspan="1" colspan="1"><var class="keyword varname">source_location_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e505" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e507" rowspan="1" colspan="1">Description of source polygon in WKT markup language.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e503" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e505" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e507" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">accumulate_column</var>.] <span>Column to copy to output table.</span></td></tr></tbody></table></div></div><div class="section" id="ckl1507841141820__section_ubj_zsr_ycb">
<h3 class="title sectiontitle">ReferenceTable Schema</h3>
<p class="p">Not used for the boundary operators CONVEXHULL and BUFFER.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ckl1507841141820__table_N1005B_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:25.925925925925924%" span="1"></col><col style="width:14.814814814814813%" span="1"></col><col style="width:59.25925925925925%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e543" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e545" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d28490e547" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e543" rowspan="1" colspan="1"><var class="keyword varname">ref_location_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e545" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e547" rowspan="1" colspan="1">Location of polygon description in WKT format.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e543" rowspan="1" colspan="1"><var class="keyword varname">ref_name_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e545" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e547" rowspan="1" colspan="1">Name of polygon.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title8" topicindex="8" topicid="gzy1507841146086" xml:lang="en-us" lang="en-us" id="gzy1507841146086">
<h2 class="title topictitle2" id="ariaid-title8">GeometryOverlay Output</h2><div class="body refbody"><div class="section" id="gzy1507841146086__section_wtl_rsr_ycb">
<h3 class="title sectiontitle">Output Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="gzy1507841146086__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:24.137931034482758%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:62.06896551724138%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e585" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d28490e587" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d28490e589" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e585" rowspan="1" colspan="1">overlay_boundary</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e587" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e589" rowspan="1" colspan="1">Description of resulting geometry in WKT markup language.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e585" rowspan="1" colspan="1">overlay_flag</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e587" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e589" rowspan="1" colspan="1">[Column does not appear with BoundaryOperator ('CONVEXHULL') or BoundaryOperator ('BUFFER'). ] 1 if SourceTable and ReferenceTable polygons intersect, otherwise 0.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e585" rowspan="1" colspan="1"><var class="keyword varname">ref_ref_name_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d28490e587" rowspan="1" colspan="1">Any</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d28490e589" rowspan="1" colspan="1">Name of polygon (copied from ReferenceTable).</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e585" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d28490e587" rowspan="1" colspan="1"><span>Same as in Source table</span></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e589" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">accumulate_column</var>.] Column copied from SourceTable.</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title9" topicindex="9" topicid="vwe1510710488986" xml:lang="en-us" lang="en-us" id="vwe1510710488986">
<h2 class="title topictitle2" id="ariaid-title9">GeometryOverlay Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="vdv1527005895297" xml:lang="en-us" lang="en-us" id="vdv1527005895297">
<h3 class="title topictitle3" id="ariaid-title10">GeometryOverlay Example: Intersection</h3><div class="body refbody"><div class="section" id="vdv1527005895297__section_nk3_dpr_t2b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="vdv1527005895297__ul_ods_xg4_ndb">
<li class="li">SourceTable: source_gatetype, which contains the geometrical coordinates of US and international gates in three airport terminals (A, B, and C)</li>
<li class="li">ReferenceTable: ref_terminal, which contains the terminal coordinates in WKT syntax</li></ul><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="vdv1527005895297__table_l2l_fpr_t2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>SourceTable: source_gatetype</span></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e674" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e676" rowspan="1" colspan="1">boundary_coordinates</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e678" rowspan="1" colspan="1">boundary_name</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e680" rowspan="1" colspan="1">boundary_attributes</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e674" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e676" rowspan="1" colspan="1">POLYGON ((10 10, 10 20, 20 20, 20 10, 10 10))</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e678" rowspan="1" colspan="1">US Gates</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e680" rowspan="1" colspan="1">US</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e674" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e676" rowspan="1" colspan="1">POLYGON ((50 50, 50 150, 150 150, 150 50,50 50))</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e678" rowspan="1" colspan="1">International Gates</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e680" rowspan="1" colspan="1">International</td></tr></tbody></table></div><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="vdv1527005895297__table_wjz_3pr_t2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>ReferenceTable: ref_terminal</span></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e711" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e713" rowspan="1" colspan="1">boundary_coordinates</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e715" rowspan="1" colspan="1">boundary_name</th><th class="entry cellrowborder" style="vertical-align:top;" id="d28490e717" rowspan="1" colspan="1">boundary_attributes</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e711" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e713" rowspan="1" colspan="1">POLYGON ((0 0, 100 0, 100 100, 0 100, 0 0))</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e715" rowspan="1" colspan="1">Terminal A</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e717" rowspan="1" colspan="1">A</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e711" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e713" rowspan="1" colspan="1">POLYGON ((100 0, 200 0, 200 100, 100 100, 100 0))</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e715" rowspan="1" colspan="1">Terminal B</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e717" rowspan="1" colspan="1">B</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e711" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e713" rowspan="1" colspan="1">POLYGON ((0 100, 100 100, 100 200, 0 200, 0 100))</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e715" rowspan="1" colspan="1">Terminal C</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d28490e717" rowspan="1" colspan="1">C</td></tr></tbody></table></div></div><div class="section" id="vdv1527005895297__section_N10011_N1000E_N10001">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  ON source_gatetype AS SourceTable PARTITION BY ANY
  ON ref_terminal AS ReferenceTable DIMENSION
  USING
  SourceLocationColumn ('boundary_coordinates')
  ReferenceLocationColumn ('boundary_coordinates')
  ReferenceNameColumns ('boundary_name')
  BoundaryOperator ('intersection')
  OutputAll ('false')
  Accumulate ('boundary_attributes')
) AS dt ;</code></pre></div><div class="section" id="vdv1527005895297__section_uh2_zgh_xdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">The output shows that all domestic gates are within Terminal A. International gates are spread over all three terminals.</p><pre class="pre screen" xml:space="preserve"> overlay_boundary                                      ref_boundary_name overlay_flag boundary_attributes 
 ----------------------------------------------------- ----------------- ------------ ------------------- 
 POLYGON ((10 10, 10 20, 20 20, 20 10, 10 10))         terminal a                   1 domestic           
 POLYGON ((50 50, 50 100, 100 100, 100 50, 50 50))     terminal a                   1 international      
 POLYGON ((150 100, 150 50, 100 50, 100 100, 150 100)) terminal b                   1 international      
 POLYGON ((50 100, 50 150, 100 150, 100 100, 50 100))  terminal c                   1 international</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title11" topicindex="11" topicid="ekr1507841164754" xml:lang="en-us" lang="en-us" id="ekr1507841164754">
<h3 class="title topictitle3" id="ariaid-title11">GeometryOverlay Example: Union</h3><div class="body refbody"><div class="section" id="ekr1507841164754__section_N10011_N1000E_N10001">
<p class="p">This example computes the union of area for both the gates and the terminals.</p></div><div class="section" id="ekr1507841164754__section_dvs_mpr_t2b">
<h4 class="title sectiontitle">Input</h4>
<p class="p">Input tables are from <a href="xjk1558453684566.md#vdv1527005895297">GeometryOverlay Example: Intersection</a>:</p>
<ul class="ul" id="ekr1507841164754__ul_ods_xg4_ndb">
<li class="li">SourceTable: source_gatetype, which contains the geometrical coordinates of US and international gates in three airport terminals (A, B, and C)</li>
<li class="li">ReferenceTable: ref_terminal, which contains the terminal coordinates in WKT syntax</li></ul></div><div class="section" id="ekr1507841164754__section_klt_bhh_xdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  ON source_gatetype AS SourceTable PARTITION BY id
  ON ref_terminal AS ReferenceTable PARTITION BY id
  USING
  SourceLocationColumn ('boundary_coordinates')
  ReferenceLocationColumn ('boundary_coordinates')
  ReferenceNameColumns ('boundary_name')
  BoundaryOperator ('union')
  OutputAll ('false')
  Accumulate ('boundary_name','id')
) AS dt ;</code></pre></div><div class="section" id="ekr1507841164754__section_uh2_zgh_xdb">
<h4 class="title sectiontitle">Output</h4>
<p class="p">Because all US gates are within Terminal A, the union of the area specified by the domestic gates and the area of Terminal A is just Terminal A, as shown in the first row of the output. The second row shows the union of the coordinates of the international gates and all three terminals.</p><pre class="pre screen" xml:space="preserve"> overlay_boundary                                                                  ref_boundary_name overlay_flag boundary_name        id 
 --------------------------------------------------------------------------------- ----------------- ------------ -------------------- -- 
 POLYGON ((0 0, 0 100, 100 100, 100 0, 0 0))                                       terminal a                   1 domestic gates        1
 POLYGON ((50 50, 50 150, 150 150, 150 100, 200 100, 200 0, 100 0, 100 50, 50 50)) terminal b                   1 international gates   2</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title12" topicindex="12" topicid="eml1507841189781" xml:lang="en-us" lang="en-us" id="eml1507841189781">
<h3 class="title topictitle3" id="ariaid-title12">GeometryOverlay Example: Buffer (Single Input)</h3><div class="body refbody"><div class="section" id="eml1507841189781__section_N1000E_N1000C_N10001">
<p class="p">This example uses the buffer operator to expand the US or international gates by a distance of 2.</p></div><div class="section" id="eml1507841189781__section_dvs_mpr_t2b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="eml1507841189781__ul_ods_xg4_ndb">
<li class="li">SourceTable: source_gatetype, which contains the geometrical coordinates of US and international gates in three airport terminals (A, B, and C), from <a href="xjk1558453684566.md#vdv1527005895297">GeometryOverlay Example: Intersection</a></li></ul></div><div class="section" id="eml1507841189781__section_ygh_chh_xdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM GeometryOverlay (
  ON source_gatetype AS SourceTable 
  USING
  SourceLocationColumn ('boundary_coordinates')
  BoundaryOperator ('buffer')
  Distance (2)
  Accumulate ('boundary_name', 'id')
) AS dt;</code></pre></div><div class="section" id="eml1507841189781__section_uh2_zgh_xdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> overlay_boundary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     boundary_name        id 
 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ -------------------- -- 
 POLYGON ((10 8, 9.609819355967742 8.03842943919354, 9.234633135269819 8.152240934977428, 8.888859533960796 8.33706077539491, 8.585786437626904 8.585786437626904, 8.337060775394908 8.888859533960796, 8.152240934977426 9.23463313526982, 8.03842943919354 9.609819355967744, 8 10, 8 20, 8.03842943919354 20.390180644032256, 8.152240934977426 20.76536686473018, 8.33706077539491 21.111140466039203, 8.585786437626904 21.414213562373096, 8.888859533960796 21.66293922460509, 9.23463313526982 21.847759065022572, 9.609819355967744 21.96157056080646, 10 22, 20 22, 20.390180644032256 21.96157056080646, 20.76536686473018 21.847759065022572, 21.111140466039206 21.66293922460509, 21.414213562373096 21.414213562373096, 21.66293922460509 21.111140466039203, 21.847759065022572 20.76536686473018, 21.96157056080646 20.390180644032256, 22 20, 22 10, 21.96157056080646 9.609819355967744, 21.847759065022572 9.23463313526982, 21.66293922460509 8.888859533960796, 21.414213562373096 8.585786437626904, 21.111140466039206 8.33706077539491, 20.76536686473018 8.152240934977426, 20.390180644032256 8.03842943919354, 20 8, 10 8))                               domestic gates        1
 POLYGON ((50 48, 49.609819355967744 48.03842943919354, 49.23463313526982 48.15224093497743, 48.8888595339608 48.33706077539491, 48.58578643762691 48.58578643762691, 48.33706077539491 48.8888595339608, 48.15224093497743 49.23463313526982, 48.038429439193536 49.609819355967744, 48 50, 48 150, 48.038429439193536 150.39018064403226, 48.15224093497743 150.76536686473017, 48.33706077539491 151.11114046603922, 48.58578643762691 151.4142135623731, 48.8888595339608 151.66293922460508, 49.23463313526982 151.8477590650226, 49.609819355967744 151.96157056080645, 50 152, 150 152, 150.39018064403226 151.96157056080645, 150.76536686473017 151.8477590650226, 151.11114046603922 151.66293922460508, 151.4142135623731 151.4142135623731, 151.66293922460508 151.11114046603922, 151.8477590650226 150.76536686473017, 151.96157056080645 150.39018064403226, 152 150, 152 50, 151.96157056080645 49.609819355967744, 151.8477590650226 49.23463313526982, 151.66293922460508 48.8888595339608, 151.4142135623731 48.58578643762691, 151.11114046603922 48.33706077539491, 150.76536686473017 48.15224093497743, 150.39018064403226 48.038429439193536, 150 48, 50 48)) international gates   2</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
