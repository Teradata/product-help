<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="kro1507742711392" id="kro1507742711392"><h1 class="title topictitle1" id="ariaid-title1">XGBoost</h1><div class="body conbody">
<p class="p">The XGBoost function takes a training data set and uses gradient boosting to create a strong classifying model that can be input to the function <a href="jtv1543874390081.md#yuw1507743806357">XGBoostPredict</a>. The function supports input tables in both dense and sparse format.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="vhd1507742770820" xml:lang="en-us" lang="en-us" id="vhd1507742770820">
<h2 class="title topictitle2" id="ariaid-title2">XGBoost Syntax</h2><div class="body refbody"><div class="section" id="vhd1507742770820__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>2.13</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM XGBoost (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InputTable
  [ <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS AttributeTable ]
  [ OUT TABLE OutputTable (<var class="keyword varname">output_table</var>) ]
  USING
  ResponseColumn ('<var class="keyword varname">response_column</var>')
  [ NumericInputs (({ '<var class="keyword varname">numeric_input_column</var>' | <var class="keyword varname">numeric_input_column_range</var> }[,...]) ]
  [ CategoricalInputs ({ '<var class="keyword varname">categorical_input_column</var>' | <var class="keyword varname">categorical_input_column_range</var> }[,...]) ]
  [ LossFunction ({ 'softmax' | 'binomial' }) ]
  [ PredictionType ('classification') ]
  [ AttributeNameColumn ('<var class="keyword varname">attribute_name_column</var>') ]
  [ AttributeValueColumn ('<var class="keyword varname">attribute_value_column</var>') ]
  [ RegularizationLambda (<var class="keyword varname">lambda</var>) ]
  [ ShrinkageFactor (<var class="keyword varname">shrinkage</var>) ]
  [ ColumnSubSampling (<var class="keyword varname">sample_fraction</var>) ]
  [ IDColumn ('<var class="keyword varname">id_column</var>') ] 
  [ NumBoostedTrees (<var class="keyword varname">num_trees</var>) ]
  [ IterNum (<var class="keyword varname">iterations</var>) ]
  [ MinNodeSize (<var class="keyword varname">min_node_size</var>) ]
  [ MaxDepth (<var class="keyword varname">max_depth</var>) ]
  [ Variance (<var class="keyword varname">variance</var>) ]
  [ Seed (<var class="keyword varname">seed</var>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="qwo1507742774621" xml:lang="en-us" lang="en-us" id="qwo1507742774621">
<h2 class="title topictitle2" id="ariaid-title3">XGBoost Syntax Elements</h2><div class="body refbody"><div class="section" id="qwo1507742774621__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt><dd class="dd pd">[Optional] Specify the name for the model table that the function outputs.</dd><dd class="dd pd ddexpand">Default: xgboost_model in the current schema</dd><dt class="dt pt dlterm">ResponseColumn</dt><dd class="dd pd">Specify the name of the InputTable column that contains the response variable for each data point in the training data set.</dd><dt class="dt pt dlterm">NumericInputs</dt><dd class="dd pd">[Not for sparse format input data. With dense format input data, required if you omit CategoricalInputs.] Specify the names of the InputTable columns to treat as the numeric predictor variables. These variables must be numeric values.</dd><dt class="dt pt dlterm">CategoricalInputs</dt><dd class="dd pd">[Not for sparse format input data. With dense format input data, required if you omit NumericInputs.] Specify the names of the InputTable columns to treat as the categorical predictor variables. These variables can be either numeric or VARCHAR values.</dd><dd class="dd pd ddexpand">For information about columns that you must identify as numeric or categorical, see <a href="uxa1540574678350.md">Identification of Numeric and Categorical Columns</a>.</dd><dt class="dt pt dlterm">LossFunction</dt><dd class="dd pd">[Optional] Specify the learning task and corresponding learning objective:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qwo1507742774621__table_xst_bqz_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e233" rowspan="1" colspan="1">Option</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e235" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e233" rowspan="1" colspan="1"><code class="ph codeph">'softmax'</code> (Default)</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e235" rowspan="1" colspan="1">For multiple-class classification.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e233" rowspan="1" colspan="1"><code class="ph codeph">'binomial'</code></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e235" rowspan="1" colspan="1">Negative binomial likelihood, for binary classification.</td></tr></tbody></table></div></dd><dt class="dt pt dlterm">PredictionType</dt><dd class="dd pd">[Optional] The function supports only 'classification'.</dd><dt class="dt pt dlterm">AttributeNameColumn</dt><dd class="dd pd">[Required if the input data set is in sparse format] Specify the name of the InputTable column that contains the names of the attributes of the input data set.</dd><dt class="dt pt dlterm">AttributeValueColumn</dt><dd class="dd pd">[Required if the input data set is in sparse format] Specify the name of the InputTable column that contains the values of the attributes of the input data set.</dd><dt class="dt pt dlterm">RegularizationLambda</dt><dd class="dd pd">[Optional] Specify the L2 regularization that the loss function uses while boosting trees. The <var class="keyword varname">lambda</var> is a DOUBLE PRECISION value in the range [0, 100000]. The higher the <var class="keyword varname">lambda</var>, the stronger the regularization effect. The value 0 specifies no regularization.</dd><dd class="dd pd ddexpand">Default: 100000</dd><dt class="dt pt dlterm">ShrinkageFactor</dt><dd class="dd pd">[Optional] Specify the learning rate (weight) of a learned tree in each boosting step. After each boosting step, the algorithm multiplies the learner by <var class="keyword varname">shrinkage</var> to make the boosting process more conservative. The <var class="keyword varname">shrinkage</var> is a DOUBLE PRECISION value in the range (0, 1]. The value 1 specifies no shrinkage.</dd><dd class="dd pd ddexpand">Default: 0.1</dd><dt class="dt pt dlterm">ColumnSubSampling</dt><dd class="dd pd">Specify the fraction of features to subsample during boosting. The <var class="keyword varname">sample_fraction</var> is a DOUBLE PRECISION value in the range (0, 1].</dd><dd class="dd pd ddexpand">Default: 1.0 (no subsampling)</dd><dt class="dt pt dlterm">IDColumn</dt><dd class="dd pd">[Optional] Used with NumBoostedTrees. Specify the name of the InputTable column that contains a unique identifier for each data point in the test data set.</dd><dt class="dt pt dlterm">NumBoostedTrees</dt><dd class="dd pd">[Optional] Requires IDColumn. Specify the number of parallel boosted trees. The <var class="keyword varname">num_trees</var> is an INTEGER value in the range [1, 10000]. If <var class="keyword varname">num_trees</var> is greater than 1, each boosting operates on a sample of the input data, and the function estimates sample size (number of rows) using this formula:</dd><dd class="dd pd ddexpand"><var class="keyword varname">sample_size</var> = <var class="keyword varname">total_number_of_input_rows</var> / <var class="keyword varname">number_of_trees</var></dd><dd class="dd pd ddexpand">The <var class="keyword varname">sample_size</var> must fit in a vworker memory.</dd><dd class="dd pd ddexpand">A higher <var class="keyword varname">num_trees</var> value might improve function run time but decrease prediction accuracy.</dd><dd class="dd pd ddexpand">Default: Number of vworkers available in the cluster</dd><dt class="dt pt dlterm">IterNum</dt><dd class="dd pd">[Optional] Specify the number of iterations (rounds) to boost the weak classifiers. The <var class="keyword varname">iterations</var> must be an INTEGER in the range [1, 100000].</dd><dd class="dd pd ddexpand">Default: 10</dd><dt class="dt pt dlterm">MinNodeSize</dt><dd class="dd pd">[Optional] Specify a decision-tree stopping criterion, the minimum size of any node within each decision tree. If the size of any node becomes less than <var class="keyword varname">min_node_size</var>, the algorithm stops looking for splits. The <var class="keyword varname">min_node_size</var> must be an INTEGER of at least 1.</dd><dd class="dd pd ddexpand">Default: 1</dd><dt class="dt pt dlterm">MaxDepth</dt><dd class="dd pd">[Optional] Specify the decision-tree stopping criterion that has the greatest effect on function performance, the maximum tree depth. If the tree depth exceeds <var class="keyword varname">max_depth</var>, the algorithm stops looking for splits. A decision tree can grow to 2(<var class="keyword varname">max_depth</var>+1)-1 nodes. The <var class="keyword varname">max_depth</var> must be an INTEGER in the range [1, 100000].</dd><dd class="dd pd ddexpand">Default: 12</dd><dt class="dt pt dlterm">Variance</dt><dd class="dd pd">[Optional] Specify a decision-tree stopping criterion, the minimum variance for any node. If the variance within any node becomes less than <var class="keyword varname">variance</var>, the algorithm stops looking for splits. The <var class="keyword varname">variance</var> is a nonnegative DOUBLE PRECISION value.</dd><dd class="dd pd ddexpand">Default: 0</dd><dt class="dt pt dlterm">Seed</dt><dd class="dd pd">[Optional] Specify the random seed the algorithm uses for repeatable results (for more information, see <a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a>). If you omit Seed or specify its default value, 1, the function uses a faster algorithm but does not ensure repeatability.</dd><dd class="dd pd ddexpand">The <var class="keyword varname">seed</var> must be a LONG value greater than or equal to 1. To ensure repeatability, specify a <var class="keyword varname">seed</var> greater than 1.</dd><dd class="dd pd ddexpand">Default: 1</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="lra1507742778899" xml:lang="en-us" lang="en-us" id="lra1507742778899">
<h2 class="title topictitle2" id="ariaid-title4">XGBoost Input</h2><div class="body refbody"><div class="section" id="lra1507742778899__section_N10011_N1000E_N10001">
<p class="p">If the input data set is in dense format, the XGBoost function requires only InputTable. If the input data set is in sparse format, the function requires both InputTable and AttributeTable.</p></div><div class="section" id="lra1507742778899__section_ems_5nk_ycb">
<h3 class="title sectiontitle">InputTable Schema for Dense Input</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="lra1507742778899__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e444" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e446" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d228285e448" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e444" rowspan="1" colspan="1"><var class="keyword varname">id_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e446" rowspan="1" colspan="1">With NumBoostedTrees: INTEGER, BIGINT, SMALLINT, or BYTEINT
<p class="p">Otherwise: Any (function ignores it)</p></td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e448" rowspan="1" colspan="1">[Optional] Unique identifier for data point in training data set. Cannot be NULL.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e444" rowspan="1" colspan="1"><var class="keyword varname">response_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e446" rowspan="1" colspan="1">Any</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e448" rowspan="1" colspan="1">Response variable for data point in training data set.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e444" rowspan="1" colspan="1"><var class="keyword varname">numeric_input_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e446" rowspan="1" colspan="1">Numeric</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e448" rowspan="1" colspan="1">Numeric predictor variable for data point in training data set.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e444" rowspan="1" colspan="1"><var class="keyword varname">categorical_input_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e446" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e448" rowspan="1" colspan="1">Categorical predictor variable for data point in training data set.</td></tr></tbody></table></div></div><div class="section" id="lra1507742778899__section_xyb_wnk_ycb">
<h3 class="title sectiontitle">InputTable Schema for Sparse Input</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="lra1507742778899__table_fqw_pgv_scb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e495" rowspan="1" colspan="1">Column</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e497" rowspan="1" colspan="1">Data Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e499" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e495" rowspan="1" colspan="1"><var class="keyword varname">id_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e497" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e499" rowspan="1" colspan="1">Unique identifier for data point in training data set. Cannot be NULL.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e495" rowspan="1" colspan="1"><var class="keyword varname">response_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e497" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e499" rowspan="1" colspan="1">Response variable for data point in training data set. If this value is NULL, the function ignores this observation.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e495" rowspan="1" colspan="1"><var class="keyword varname">attribute_name_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e497" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e499" rowspan="1" colspan="1">Attribute name.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e495" rowspan="1" colspan="1"><var class="keyword varname">attribute_value_column</var></td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e497" rowspan="1" colspan="1">Any</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e499" rowspan="1" colspan="1">Attribute value.</td></tr></tbody></table></div></div><div class="section" id="lra1507742778899__section_bsy_xnk_ycb">
<h3 class="title sectiontitle">AttributeTable Schema (Only for Sparse Input)</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="lra1507742778899__table_lg2_tgv_scb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e544" rowspan="1" colspan="1">Column</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e546" rowspan="1" colspan="1">Data Type</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e548" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e544" rowspan="1" colspan="1">attributename</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e546" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e548" rowspan="1" colspan="1">First column in table. Name of attribute for creating model.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e544" rowspan="1" colspan="1">attributetype</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e546" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e548" rowspan="1" colspan="1">Second column in table. Attribute data type—1 (numeric) or 0 (categorical).</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="bdc1507742782895" xml:lang="en-us" lang="en-us" id="bdc1507742782895">
<h2 class="title topictitle2" id="ariaid-title5">XGBoost Output</h2><div class="body refbody"><div class="section" id="bdc1507742782895__section_N10011_N1000E_N10001">
<p class="p">The function outputs a message and a model table.</p></div><div class="section" id="bdc1507742782895__section_yfw_mnk_ycb">
<h3 class="title sectiontitle">Output Message Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="bdc1507742782895__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:17.59776536312849%" span="1"></col><col style="width:13.966480446927374%" span="1"></col><col style="width:68.43575418994415%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e592" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e594" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d228285e596" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e592" rowspan="1" colspan="1">message</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e594" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e596" rowspan="1" colspan="1">Reports parameter values used to train model.</td></tr></tbody></table></div></div><div class="section" id="bdc1507742782895__section_ihx_nnk_ycb">
<h3 class="title sectiontitle">OutputTable Schema</h3>
<p class="p">The function saves this model table to <var class="keyword varname">output_table</var>, whose default value is xgboost_model in the current schema.</p>
<p class="p">The schema is the same for dense and sparse input.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="bdc1507742782895__table_N10049_N1000E_N1000C_N10001" class="table" width="100%" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:30.76923076923077%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:53.84615384615385%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e623" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d228285e625" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d228285e627" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e623" rowspan="1" colspan="1">tree_id</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e625" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e627" rowspan="1" colspan="1">Identifier of boosted tree. 
<p class="p">Number of unique tree_id values depends on NumBoostedTrees syntax element value and number of vworkers.</p></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e623" rowspan="1" colspan="1">iter</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e625" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e627" rowspan="1" colspan="1">Iteration (boosting round) number.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e623" rowspan="1" colspan="1">class_num</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e625" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e627" rowspan="1" colspan="1">Index of class column to predict. 
<p class="p">For LossFunction ('softmax'), the default: Number of unique class_num values is number of class labels in data set.</p>
<p class="p">For <var class="keyword varname">K</var> class labels: class_num values are the integers in range [0, <var class="keyword varname">K</var>-1].</p>
<p class="p">For LossFunction('binomial'): There is only one class_num value.</p></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e623" rowspan="1" colspan="1">tree</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d228285e625" rowspan="1" colspan="1">CLOB</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d228285e627" rowspan="1" colspan="1">JSON representation of decision tree. One row contains metadata about model.
<p class="p">For JSON types that can appear in tree representation, see <a href="nxn1558013161027.md#pvm1506112840178">DecisionForest Output</a>.</p></td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e623" rowspan="1" colspan="1">region_prediction</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d228285e625" rowspan="1" colspan="1">CLOB</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e627" rowspan="1" colspan="1">JSON representation of predicted values assigned to each region (leaf) of tree.</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="nta1510702770218" xml:lang="en-us" lang="en-us" id="nta1510702770218">
<h2 class="title topictitle2" id="ariaid-title6">XGBoost Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="sio1507742786685" xml:lang="en-us" lang="en-us" id="sio1507742786685">
<h3 class="title topictitle3" id="ariaid-title7">XGBoost Example: Binary Classification</h3><div class="body refbody"><div class="section" id="sio1507742786685__section_N10015_N10012_N10001">
<p class="p">This example uses home sales data to create a classification tree that predicts home style, which can be input to <a href="jtv1543874390081.md#dys1507743729177">XGBoostPredict Example: Binary Classification</a>.</p></div><div class="section" id="sio1507742786685__section_vr3_clr_42b">
<h4 class="title sectiontitle">Input</h4>
<p class="p">For descriptions of InputTable columns, see <a href="nxn1558013161027.md#hfs1506112950809">DecisionForest Example: TreeType ('classification'), OutOfBag ('false')</a>.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="sio1507742786685__table_hvm_tlr_42b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: housing_train_binary</span></div><colgroup span="1"><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col><col style="width:7.142857142857142%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e767" rowspan="1" colspan="1">sn</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e769" rowspan="1" colspan="1">price</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e771" rowspan="1" colspan="1">lotsize</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e773" rowspan="1" colspan="1">bedrooms</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e775" rowspan="1" colspan="1">bathrms</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e777" rowspan="1" colspan="1">stories</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e779" rowspan="1" colspan="1">driveway</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e781" rowspan="1" colspan="1">recroom</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e783" rowspan="1" colspan="1">fullbase</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e785" rowspan="1" colspan="1">gashw</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e787" rowspan="1" colspan="1">airco</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e790" rowspan="1" colspan="1">garagepl</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e792" rowspan="1" colspan="1">prefarea</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e794" rowspan="1" colspan="1">homestyle</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">38500</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">4000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">60500</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">6650</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">6</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">66000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">4160</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Eclectic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">8</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">69000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">4160</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Eclectic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">10</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">88500</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">5500</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Eclectic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">12</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">30500</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">3000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Eclectic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">14</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">36000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">2880</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">18</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">40750</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">5200</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">20</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">45000</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">3986</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e767" rowspan="1" colspan="1">22</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e769" rowspan="1" colspan="1">65900</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e771" rowspan="1" colspan="1">4510</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e773" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e775" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e777" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e779" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e781" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e783" rowspan="1" colspan="1">yes</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e785" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e787" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e790" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e792" rowspan="1" colspan="1">no</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e794" rowspan="1" colspan="1">Classic</td></tr></tbody></table></div></div><div class="section" id="sio1507742786685__section_jzr_clr_42b">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM XGBoost (
  ON housing_train_binary AS InputTable
  OUT TABLE OutputTable (xgboost_model)
  USING
  ResponseColumn ('homestyle')
  PredictionType ('classification') 
  NumericInputs ('price','lotsize','bedrooms','bathrms','stories','garagepl')
  CategoricalInputs ('driveway','recroom','fullbase','gashw','airco',
    'prefarea')
  LossFunction ('binomial')
  IterNum (10)
  MaxDepth (10)
  MinNodeSize (1)
  RegularizationLambda (1)
  ShrinkageFactor (0.1)
  IDColumn ('sn')
  NumBoostedTrees (2)
) AS dt;</code></pre></div><div class="section" id="sio1507742786685__section_bjd_dlr_42b">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> message                                                          
 ---------------------------------------------------------------- 
 Parameters:                                                     
 	Number of boosting iterations : 10                             
 	Number of boosted trees : 2                                    
 	Number of total trees (all subtrees): 20                       
 	Prediction Type : CLASSIFICATION                               
 	LossFunction : BINOMIAL                                        
 	Regularization : 1.0                                           
 	Shrinkage : 0.1                                                
 	MaxDepth : 10                                                  
 	MinNodeSize : 1                                                
 	Variance : 0.0                                                 
 	Seed : 1                                                       
 	ColumnSubSampling Features: 12                                 
 XGBoost model created in table specified in OutputTable argument</pre>
<p class="p">This query returns the following table:</p><pre class="pre codeblock" xml:space="preserve"><code>SELECT tree_id, iter, class_num, CAST (tree AS VARCHAR(30)),
  CAST (region_prediction AS VARCHAR(30))
  FROM xgboost_model ORDER BY 1,2,3;</code></pre>
<p class="p">For simplicity, the last two output columns show only the first 30 characters of each value.</p><pre class="pre screen" xml:space="preserve"> tree_id iter class_num tree                           region_prediction              
 ------- ---- --------- ------------------------------ ------------------------------ 
      -1   -1        -1 {"classifier":"CLASSIFICATION"                               
       0    1         0 {"sum_":1.1999999649514592E-6, {"1792":0.06969074,"1280":-0.1
       0    2         0 {"sum_":-0.14652091000000556," {"384":0.042531442,"385":0.030
       0    3         0 {"sum_":0.28140193999999746,"s {"1664":0.052631423,"1665":0.0
       0    4         0 {"sum_":1.2547231600000008,"su {"1280":-0.06937855,"1281":-0.
       0    5         0 {"sum_":1.9154820900000036,"su {"768":0.027756682,"1538":0.03
       0    6         0 {"sum_":1.9837604199999974,"su {"768":0.026932025,"1538":0.03
       0    7         0 {"sum_":2.0918175700000003,"su {"768":0.026147524,"769":0.035
       0    8         0 {"sum_":2.360585519999998,"sum {"768":0.023378344,"769":0.025
       0    9         0 {"sum_":2.623491119999999,"sum {"768":0.02468738,"769":0.0227
       0   10         0 {"sum_":3.1594645900000033,"su {"770":0.024006711,"771":0.023
       1    1         0 {"sum_":-2.3999999940738093E-6 {"1664":0.07176345,"1536":0.07
       1    2         0 {"sum_":1.2196361999999998,"su {"1536":0.067304045,"1024":-0.
       1    3         0 {"sum_":1.693821099999995,"sum {"1536":0.06236268,"512":-0.07
       1    4         0 {"sum_":1.5348959100000008,"su {"1536":0.053727582,"769":0.02
       1    5         0 {"sum_":1.6560536700000057,"su {"256":-0.04895391,"257":-0.06
       1    6         0 {"sum_":1.8388901200000038,"su {"512":-0.046615,"513":-0.0458
       1    7         0 {"sum_":2.2050783699999994,"su {"1540":0.026542466,"1541":0.0
       1    8         0 {"sum_":2.6216585700000024,"su {"258":-0.040129118,"259":-0.0
       1    9         0 {"sum_":2.92402738,"sumSq_":65 {"16":-0.042044364,"20":-0.040
       1   10         0 {"sum_":3.210829989999998,"sum {"260":-0.03580759,"522":-0.03</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="jxu1507742803928" xml:lang="en-us" lang="en-us" id="jxu1507742803928">
<h3 class="title topictitle3" id="ariaid-title8">XGBoost Example: Multiple-Class Classification</h3><div class="body refbody"><div class="section" id="jxu1507742803928__section_vr3_clr_42b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="jxu1507742803928__ul_ls2_b4r_42b">
<li class="li">InputTable: iris_train, created in <a href="ntc1550499580869.md#oas1510351677286">DecisionTree Example: Create Model</a></li></ul></div><div class="section" id="jxu1507742803928__section_jzr_clr_42b">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM XGBoost (
  ON iris_train AS InputTable
  OUT TABLE OutputTable (xgboost_model)
  USING
  ResponseColumn ('species')
  NumericInputs ('sepal_length','sepal_width','petal_length','petal_width',
    'species')
  LossFunction ('softmax')
  IterNum (10)
  MaxDepth (10)
  MinNodeSize (1)
  RegularizationLambda (1)
  ShrinkageFactor (0.1)
  IDColumn ('id')
  NumBoostedTrees (2)
) AS dt;</code></pre></div><div class="section" id="jxu1507742803928__section_bjd_dlr_42b">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> message                                                          
 ---------------------------------------------------------------- 
 Parameters:                                                     
 	Number of boosting iterations : 10                             
 	Number of boosted trees : 2                                    
 	Number of total trees (all subtrees): 60                       
 	Prediction Type : CLASSIFICATION                               
 	LossFunction : SOFTMAX                                         
 	Regularization : 1.0                                           
 	Shrinkage : 0.1                                                
 	MaxDepth : 10                                                  
 	MinNodeSize : 1                                                
 	Variance : 0.0                                                 
 	Seed : 1                                                       
 	ColumnSubSampling Features: 5                                  
 XGBoost model created in table specified in OutputTable argument</pre>
<p class="p">This query returns the following table:</p><pre class="pre codeblock" xml:space="preserve"><code>SELECT tree_id, iter, class_num, CAST (tree AS VARCHAR(30)),
  CAST (region_prediction AS VARCHAR(30))
  FROM xgboost_model ORDER BY 1,2,3;</code></pre>
<p class="p">For simplicity, the last two output columns show only the first 30 characters of each value.</p><pre class="pre screen" xml:space="preserve"> tree_id iter class_num tree                           region_prediction              
 ------- ---- --------- ------------------------------ ------------------------------ 
      -1   -1        -1 {"classifier":"CLASSIFICATION"                               
       0    1         0 {"sum_":-1.5999999994908976E-6 {"1280":0.1142857,"64":0.06153
       0    1         1 {"sum_":-1.5999999974924961E-6 {"1664":0.12173911,"960":-0.03
       0    1         2 {"sum_":-1.5999999986582303E-6 {"1792":0.10526315,"128":-0.03
       0    2         0 {"sum_":0.0036433699999995905, {"73":0.057703428,"11":0.03549
       0    2         1 {"sum_":-0.041175119999999676, {"66":-0.030396814,"67":-0.030
       0    2         2 {"sum_":0.03753175999999969,"s {"512":-0.029956799,"513":-0.0
       0    3         0 {"sum_":0.037081179999999936," {"192":-0.017302776,"193":-0.0
       0    3         1 {"sum_":-0.0883411900000004,"s {"66":-0.029580407,"67":-0.029
       0    3         2 {"sum_":0.05126059999999999,"s {"640":-0.029278005,"641":-0.0
       0    4         0 {"sum_":0.04687534999999954,"s {"896":-0.016578998,"897":-0.0
       0    4         1 {"sum_":-0.06787460999999989," {"130":-0.028774833,"131":-0.0
       0    4         2 {"sum_":0.020999029999999586," {"12":0.032886423,"15":0.05637
       0    5         0 {"sum_":0.0375581100000002,"su {"64":0.052787222,"65":0.05319
       0    5         1 {"sum_":-0.03485023000000004," {"128":-0.027421547,"129":-0.0
       0    5         2 {"sum_":-0.0027087799999994666 {"12":0.03218222,"16":-0.01639
       0    6         0 {"sum_":0.04646399999999984,"s {"256":0.05095709,"257":0.0306
       0    6         1 {"sum_":-0.007737959999999766, {"128":-0.02659559,"258":-0.01
       0    6         2 {"sum_":-0.0387257100000003,"s {"16":-0.016017327,"19":-0.016
       0    7         0 {"sum_":0.06499833999999965,"s {"128":0.049224634,"259":0.030
       0    7         1 {"sum_":0.00869172999999962,"s {"268":-0.026575554,"13":-0.02
       0    7         2 {"sum_":-0.07369032000000031," {"14":0.048336674,"16":-0.0156
       0    8         0 {"sum_":0.08203318000000015,"s {"896":-0.015550173,"897":-0.0
       0    8         1 {"sum_":0.030948259999999783," {"9":-0.01614619,"141":-0.0150
       0    8         2 {"sum_":-0.11298214000000034," {"1280":-0.015266706,"1281":-0
       0    9         0 {"sum_":0.08537153999999941,"s {"1792":-0.015166406,"1793":-0
       0    9         1 {"sum_":0.06144761000000032,"s {"9":-0.015856637,"142":-0.014
       0    9         2 {"sum_":-0.1468193699999995,"s {"388":0.030198824,"389":0.030
       0   10         0 {"sum_":0.0863195400000002,"su {"896":-0.014946807,"897":-0.0
       0   10         1 {"sum_":0.08354899000000016,"s {"9":-0.015570814,"142":-0.014
       0   10         2 {"sum_":-0.16986817999999965," {"388":0.029783908,"389":0.029
       1    1         0 {"sum_":-1.599999999268853E-6, {"1280":0.1142857,"64":0.06153
       1    1         1 {"sum_":-1.5999999994908976E-6 {"256":-0.030769233,"1664":0.1
       1    1         2 {"sum_":-1.5999999996019199E-6 {"256":-0.030769233,"384":0.06
       1    2         0 {"sum_":-0.009516000000000135, {"448":-0.030291853,"449":-0.0
       1    2         1 {"sum_":-0.06273700000000054," {"66":-0.030396814,"67":-0.017
       1    2         2 {"sum_":0.07225270000000028,"s {"256":-0.029956799,"1088":-0.
       1    3         0 {"sum_":-0.04218975000000019," {"206":-0.016971715,"207":-0.0
       1    3         1 {"sum_":-0.08632669999999976," {"66":-0.029580407,"67":-0.017
       1    3         2 {"sum_":0.12851879000000033,"s {"256":-0.029152783,"257":-0.0
       1    4         0 {"sum_":-0.1076132900000003,"s {"457":-0.017145336,"73":0.030
       1    4         1 {"sum_":-0.0942343699999994,"s {"64":-0.028359769,"65":-0.028
       1    4         2 {"sum_":0.20184694999999986,"s {"64":-0.028359769,"65":-0.028
       1    5         0 {"sum_":-0.12057919000000022," {"1856":-0.028031122,"1857":-0
       1    5         1 {"sum_":-0.11099008999999982," {"64":-0.027579932,"65":-0.027
       1    5         2 {"sum_":0.23156845000000026,"s {"64":-0.027579932,"65":-0.027
       1    6         0 {"sum_":-0.15076265999999944," {"896":-0.01601874,"897":-0.01
       1    6         1 {"sum_":-0.09442106000000022," {"64":-0.026815075,"65":-0.027
       1    6         2 {"sum_":0.2451840299999999,"su {"64":-0.016352963,"130":-0.02
       1    7         0 {"sum_":-0.19353220000000004," {"896":-0.015734237,"897":-0.0
       1    7         1 {"sum_":-0.07026098999999969," {"64":-0.026066655,"65":-0.026
       1    7         2 {"sum_":0.2637934799999999,"su {"64":-0.01606476,"130":-0.026
       1    8         0 {"sum_":-0.24366450000000056," {"448":-0.015637266,"449":-0.0
       1    8         1 {"sum_":-0.0244160700000004,"s {"64":-0.025335819,"65":-0.025
       1    8         2 {"sum_":0.2680805200000004,"su {"128":-0.025335819,"65":-0.01
       1    9         0 {"sum_":-0.2923897100000003,"s {"1664":-0.015355924,"833":-0.
       1    9         1 {"sum_":0.02541973999999997,"s {"64":-0.024623439,"65":-0.024
       1    9         2 {"sum_":0.2669691900000004,"su {"136":-0.01549808,"13":0.0447
       1   10         0 {"sum_":-0.35182400999999963," {"68":0.029415552,"69":0.02993
       1   10         1 {"sum_":0.060665559999999785," {"132":-0.015372262,"133":-0.0
       1   10         2 {"sum_":0.2911578500000004,"su {"137":-0.0152201215,"13":0.04</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="oxt1517596791993" xml:lang="en-us" lang="en-us" id="oxt1517596791993">
<h3 class="title topictitle3" id="ariaid-title9">XGBoost Example: Sparse Input Format</h3><div class="body refbody"><div class="section" id="oxt1517596791993__section_vr3_clr_42b">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="oxt1517596791993__ul_vzz_3nw_42b">
<li class="li">InputTable: sparse_housing_train_binary, created by inputting housing_train_binary (InputTable for <a href="qeg1558534788088.md#sio1507742786685">XGBoost Example: Binary Classification</a>) to the Unpivoting function:<pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE sparse_housing_train_binary;</code></pre><pre class="pre codeblock" xml:space="preserve"><code>CREATE MULTISET TABLE sparse_housing_train_binary AS ( 
  SELECT sn, homestyle, attribute, value_col 
    FROM Unpivoting (
      ON housing_train_binary
      USING
      TargetColumns (
        'price','lotsize','bedrooms','bathrms','stories',
        'garagepl','driveway','recroom','fullbase','gashw','airco','prefarea'
      )
      Accumulate('sn','homestyle')
  ) AS dt
) WITH DATA;</code></pre></li>
<li class="li">AttributeTable: sparse_housing_attributes, created and populated with this code:<pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE sparse_housing_attributes;

CREATE MULTISET TABLE sparse_housing_attributes (
  attributename VARCHAR(30), attributetype INTEGER
);

INSERT INTO sparse_housing_attributes VALUES
('price',1),
('lotsize',1),
('bedrooms',1),
('bathrms',1),
('stories',1),
('garagepl',1),
('driveway',0),
('recroom',0),
('fullbase',0),
('gashw',0),
('airco',0),
('prefarea',0);
</code></pre></li></ul><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxt1517596791993__table_qbg_r4w_42b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>InputTable: sparse_housing_train_binary</span></div><colgroup span="1"><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col><col style="width:25%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1230" rowspan="1" colspan="1">sn</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1232" rowspan="1" colspan="1">homestyle</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1234" rowspan="1" colspan="1">attribute</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1236" rowspan="1" colspan="1">value_col</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">airco</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">no</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">bathrms</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">3</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">bedrooms</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">driveway</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">yes</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">fullbase</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">yes</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">garagepl</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">gashw</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">no</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">lotsize</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">5850.0</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">prefarea</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">no</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">price</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">42000.0</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">recroom</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">no</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">stories</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">2</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">airco</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">no</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">bathrms</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">1</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">bedrooms</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">2</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">Classic</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">driveway</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">yes</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1230" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1232" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1234" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1236" rowspan="1" colspan="1">...</td></tr></tbody></table></div><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oxt1517596791993__table_c2c_bpw_42b" class="table" frame="border" border="1" rules="all"><div class="caption"><span>AttributeTable: sparse_housing_attributes</span></div><colgroup span="1"><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col><col style="width:8.333333333333332%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1412" rowspan="1" colspan="1">price</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1414" rowspan="1" colspan="1">lotsize</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1416" rowspan="1" colspan="1">bedrooms</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1418" rowspan="1" colspan="1">bathrms</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1420" rowspan="1" colspan="1">stories</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1422" rowspan="1" colspan="1">garagepl</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1424" rowspan="1" colspan="1">driveway</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1426" rowspan="1" colspan="1">recroom</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1428" rowspan="1" colspan="1">fullbase</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1430" rowspan="1" colspan="1">gashw</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1432" rowspan="1" colspan="1">airco</th><th class="entry cellrowborder" style="vertical-align:top;" id="d228285e1435" rowspan="1" colspan="1">prefarea</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1412" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1414" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1416" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1418" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1420" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1422" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1424" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1426" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1428" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1430" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1432" rowspan="1" colspan="1">0</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d228285e1435" rowspan="1" colspan="1">0</td></tr></tbody></table></div></div><div class="section" id="oxt1517596791993__section_jzr_clr_42b">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>DROP TABLE sparse_housing_xgboost_model ;

SELECT * FROM XGBoost (
  ON sparse_housing_train_binary AS InputTable
  ON sparse_housing_attributes AS AttributeTable
  OUT TABLE OutputTable (sparse_housing_xgboost_model)
  USING
  ResponseColumn ('homestyle')
  PredictionType ('classification') 
  AttributeNameColumn ('attribute')
  AttributeValueColumn ('value_col')
  LossFunction ('binomial')
  IterNum (10)
  MaxDepth (10)
  MinNodeSize (1)
  RegularizationLambda (1)
  ShrinkageFactor (0.1)
  IDColumn ('sn')
  NumBoostedTrees (2)
) AS dt;
</code></pre></div><div class="section" id="oxt1517596791993__section_bjd_dlr_42b">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> message                                                          
 ---------------------------------------------------------------- 
 Parameters:                                                     
 	Number of boosting iterations : 10                             
 	Number of boosted trees : 2                                    
 	Number of total trees (all subtrees): 20                       
 	Prediction Type : CLASSIFICATION                               
 	LossFunction : BINOMIAL                                        
 	Regularization : 1.0                                           
 	Shrinkage : 0.1                                                
 	MaxDepth : 10                                                  
 	MinNodeSize : 1                                                
 	Variance : 0.0                                                 
 	Seed : 1                                                       
 	ColumnSubSampling Features: 12                                 
 XGBoost model created in table specified in OutputTable argument</pre><pre class="pre codeblock" xml:space="preserve"><code>SELECT tree_id, iter, class_num, CAST (tree AS VARCHAR(30)) AS tree,
  CAST(region_prediction AS VARCHAR(30)) AS region_pred
    FROM sparse_housing_xgboost_model ORDER BY 1,2;
</code></pre>
<p class="p">For simplicity, the last two output columns show only the first 30 characters of each value.</p><pre class="pre screen" xml:space="preserve"> tree_id iter class_num tree                           region_pred                    
 ------- ---- --------- ------------------------------ ------------------------------ 
      -1   -1        -1 {"classifier":"CLASSIFICATION"                               
       0    1         0 {"sum_":1.2000001063938726E-6, {"1280":-0.16304731,"1792":0.0
       0    2         0 {"sum_":-0.15353446000003235," {"1536":0.0422824,"1537":0.030
       0    3         0 {"sum_":-0.8592291000000191,"s {"1536":0.056829624,"1537":0.0
       0    4         0 {"sum_":-0.12501246000002553," {"1536":0.054619756,"1537":0.0
       0    5         0 {"sum_":0.6978361400000178,"su {"1536":0.037036486,"1537":0.0
       0    6         0 {"sum_":1.24652972000003,"sumS {"1536":0.045559715,"1537":0.0
       0    7         0 {"sum_":1.678402750000007,"sum {"1536":0.03432062,"1537":0.04
       0    8         0 {"sum_":2.0121404699999954,"su {"1536":0.033232495,"1537":0.0
       0    9         0 {"sum_":2.4126530099999894,"su {"1792":0.04346112,"1536":0.03
       0   10         0 {"sum_":2.598574500000006,"sum {"1792":0.044621654,"1793":0.0
       1    1         0 {"sum_":-2.4000000620194584E-6 {"1920":0.07176345,"1664":0.07
       1    2         0 {"sum_":1.2315773000000787,"su {"1536":0.07146741,"1024":-0.1
       1    3         0 {"sum_":0.6282604200000356,"su {"133":-0.05381508,"137":-0.05
       1    4         0 {"sum_":-0.5197018499999984,"s {"10":-0.070136935,"273":-0.08
       1    5         0 {"sum_":-0.619627470000029,"su {"520":-0.061639633,"521":-0.0
       1    6         0 {"sum_":-0.6662540199999845,"s {"525":-0.06725458,"527":-0.06
       1    7         0 {"sum_":-0.9892758200000177,"s {"256":-0.059067618,"1536":0.0
       1    8         0 {"sum_":-1.5109153599999874,"s {"528":-0.040441662,"273":-0.0
       1    9         0 {"sum_":-2.2053655599999726,"s {"256":-0.05370407,"515":-0.03
       1   10         0 {"sum_":-2.737184110000009,"su {"256":-0.037839036,"258":-0.0</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title10" topicindex="10" topicid="iqk1518209491705" xml:lang="en-us" lang="en-us" id="iqk1518209491705">
<h2 class="title topictitle2" id="ariaid-title10">XGBoost Troubleshooting</h2><div class="body refbody"><div class="section" id="iqk1518209491705__section_N10011_N1000E_N10001">
<h3 class="title sectiontitle">Problem: Function runs slowly or runs out of memory.</h3></div><div class="section" id="iqk1518209491705__section_lwb_xx5_5cb">
<h3 class="title sectiontitle">Workarounds:</h3>
<ul class="ul" id="iqk1518209491705__ul_uvs_w11_v1b">
<li class="li">Increase the value of NumBoostedTrees (the number of parallel boosted trees to consider during prediction).
<p class="p">Each vworker processes each of its assigned tree-boosting operations sequentially. When you increase the value of NumBoostedTrees, each boosting operation operates on smaller subset of input data.</p></li>
<li class="li">Decrease the input data footprint by minimizing the number of columns.</li>
<li class="li">Decrease the size of a tree in memory by adjusting the values of these syntax elements:
<ul class="ul" id="iqk1518209491705__ul_uvk_f51_v1b">
<li class="li">MinNodeSize</li>
<li class="li">MaxDepth</li>
<li class="li">ColumnSubSampling</li></ul></li></ul></div></div></div></div></body></html>
