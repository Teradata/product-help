<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="ggy1507559464762" id="ggy1507559464762"><h1 class="title topictitle1" id="ariaid-title1">NGramSplitter_MLE (ML Engine)</h1><div class="body conbody">
<p class="p">The NGramSplitter_MLE function <dfn class="term">tokenizes</dfn> (splits) an input stream of text and outputs <var class="keyword varname">n</var> multigrams (called <var class="keyword varname">n</var><dfn class="term">-grams</dfn>) based on the specified delimiter and reset parameters. NGramSplitter_MLE provides more flexibility than standard tokenization when performing text analysis. Many two-word phrases carry important meaning (for example, "machine learning") that unigrams (single-word tokens) do not capture. This, combined with additional analytical techniques, can be useful for performing sentiment analysis, topic identification, and document classification.</p>
<p class="p">NGramSplitter_MLE considers each input row to be one document, and returns a row for each unique <var class="keyword varname">n</var>-gram in each document. NGramSplitter_MLE also returns, for each document, the counts of each <var class="keyword varname">n</var>-gram and the total number of <var class="keyword varname">n</var>-grams.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="cxt1507559517301" xml:lang="en-us" lang="en-us" id="cxt1507559517301">
<h2 class="title topictitle2" id="ariaid-title2">NGramSplitter_MLE Syntax</h2><div class="body refbody"><div class="section" id="cxt1507559517301__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.9</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NGramSplitter_MLE (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  TextColumn ('<var class="keyword varname">text_column</var>')
  [ Delimiter ('<var class="keyword varname">delimiter_regular_expression</var>') ]
  Grams ({ <var class="keyword varname">gram_number</var> |'<var class="keyword varname">value_range</var>' }[,...])
  [ OverLapping(<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  [ ConvertToLowerCase (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  [ Reset ('<var class="keyword varname">reset_regular_expression</var>') ]
  [ Punctuation ('<var class="keyword varname">punctuation_regular_expression</var>') ]
  [ OutputTotalGramCount (<span><b>{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</b></span>) ]
  [ TotalCountColName ('<var class="keyword varname">total_count_column</var>') ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
  [ NGramColName ('<var class="keyword varname">ngram_column</var>') ]
  [ GramLengthColName ('<var class="keyword varname">gram_length_column</var>') ]
  [ FrequencyColName ('<var class="keyword varname">frequency_column</var>') ]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist"><div class="linklistmember"><a href="ndv1557782188375.md">Column Specification Syntax Elements</a></div><div class="linklistmember"><a href="dsd1557781660424.md">Regular Expressions in Syntax Elements</a></div></ul></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="oet1507562180794" xml:lang="en-us" lang="en-us" id="oet1507562180794">
<h2 class="title topictitle2" id="ariaid-title3">NGramSplitter_MLE Syntax Elements</h2><div class="body refbody"><div class="section" id="oet1507562180794__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TextColumn</dt><dd class="dd pd">Specify the name of the column that contains the input text. This column must have a SQL string data type.</dd><dt class="dt pt dlterm">Delimiter</dt><dd class="dd pd">[Optional] Specify, with a regular expression, the character or string that separates words in the input text.</dd><dd class="dd pd ddexpand">Default: "\\s+" (all whitespace characters—space, tab, newline, carriage return and others)</dd><dt class="dt pt dlterm">Grams</dt><dd class="dd pd">Specify the length, in words, of each <var class="keyword varname">n</var>-gram (that is, the value of <var class="keyword varname">n</var>). A <var class="keyword varname">value_range</var> has the syntax <var class="keyword varname">integer1</var>-<var class="keyword varname">integer2</var>, where <var class="keyword varname">integer1</var> <= <var class="keyword varname">integer2</var>. The values of <var class="keyword varname">n</var>, <var class="keyword varname">integer1</var>, and <var class="keyword varname">integer2</var> must be positive.</dd><dt class="dt pt dlterm">OverLapping</dt><dd class="dd pd">[Optional] Specify whether the function allows overlapping <var class="keyword varname">n</var>-grams.</dd><dd class="dd pd ddexpand">Default: 'true' (Each word in each sentence starts an <var class="keyword varname">n</var>-gram, if enough words follow it in the same sentence to form a whole <var class="keyword varname">n</var>-gram of the specified size. For information on sentences, see the Reset syntax element description.)</dd><dt class="dt pt dlterm">ConvertToLowerCase</dt><dd class="dd pd">[Optional] Specify whether the function converts all letters in the input text to lowercase.</dd><dd class="dd pd ddexpand">Default: 'true'</dd><dt class="dt pt dlterm">Reset</dt><dd class="dd pd">[Optional] Specify, with a regular expression, the character or string that ends a sentence. At the end of a sentence, the function discards any partial <var class="keyword varname">n</var>-grams and searches for the next <var class="keyword varname">n</var>-gram at the beginning of the next sentence. An <var class="keyword varname">n</var>-gram cannot span sentences.<div class="note note" id="oet1507562180794__note_N100B9_N100A6_N1009F_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody">The function applies the Reset syntax element before the Punctuation syntax element; that is, it splits the input into sentences before removing punctuation characters.</div></div></dd><dd class="dd pd ddexpand">Default: <code class="ph codeph">'[.,?!]'</code></dd><dt class="dt pt dlterm">Punctuation</dt><dd class="dd pd">[Optional] Specify, with a regular expression, the punctuation characters for the function to remove before evaluating the input text.<div class="note note" id="oet1507562180794__note_N100D2_N100CE_N100C7_N10018_N10014_N10010_N10001"><span><b>Note</b></span><div class="notebody">The function applies the Reset syntax element before the Punctuation syntax element; that is, it splits the input into sentences before removing punctuation characters.</div></div></dd><dd class="dd pd ddexpand">Default: <code class="ph codeph">'[`~#^&amp;*()-]'</code></dd><dt class="dt pt dlterm">OutputTotalGramCount</dt><dd class="dd pd">[Optional] Specify whether the function returns the total number of <var class="keyword varname">n</var>-grams in the document (that is, in the row) for each length <var class="keyword varname">n</var> specified in the Grams syntax element. If you specify 'true', the TotalCountColName syntax element determines the name of the output table column that contains these totals.</dd><dd class="dd pd ddexpand">The total number of <var class="keyword varname">n</var>-grams is not necessarily the number of unique <var class="keyword varname">n</var>-grams.</dd><dd class="dd pd ddexpand">Default: 'false'</dd><dt class="dt pt dlterm">TotalCountColName</dt><dd class="dd pd">[Optional] Specify the name of the output table column that appears if the value of the OutputTotalGramCount syntax element is 'true'.</dd><dd class="dd pd ddexpand">Default: 'totalcnt'</dd><dt class="dt pt dlterm">Accumulate</dt><dd class="dd pd">[Optional] Specify the names of the input table columns to copy to the output table for each <var class="keyword varname">n</var>-gram. These columns cannot have the same names as those specified by the syntax elements NGramColName, GramLengthColName, and TotalCountColName.</dd><dd class="dd pd ddexpand">Default: All input columns for each <var class="keyword varname">n</var>-gram</dd><dt class="dt pt dlterm">NGramColName</dt><dd class="dd pd">[Optional] Specify the name of the output table column that is to contain the created <var class="keyword varname">n</var>-grams.</dd><dd class="dd pd ddexpand">Default: 'ngram'</dd><dt class="dt pt dlterm">GramLengthColName</dt><dd class="dd pd">[Optional] Specify the name of the output table column that is to contain the length of <var class="keyword varname">n</var>-gram (in words).</dd><dd class="dd pd ddexpand">Default: 'n'</dd><dt class="dt pt dlterm">FrequencyColName</dt><dd class="dd pd">[Optional] Specify the name of the output table column that is to contain the count of each unique <var class="keyword varname">n</var>-gram (that is, the number of times that each unique <var class="keyword varname">n</var>-gram appears in the document).</dd><dd class="dd pd ddexpand">Default: 'frequency'</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="ybu1507563797561" xml:lang="en-us" lang="en-us" id="ybu1507563797561">
<h2 class="title topictitle2" id="ariaid-title4">NGramSplitter_MLE Input</h2><div class="body refbody"><div class="section" id="ybu1507563797561__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Input Table Schema</h3>
<p class="p">Each row of the table has a document to tokenize. <span>The table can have additional columns, but the function ignores them.</span></p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ybu1507563797561__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:28.57142857142857%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:57.14285714285714%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d392161e397" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d392161e399" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d392161e401" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e397" rowspan="1" colspan="1"><var class="keyword varname">text_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e399" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d392161e401" rowspan="1" colspan="1">Document to tokenize.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d392161e397" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d392161e399" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e401" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">accumulate_column</var>.] <span>Column to copy to output table.</span></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="fbd1507563854249" xml:lang="en-us" lang="en-us" id="fbd1507563854249">
<h2 class="title topictitle2" id="ariaid-title5">NGramSplitter_MLE Output</h2><div class="body refbody"><div class="section" id="fbd1507563854249__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Output Table Schema</h3>
<p class="p">The table has a row for each unique <var class="keyword varname">n</var>-gram in each input document.</p><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="fbd1507563854249__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:35.714285714285715%" span="1"></col><col style="width:14.285714285714285%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d392161e449" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d392161e451" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d392161e453" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e449" rowspan="1" colspan="1"><var class="keyword varname">accumulate_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e451" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d392161e453" rowspan="1" colspan="1">[Column appears once for each specified <var class="keyword varname">accumulate_column</var>.] <span>Column copied from input table.</span></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e449" rowspan="1" colspan="1"><var class="keyword varname">ngram_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e451" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d392161e453" rowspan="1" colspan="1">Created <var class="keyword varname">n</var>-gram.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e449" rowspan="1" colspan="1"><var class="keyword varname">gram_length_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e451" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d392161e453" rowspan="1" colspan="1">Length of <var class="keyword varname">n</var>-gram in words (value <var class="keyword varname">n</var>).</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e449" rowspan="1" colspan="1"><var class="keyword varname">frequency_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d392161e451" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d392161e453" rowspan="1" colspan="1">Count of each unique <var class="keyword varname">n</var>-gram in document.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d392161e449" rowspan="1" colspan="1"><var class="keyword varname">total_count_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d392161e451" rowspan="1" colspan="1">INTEGER</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e453" rowspan="1" colspan="1">[Column appears only with TotalCountColName ('true').] Total number of <var class="keyword varname">n</var>-grams in document for each length <var class="keyword varname">n</var> specified in Grams syntax element.</td></tr></tbody></table></div></div></div></div><div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="bcu1510347611102" xml:lang="en-us" lang="en-us" id="bcu1510347611102">
<h2 class="title topictitle2" id="ariaid-title6">NGramSplitter_MLE Examples</h2><div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="vek1524580064974" xml:lang="en-us" lang="en-us" id="vek1524580064974">
<h3 class="title topictitle3" id="ariaid-title7">NGramSplitter_MLE Example: Overlapping ('true'), OutputTotalGramCount ('true')</h3><div class="body refbody"><div class="section" id="vek1524580064974__section_evh_5cl_pdb">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="vek1524580064974__ul_nxw_2y1_j2b">
<li class="li">Input Table: paragraphs_input, which has paragraphs about common analytics topics (regression, decision Trees, and so on)</li></ul><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="vek1524580064974__table_xxx_1dl_pdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>Input Table: paragraphs_input</span></div><colgroup span="1"><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col><col style="width:33.33333333333333%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d392161e570" rowspan="1" colspan="1">paraid</th><th class="entry cellrowborder" style="vertical-align:top;" id="d392161e572" rowspan="1" colspan="1">paratopic</th><th class="entry cellrowborder" style="vertical-align:top;" id="d392161e574" rowspan="1" colspan="1">paratext</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e570" rowspan="1" colspan="1">1</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e572" rowspan="1" colspan="1">Decision Trees</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e574" rowspan="1" colspan="1">Decision tree learning uses a decision tree as a predictive model which maps observations about an item to conclusions about the items target value. It is one of the predictive modeling approaches used in statistics, data mining and machine learning. Tree models where the target variable can take a finite set of values are called classification trees. In these tree structures, leaves represent class labels and branches represent conjunctions of features that lead to those class labels. Decision trees where the target variable can take continuous values (typically real numbers) are called regression trees.</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e570" rowspan="1" colspan="1">2</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e572" rowspan="1" colspan="1">Simple Regression</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e574" rowspan="1" colspan="1">In statistics, simple linear regression is the least squares estimator of a linear regression model with a single explanatory variable. In other words, simple linear regression fits a straight line through the set of n points in such a way that makes the sum of squared residuals of the model (that is, vertical distances between the points of the data set and the fitted line) as small as possible</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e570" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e572" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d392161e574" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="vek1524580064974__section_c14_rcl_pdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NGramSplitter_MLE (
  ON paragraphs_input
  USING
  TextColumn ('paratext')
  Delimiter (' ')
  Grams ('4-6')
  OverLapping ('true')
  ConvertToLowerCase ('true')
  Reset ('[.,?!]')
  Punctuation ('[`~#^&amp;*()-]')
  OutputTotalGramCount ('true')
  Accumulate ('paraid', 'paratopic')
) AS dt ORDER BY paraid, paratopic, ngram;</code></pre></div><div class="section" id="vek1524580064974__section_wzb_scl_pdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> paraid paratopic                 ngram                                                     n frequency totalcnt 
 ------ ------------------------- --------------------------------------------------------- - --------- -------- 
      1 decision trees            a decision tree as                                        4         1       73
      1 decision trees            a decision tree as a                                      5         1       66
      1 decision trees            a decision tree as a predictive                           6         1       60
      1 decision trees            a finite set of                                           4         1       73
      1 decision trees            a finite set of values                                    5         1       66
      1 decision trees            a finite set of values are                                6         1       60
      1 decision trees            a predictive model which                                  4         1       73
      1 decision trees            a predictive model which maps                             5         1       66
      1 decision trees            a predictive model which maps observations                6         1       60
      ...
      2 simple regression         a linear regression model                                 4         1       55
      2 simple regression         a linear regression model with                            5         1       52
      2 simple regression         a linear regression model with a                          6         1       49
      2 simple regression         a single explanatory variable                             4         1       55
      2 simple regression         a straight line through                                   4         1       55
      2 simple regression         a straight line through the                               5         1       52
      2 simple regression         a straight line through the set                           6         1       49
      2 simple regression         a way that makes                                          4         1       55
      2 simple regression         a way that makes the                                      5         1       52
      ...</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div><div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="wzv1524580127574" xml:lang="en-us" lang="en-us" id="wzv1524580127574">
<h3 class="title topictitle3" id="ariaid-title8">NGramSplitter_MLE Example: Overlapping ('false'), OutputTotalGramCount ('false')</h3><div class="body refbody"><div class="section" id="wzv1524580127574__section_N10011_N1000E_N10001">
<h4 class="title sectiontitle">Input</h4>
<ul class="ul" id="wzv1524580127574__ul_yqr_ky1_j2b">
<li class="li">Input Table: paragraphs_input, as in <a href="rkv1541541150023.md#vek1524580064974">NGramSplitter_MLE Example: Overlapping ('true'), OutputTotalGramCount ('true')</a></li></ul></div><div class="section" id="wzv1524580127574__section_c14_rcl_pdb">
<h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NGramSplitter_MLE (
  ON paragraphs_input
  USING
  TextColumn ('paratext')
  Delimiter (' ')
  Grams ('4-6')
  OverLapping ('false')
  ConvertToLowerCase ('true')
  OutputTotalGramCount ('false')
  Accumulate ('paraid', 'paratopic')
) AS dt ORDER BY paraid, paratopic, ngram;</code></pre></div><div class="section" id="wzv1524580127574__section_wzb_scl_pdb">
<h4 class="title sectiontitle">Output</h4><pre class="pre screen" xml:space="preserve"> paraid paratopic                 ngram                                                   n frequency 
 ------ ------------------------- ------------------------------------------------------- - --------- 
      1 decision trees            a decision tree as                                      4         1
      1 decision trees            a finite set of                                         4         1
      1 decision trees            a predictive model which                                4         1
      1 decision trees            an item to conclusions about                            5         1
      1 decision trees            and branches represent conjunctions                     4         1
      1 decision trees            branches represent conjunctions of features             5         1
      1 decision trees            can take a finite set of                                6         1
      1 decision trees            can take continuous values typically real               6         1
      ...
      2 simple regression         a straight line through                                 4         1
      2 simple regression         a way that makes the                                    5         1
      2 simple regression         least squares estimator of a                            5         1
      2 simple regression         line as small as                                        4         1
      2 simple regression         line through the set of n                               6         1
      2 simple regression         linear regression model with a                          5         1
      2 simple regression         makes the sum of squared residuals                      6         1
      2 simple regression         model with a single                                     4         1
      ...</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></div></body></html>
