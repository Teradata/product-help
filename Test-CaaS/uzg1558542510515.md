<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="zfa1507236147591" id="zfa1507236147591"><h1 class="title topictitle1" id="ariaid-title1">TextClassifierEvaluator</h1><div class="body conbody">
<p class="p">The TextClassifierEvaluator function evaluates the precision, recall, and F-measure of the trained model output by the function <a href="lhi1558542137898.md#mdp1507235149305">TextClassifier</a>.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="ofo1507236256881" xml:lang="en-us" lang="en-us" id="ofo1507236256881">
<h2 class="title topictitle2" id="ariaid-title2">TextClassifierEvaluator Syntax</h2><div class="body refbody"><div class="section" id="ofo1507236256881__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version 1.3</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM TextClassifierEvaluator (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY 1
  USING
  ObservationColumn ('<var class="keyword varname">observation_column</var>')
  PredictColumn ('<var class="keyword varname">predicted_column</var>')
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="pfb1507236373839" xml:lang="en-us" lang="en-us" id="pfb1507236373839">
<h2 class="title topictitle2" id="ariaid-title3">TextClassifierEvaluator Syntax Elements</h2><div class="body refbody"><div class="section" id="pfb1507236373839__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">ObservationColumn</dt><dd class="dd pd">Specify the name of the input column that contains the expected (correct) category.</dd><dt class="dt pt dlterm">PredictColumn</dt><dd class="dd pd">Specify the name of the input column that contains the predicted category (assigned by the function TextClassifier).</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="yze1507236471519" xml:lang="en-us" lang="en-us" id="yze1507236471519">
<h2 class="title topictitle2" id="ariaid-title4">TextClassifierEvaluator Input</h2><div class="body refbody"><div class="section" id="yze1507236471519__section_o3c_r1d_ycb">
<h3 class="title sectiontitle">Input Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="yze1507236471519__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:23.076923076923077%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:61.53846153846154%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d395733e135" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d395733e137" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d395733e139" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e135" rowspan="1" colspan="1"><var class="keyword varname">observation_column</var></td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e137" rowspan="1" colspan="1">VARCHAR</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d395733e139" rowspan="1" colspan="1">Expected (correct) category.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d395733e135" rowspan="1" colspan="1"><var class="keyword varname">predicted_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d395733e137" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d395733e139" rowspan="1" colspan="1">Predicted category (assigned by TextClassifier function).</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="bnu1507237286962" xml:lang="en-us" lang="en-us" id="bnu1507237286962">
<h2 class="title topictitle2" id="ariaid-title5">TextClassifierEvaluator Output</h2><div class="body refbody"><div class="section" id="bnu1507237286962__section_atb_p1d_ycb">
<h3 class="title sectiontitle">Output Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="bnu1507237286962__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:23.076923076923077%" span="1"></col><col style="width:15.384615384615385%" span="1"></col><col style="width:61.53846153846154%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d395733e177" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d395733e179" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d395733e181" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e177" rowspan="1" colspan="1">precision_val</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e179" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d395733e181" rowspan="1" colspan="1">Precision of model.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e177" rowspan="1" colspan="1">recall</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d395733e179" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d395733e181" rowspan="1" colspan="1">Recall of model.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d395733e177" rowspan="1" colspan="1">f_measure</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d395733e179" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d395733e181" rowspan="1" colspan="1">F-measure of model.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="elv1510349038455" xml:lang="en-us" lang="en-us" id="elv1510349038455">
<h2 class="title topictitle2" id="ariaid-title6">TextClassifierEvaluator Example</h2><div class="body refbody"><div class="section" id="elv1510349038455__section_f25_ljt_pdb">
<h3 class="title sectiontitle">Input</h3>
<ul class="ul" id="elv1510349038455__ul_mln_dkt_pdb">
<li class="li">Input table: <a href="lhi1558542137898.md#nid1510348931679">TextClassifier Example</a> output table</li>
<li class="li">Model file: knn.bin, output by <a href="qqb1558542100825.md#bvk1507219920237">TextClassifierTrainer Example</a></li></ul></div><div class="section" id="elv1510349038455__section_hth_mjt_pdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM TextClassifierEvaluator (
  ON TextClassifier (
    ON (SELECT * FROM textclassifier_input)
    USING
    TextColumn ('content')
    Accumulate ('category')
    Model ('knn.bin')
  ) AS dt1 PARTITION BY 1
  USING
  ObservationColumn ('category')
  PredictColumn ('out_category')
) AS dt2;</code></pre></div><div class="section" id="elv1510349038455__section_fr1_njt_pdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> precision_val      recall             f_measure          
 ------------------ ------------------ ------------------ 
 0.8333333333333334 0.8333333333333334 0.8333333333333334</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
