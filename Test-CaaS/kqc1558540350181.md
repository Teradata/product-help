<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="mdm1507649775932" id="mdm1507649775932"><h1 class="title topictitle1" id="ariaid-title1">Named Entity Finder Evaluator</h1><div class="body conbody">
<p class="p">The NamedEntityFinderEvaluatorMap and NamedEntityFinderEvaluatorReduce functions operate as a row and a partition function, respectively. Each function takes a set of evaluating data and creates the precision, recall, and F-measure values of a specified maximum entropy data model. Neither function supports regular-expression-based or dictionary-based models.</p></div><div class="related-links"><div class="linklistheader"><p></p><b>Related Information</b></div>
<ul class="linklist linklist relinfo"><div class="linklistmember"><a href="qym1549987102806.md">Nondeterministic Results and UniqueID Syntax Element</a></div></ul></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="rio1507649945137" xml:lang="en-us" lang="en-us" id="rio1507649945137">
<h2 class="title topictitle2" id="ariaid-title2">Named Entity Finder Evaluator Syntax</h2><div class="body refbody"><div class="section" id="rio1507649945137__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">NamedEntityFinderEvaluatorReduce version <span>1.3</span>, NamedEntityFinderEvaluatorMap version <span>1.4</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NamedEntityFinderEvaluatorReduce (
  ON NamedEntityFinderEvaluatorMap (
    <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
    USING
    TextColumn ('<var class="keyword varname">text_column</var>')
    InputModelFile ('<var class="keyword varname">input_model_file</var>')
  ) AS <var class="keyword varname">alias_1</var> PARTITION BY 1
) AS <var class="keyword varname">alias_2</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="aui1507650041468" xml:lang="en-us" lang="en-us" id="aui1507650041468">
<h2 class="title topictitle2" id="ariaid-title3">Named Entity Finder Evaluator Syntax Elements</h2><div class="body refbody"><div class="section" id="aui1507650041468__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TextColumn</dt><dd class="dd pd">Specify the name of the input table column that contains the text to analyze.</dd><dt class="dt pt dlterm">InputModelFile</dt><dd class="dd pd">Specify name of the model file to evaluate.</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="nmu1507650106545" xml:lang="en-us" lang="en-us" id="nmu1507650106545">
<h2 class="title topictitle2" id="ariaid-title4">NamedEntityFinderEvaluatorMap Input</h2><div class="body refbody"><div class="section" id="nmu1507650106545__section_njv_hqc_ycb">
<h3 class="title sectiontitle">Input Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="nmu1507650106545__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:17.24137931034483%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:68.96551724137932%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d405989e144" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d405989e146" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d405989e148" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d405989e144" rowspan="1" colspan="1"><var class="keyword varname">text_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d405989e146" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e148" rowspan="1" colspan="1">Text to analyze. Within the text, each entity must be identified with this syntax:<pre class="pre codeblock" xml:space="preserve"><code><START:<var class="keyword varname">entity_type</var>> <var class="keyword varname">entity</var> <END></code></pre>
<p class="p">For example:</p><pre class="pre codeblock" xml:space="preserve"><code><START:location>Country1<END> has arrived</code></pre></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="gvx1507650176292" xml:lang="en-us" lang="en-us" id="gvx1507650176292">
<h2 class="title topictitle2" id="ariaid-title5">NamedEntityFinderEvaluatorReduce Output</h2><div class="body refbody"><div class="section" id="gvx1507650176292__section_svc_gqc_ycb">
<h3 class="title sectiontitle">Output Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="gvx1507650176292__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:16.666666666666664%" span="1"></col><col style="width:16.666666666666664%" span="1"></col><col style="width:66.66666666666666%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d405989e190" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d405989e192" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d405989e194" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d405989e190" rowspan="1" colspan="1">precision_val</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d405989e192" rowspan="1" colspan="1">INTEGER</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d405989e194" rowspan="1" colspan="1">Precision value of the model.</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d405989e190" rowspan="1" colspan="1">recall</td><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d405989e192" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d405989e194" rowspan="1" colspan="1">Recall value of the model.</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d405989e190" rowspan="1" colspan="1">f_measure</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d405989e192" rowspan="1" colspan="1">DOUBLE PRECISION</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e194" rowspan="1" colspan="1">F-measure (F<span><sub>1</sub></span> score) of the model.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="uhp1507650264997" xml:lang="en-us" lang="en-us" id="uhp1507650264997">
<h2 class="title topictitle2" id="ariaid-title6">Named Entity Finder Evaluator Example</h2><div class="body refbody"><div class="section" id="uhp1507650264997__section_tvv_qzk_pdb">
<h3 class="title sectiontitle">Input</h3>
<ul class="ul" id="uhp1507650264997__ul_u2c_sw1_j2b">
<li class="li">Input Table: nermem_sports_test, which has rows of sports news</li>
<li class="li"><var class="keyword varname">model_file</var>: location.sports, output by <a href="xpb1558540285690.md#eja1507218101866">NamedEntityFinderTrainer Example</a></li></ul><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="uhp1507650264997__table_nx4_wzk_pdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span>Input Table: nermem_sports_test</span></div><colgroup span="1"><col style="width:50%" span="1"></col><col style="width:50%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d405989e268" rowspan="1" colspan="1">id</th><th class="entry cellrowborder" style="vertical-align:top;" id="d405989e270" rowspan="1" colspan="1">content</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">3</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1"><START:LOCATION> LONDON <END> 1996-08-30</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">4</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">West Indian all-rounder <START:PER> Phil Simmons <END> took four for 38 on Friday as <START:ORG> Leicestershire <END> beat <START:ORG> Somerset <END> by an innings and 39 runs in two days to take over at the head of the county championship .</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">6</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">After bowling <START:ORG> Somerset <END> out for 83 on the opening morning at <START:LOCATION> Grace Road <END></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">9</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1"><START:PER> Hussain <END></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">10</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">By the close <START:ORG> Yorkshire <END> had turned that into a 37-run advantage but off-spinner <START:PER> Such <END> had scuttled their hopes</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">11</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">At the <START:LOCATION> Oval <END></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">12</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">He was well backed by <START:LOCATION> England <END> hopeful <START:PER> Mark Butcher <END> who made 70 as <START:ORG> Surrey <END> closed on 429 for seven</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">14</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">Australian <START:PER> Tom Moody <END> took six for 82 but <START:PER> Chris Adams <END></td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">16</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">They were held up by a gritty 84 from <START:PER> Paul Johnson <END> but ex-England fast bowler <START:PER> Martin McCague <END> took four for 55 .</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">20</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1"><START:LOCATION> LONDON <END> 1996-08-30</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">22</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1"><START:LOCATION> Leicester <END> : <START:ORG> Leicestershire <END> beat <START:ORG> Somerset <END> by an innings and 39 runs .</td></tr><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e268" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d405989e270" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="uhp1507650264997__section_bdf_rzk_pdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NamedEntityFinderEvaluatorReduce (
  ON NamedEntityFinderEvaluatorMap (
    ON nermem_sports_test
    USING
    InputModelFile ('location.sports')
    TextColumn ('content')
  ) PARTITION BY 1
) AS dt;</code></pre></div><div class="section" id="uhp1507650264997__section_q2p_rzk_pdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> precision_val     recall             f_measure         
 ----------------- ------------------ ----------------- 
 0.847457627118644 0.7936507936507936 0.819672131147541</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
