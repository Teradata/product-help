<html><head></head><body><div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="woh1507217729138" id="woh1507217729138"><h1 class="title topictitle1" id="ariaid-title1">NamedEntityFinderTrainer</h1><div class="body conbody">
<p class="p">The NamedEntityFinderTrainer function takes training data and outputs a Maximum Entropy data model. The function is based on OpenNLP, and follows its annotation. For more information on OpenNLP, see <a class="xref" href="https://opennlp.apache.org/docs/1.8.4/manual/opennlp.html" target="_blank" title="" shape="rect">https://opennlp.apache.org/docs/1.8.4/manual/opennlp.html</a>.</p>
<p class="p">The trainer supports only the English language.</p>
<p class="p">NamedEntityFinder uses files that are preinstalled on <span><b>ML Engine</b></span>. For details, see <a href="tzu1557778477026.md">Preinstalled Files That Functions Use</a>.</p></div><div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="wmt1507217804883" xml:lang="en-us" lang="en-us" id="wmt1507217804883">
<h2 class="title topictitle2" id="ariaid-title2">NamedEntityFinderTrainer Syntax</h2><div class="body refbody"><div class="section" id="wmt1507217804883__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Version <span>1.6</span></h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NamedEntityFinderTrainer (
  <span>ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY 1
  USING
  OutputModelFile (<var class="keyword varname">output_model_file</var>)
  TextColumn ('<var class="keyword varname">text_column</var>')
  EntityType ('<var class="keyword varname">entity_type</var>')
  [ IterNum (<var class="keyword varname">iterator</var>)]
  [ Cutoff (<var class="keyword varname">cutoff</var>)]
) AS <var class="keyword varname">alias</var>;</code></pre></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="iua1507217902971" xml:lang="en-us" lang="en-us" id="iua1507217902971">
<h2 class="title topictitle2" id="ariaid-title3">NamedEntityFinderTrainer Syntax Elements</h2><div class="body refbody"><div class="section" id="iua1507217902971__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputModelFile</dt><dd class="dd pd">Specify the name of the data model file to create.</dd><dt class="dt pt dlterm">TextColumn</dt><dd class="dd pd">Specify the name of the input table column that contains the text to analyze.</dd><dt class="dt pt dlterm">EntityType</dt><dd class="dd pd">Specify the entity type to train (for example, PERSON). The input training documents must contain the same tag.</dd><dt class="dt pt dlterm">IterNum</dt><dd class="dd pd">[Optional] Specify the iterator number for training (an openNLP training parameter).</dd><dd class="dd pd ddexpand">Default: 100</dd><dt class="dt pt dlterm">Cutoff</dt><dd class="dd pd">[Optional] Specify the cutoff number for training (an openNLP training parameter).</dd><dd class="dd pd ddexpand">Default: 5</dd></dl></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="rhu1507217955226" xml:lang="en-us" lang="en-us" id="rhu1507217955226">
<h2 class="title topictitle2" id="ariaid-title4">NamedEntityFinderTrainer Input</h2><div class="body refbody"><div class="section" id="rhu1507217955226__section_zfd_54c_ycb">
<h3 class="title sectiontitle">Input Table Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="rhu1507217955226__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:17.24137931034483%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:68.96551724137932%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d85019e178" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d85019e180" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d85019e182" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d85019e178" rowspan="1" colspan="1"><var class="keyword varname">text_column</var></td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d85019e180" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d85019e182" rowspan="1" colspan="1">Text to analyze. Within the text, each entity must be identified with this syntax:<pre class="pre codeblock" xml:space="preserve"><code><START:<var class="keyword varname">entity_type</var>><var class="keyword varname">entity</var><END></code></pre>
<p class="p">For example:</p><pre class="pre codeblock" xml:space="preserve"><code><START:location>Country1<END> has arrived</code></pre></td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="bod1507218017441" xml:lang="en-us" lang="en-us" id="bod1507218017441">
<h2 class="title topictitle2" id="ariaid-title5">NamedEntityFinderTrainer Output</h2><div class="body refbody"><div class="section" id="bod1507218017441__section_N1000E_N1000C_N10001">
<p class="p">The function outputs a message and a Max Entropy model (a binary file automatically installed on <span><b>ML Engine</b></span>).</p></div><div class="section" id="bod1507218017441__section_myd_z4c_ycb">
<h3 class="title sectiontitle">Output Message Schema</h3><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="bod1507218017441__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup span="1"><col style="width:17.24137931034483%" span="1"></col><col style="width:13.793103448275861%" span="1"></col><col style="width:68.96551724137932%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d85019e230" rowspan="1" colspan="1">Column</th><th class="entry nocellnorowborder" style="vertical-align:top;" id="d85019e232" rowspan="1" colspan="1">Data Type</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d85019e234" rowspan="1" colspan="1">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d85019e230" rowspan="1" colspan="1">train_result</td><td class="entry row-nocellborder" style="vertical-align:top;" headers="d85019e232" rowspan="1" colspan="1">VARCHAR</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d85019e234" rowspan="1" colspan="1">Message indicating whether the function ran successfully.</td></tr></tbody></table></div></div></div></div><div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="eja1507218101866" xml:lang="en-us" lang="en-us" id="eja1507218101866">
<h2 class="title topictitle2" id="ariaid-title6">NamedEntityFinderTrainer Example</h2><div class="body refbody"><div class="section" id="eja1507218101866__section_N1000E_N1000C_N10001">
<h3 class="title sectiontitle">Input</h3>
<ul class="ul" id="eja1507218101866__ul_u2c_sw1_j2b">
<li class="li">Input Table: nermem_sports_train, which has 50 rows of sports news</li></ul><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="eja1507218101866__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"><span>Input Table: nermem_sports_train</span></div><colgroup span="1"><col style="width:7.6923076923076925%" span="1"></col><col style="width:92.3076923076923%" span="1"></col></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d85019e278" rowspan="1" colspan="1">id</th><th class="entry cell-norowborder" style="vertical-align:top;" id="d85019e280" rowspan="1" colspan="1">content</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">2</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">CRICKET - <START:ORG> LEICESTERSHIRE <END> TAKE OVER AT TOP AFTER INNINGS VICTORY .</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">3</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1"><START:LOCATION> LONDON <END> 1996-08-30</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">4</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">West Indian all-rounder <START:PER> Phil Simmons <END> took four for 38 on Friday as <START:ORG> Leicestershire <END> beat <START:ORG> Somerset <END> by an innings and 39 runs in two days to take over at the head of the county championship .</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">5</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">Their stay on top</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">6</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">After bowling <START:ORG> Somerset <END> out for 83 on the opening morning at <START:LOCATION> Grace Road <END></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">7</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">Trailing by 213</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">8</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1"><START:ORG> Essex <END></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">9</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1"><START:PER> Hussain <END></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">10</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">By the close <START:ORG> Yorkshire <END> had turned that into a 37-run advantage but off-spinner <START:PER> Such <END> had scuttled their hopes</td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">11</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">At the <START:LOCATION> Oval <END></td></tr><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">12</td><td class="entry cell-norowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">He was well backed by <START:LOCATION> England <END> hopeful <START:PER> Mark Butcher <END> who made 70 as <START:ORG> Surrey <END> closed on 429 for seven</td></tr><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d85019e278" rowspan="1" colspan="1">...</td><td class="entry cellrowborder" style="vertical-align:top;" headers="d85019e280" rowspan="1" colspan="1">...</td></tr></tbody></table></div></div><div class="section" id="eja1507218101866__section_zmn_jf3_cdb">
<h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock" xml:space="preserve"><code>SELECT * FROM NamedEntityFinderTrainer (
  ON nermem_sports_train PARTITION BY 1
  USING
  EntityType ('LOCATION')
  TextColumn ('content')
  OutputModelFile (location.sports)
) AS dt;</code></pre></div><div class="section" id="eja1507218101866__section_wp5_jf3_cdb">
<h3 class="title sectiontitle">Output</h3><pre class="pre screen" xml:space="preserve"> train_result    
 --------------- 
 model installed</pre>
<p class="p">The model table, location.sports, is in binary format.</p>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the attachment in the left sidebar.</p></div></div></div></div></body></html>
